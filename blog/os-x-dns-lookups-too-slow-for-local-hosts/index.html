<!DOCTYPE HTML><html><head><meta charset=utf-8><title>OS X DNS lookups too slow for local hosts || gotofritz</title><meta name=author content=gotofritz><meta name=description content="OS can sometimes take forever to resolve hosts setup on my local machine. Here is how I solved it."><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link href=/assets/favicon.ico rel="shortcut icon"><link rel=icon href=/assets/favicon.gif type=image/gif><link href=/assets/css/screen.css media="screen, projection" rel=stylesheet type=text/css></head><body class=content-post><div class=gradient-container><main class=panel-container><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=/ >home</a><form class=search action=https://google.com/search><input id=search-str name=q results=0 placeholder=search> <input type=hidden name=q value=site:gotofritz.net></form></div></nav><article><section class=intro><div class=post-meta><time datetime=2015-04-24T13:03:00+02:00 pubdate>2015-04-24</time> //<div class=tags>networks, os x</div></div><h1>OS X DNS lookups too slow for local hosts</h1><h2>OS can sometimes take forever to resolve hosts setup on my local machine. Here is how I solved it.</h2></section><section class=post-content>I have several local hosts set up on my dev OS X machine in my <code>/etc/hosts</code> file . The browser hangs for several seconds while trying to load them. Which doesn&#x2019;t make any sense, since they are local. The solution is to change the hosts file so that all hosts are on one line, the very first line where localhost is defined.<p></p><p>In other words, change from this&#x2026;</p><pre class=language-bash><code class=language-bash><span class="token number">127.0</span>.0.1       localhost
<span class="token number">255.255</span>.255.255 broadcasthost
::1             localhost
fe80::1%lo0     localhost
<span class="token number">127.0</span>.0.1       my-host.dev
<span class="token number">127.0</span>.0.1       another-host.dev
<span class="token number">127.0</span>.0.1       oh-that-host.dev
</code></pre><p>&#x2026;to this.</p><pre class=language-bash><code class=language-bash><span class="token number">127.0</span>.0.1       localhost  my-host.dev another-host.dev oh-that-host.dev
<span class="token number">255.255</span>.255.255 broadcasthost
::1             localhost
fe80::1%lo0     localhost
</code></pre><p>It doesn&#x2019;t make sense, but it works and that&#x2019;s all that matters. It&#x2019;s probably an OS X bug which at some point will be fixed.</p><p><small>Answer from <a href=http://stackoverflow.com/questions/10064581/how-can-i-eliminate-slow-resolving-loading-of-localhost-virtualhost-a-2-3-secon>Stack Overflow</a></small></p></section></article></div><footer><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=https://github.com/gotofritz>github</a> <a href=https://twitter.com/gotofritz>twitter</a> <a href=https://www.linkedin.com/in/gotofritz>linkedin</a> <a href=/feed.xml>rss</a></div></nav></div><div class=content>All content by Fritz Stelluto. I have been a developer and technical manager in the digital media industry since the 90s. I relocated a few years ago from London to Berlin.</div><div class=content>All content under <a href=http://creativecommons.org/licenses/by-nc-sa/2.0/de/ >creative commons</a> and code under <a href=http://mit-license.org/ >MIT license</a>.</div></footer></main></div><script type=text/javascript>var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11254155-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();</script></body></html>