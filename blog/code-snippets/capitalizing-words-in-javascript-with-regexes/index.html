<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>Capitalizing words in Javascript with RegExes || Fritz Stelluto</title>
  <meta name="author" content="gotofritz">
  <meta name="description" content="An example of how to use functions in JS regular expressions is to imitate the /e flag other languages have.">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link href="/assets/favicon.ico" rel="shortcut icon">
  <link rel="icon" href="/assets/favicon.gif" type="image/gif" />
  <link href="/assets/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
</head>

<body ontouchstart="">
  <header id="header" class="inner">
    <nav id="main-nav">
      <div>
        <a href="/">home</a>
        <a href="/blog/">blog</a>
      </div>
    </nav>

    <nav id="sub-nav" class="alignright">
      <form class="search" action="http://google.com/search" method="get">
        <input class="alignright" type="text" name="q" results="0">
        <input type="hidden" name="q" value="site:gotofritz.net">
      </form>
    </nav>
  </header>


<div id="content" class="inner">
  <article class="post">
    <h1 class="title">Capitalizing words in Javascript with RegExes</h1>
    <div>
      <div class="meta">
        <div class="date">
          <time datetime="2012-02-21T14:44:00+01:00" pubdate>2012-02-21</time>
        </div>
        <div class="tags">
          regexp,
          javascript
        </div>
      </div>
      <div class="entry-content">
    
<p>An example of how to use functions in JS regular expressions is to imitate the /e flag other languages have.
<!--more--></p>
<pre><code>&quot;abb Cdd-Eff.ghh 1AAA&quot;.toLowerCase()
  .replace(/(^|[^a-z0-9-])([a-z])/g,
    function(m, m1, m2, p) {
      return m1 + m2.toUpperCase();
    });
//output: Abb Cdd-eff.Ghh 1aaa
</code></pre><p>Breaking it down:</p>
<p><ul class="code-breakdown"></p>
<p><dt>&quot;abb Cdd-Eff.ghh 1AAA&quot;</dt></p>
<dd>an anonymous string literal I am using on the console to test</dd>

<p><dt>.toLowerCase()</dt></p>
<dd>make it all lower case first. Normal string methods apply even to anonymous strings not initialised with new String( &quot;blah&quot; );</dd>

<p><dt>.replace(</dt></p>
<dd>start the regular expression fun</dd>

<p><dt>/ .... /g</dt></p>
<dd>replace takes either a regular expression or a string (which will be transformed into a regular expression) as first argument. Here a regular expression with the flag g, global, is used, meaning the regular expression wil be run until the end of the string and all matches collected</dd>

<p><dt>(^</dt></p>
<dd>match whatever is before the beginning of a word - the start of the string...</dd>

<p><dt>|</dt></p>
<dd>...or...</dd>

<p><dt>[^a-z0-9-])</dt></p>
<dd>a character which is neither a letter, a digit, nor the dash. Note that the dash between a-z and 0-9 represents a range, while the one at the very end is just a dash</dd>

<p><dt>, function(</dt></p>
<dd>the second arguments to replace is often a string, but it can also be a function. As the RegExp was created with the g flag, this function will be called for every match - i.e., in this case, for every word.</dd>

<p><dt>m,</dt></p>
<dd>the arguments passed to the function are similar to those returned by the match method. The first one is the complete matched string (not used in this function)</dd>

<p><dt>m1, m2</dt></p>
<dd>these are matches - i.e. the expression inside the parentheses, i.e. the character before the start of a word and the first character of the word respectively</dd>

<p><dt>p)</dt></p>
<dd>the last argument is the position in the string where the match start - not used in this function</dd>

<p><dt class="long-line">{ return m1 + m2.toUpperCase(); }</dt></p>
<p><dd class="long-line">the body of the function puts strings back into the initial, anonymous strings with some manipulation. m1 is puts back where it was found,  and m2 is capitalized before putting it back. The remaining characters were not matched therefore will not be touched.</p>
<p>Note that this regular expression is not UTF safe, i.e. special characters such as umlauts etc will not be treated correctly.</p>

      </div>
    </div>
  </article>


<!-- <section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>

  </div>
  -->
  <footer id="footer" class="inner">Copyright &copy; 2016

    Fritz Stelluto

</footer>
<!--
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'goto-fritz';


        // var disqus_developer = 1;
        var disqus_identifier = 'http://gotofritz.net/blog/geekery/backing-up-hard-disk-os-x/';
        var disqus_url = 'http://gotofritz.net/blog/geekery/backing-up-hard-disk-os-x/';
        var disqus_script = 'embed.js';

    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-11254155-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

-->

</body>
</html>