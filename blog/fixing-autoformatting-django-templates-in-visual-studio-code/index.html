<!DOCTYPE HTML><html lang=en><head><meta charset=utf-8><title>Fixing autoformatting Django templates in Visual Studio Code || gotofritz</title><meta name=author content=gotofritz><meta name=description content="Prettier autoformatting screws up Django html templates in Visual Studio Code. For example, it puts tags on the same line when they shouldn&amp;#x2019;t be. The fix is pretty simple and involves a couple of different formatting extension."><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5"><link href=/assets/favicon.ico rel="shortcut icon"><link rel=icon href=/assets/favicon.gif type=image/gif><link href=/assets/css/screen.css media="screen, projection" rel=stylesheet type=text/css><link rel=preconnect href=https://stats.g.doubleclick.net><link rel=preconnect href=https://ssl.google-analytics.com></head><body class=content-post><div class=gradient-container><main class=panel-container><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=/ >home</a><form class=search action=https://google.com/search><input id=search-str name=q results=0 placeholder=search aria-label=search> <input type=hidden name=q value=site:gotofritz.net></form></div></nav><article><section class=intro><div class=post-meta><time datetime=2022-03-24T01:00:00+01:00 pubdate>2022-03-24</time> //<div class=tags>django, visual studio code</div></div><h1>Fixing autoformatting Django templates in Visual Studio Code</h1><h2>Prettier autoformatting screws up Django html templates in Visual Studio Code. For example, it puts tags on the same line when they shouldn&#x2019;t be. The fix is pretty simple and involves a couple of different formatting extension.</h2></section><section class=post-content>This post consolidates the information I got the information from a couple of <abbr title="Stack Overflow">SO</abbr> answers.<p></p><ol><li><p>Install the <a href=https://github.com/vscode-django/vscode-django>Django</a> extension. It will give you some snippets, and syntax higlighting. But most important, it will add the <code>django-html</code> filetype to <abbr title="Visual Studio Code">VSC</abbr></p></li><li><p>Install the <a href=https://github.com/HookyQR/VSCodeBeautify>Beautify</a> extension. This will replace Prettier for those specific files</p></li><li><p>Open the User settings, and switch to JSON mode. You will be adding a few settings manually</p></li><li><p>The <code>files.associations</code> block could be already in your settings. If it isn&#x2019;t, you need to add it. Otherwise add the following associations to it</p><pre class=language-json><code class=language-json><span class="token property">&quot;files.associations&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;**/*.html&quot;</span><span class="token operator">:</span> <span class="token string">&quot;html&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;**/templates/*.html&quot;</span><span class="token operator">:</span> <span class="token string">&quot;django-html&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;**/templates/*&quot;</span><span class="token operator">:</span> <span class="token string">&quot;django-txt&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></li><li><p>Tell Beautify about Django templates</p><pre class=language-json><code class=language-json><span class="token property">&quot;beautify.language&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;html&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;htm&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;html&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;django-html&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></li><li><p>Replace Prettier with Beautify for Django templates. Note that <code>&quot;prettier.disableLanguages&quot;: [&quot;django-html&quot;],</code> is no longer supported by VSC.</p><pre class=language-json><code class=language-json><span class="token property">&quot;[django-html]&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;editor.defaultFormatter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HookyQR.beautify&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p>You can of course add more settings to that particular block; for example, mine is</p><pre class=language-json><code class=language-json><span class="token property">&quot;[django-html]&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;editor.defaultFormatter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HookyQR.beautify&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;editor.formatOnSave&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;editor.tabSize&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></li><li><p>If you like emmet, which is now part of VSC by default, also add</p><pre class=language-json><code class=language-json><span class="token property">&quot;emmet.includeLanguages&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;django-html&quot;</span><span class="token operator">:</span> <span class="token string">&quot;html&quot;</span>
<span class="token punctuation">}</span></code></pre></li></ol><h2 id=further-reading>Further reading</h2><p>I got some of the information from <a href=https://stackoverflow.com/questions/42170561/vscode-html-autoformat-on-django-template>this SO answer</a> and <a href=https://stackoverflow.com/questions/55175822/there-is-no-document-formatter-for-django-html-files-installed/63091040#63091040>this other SO answer</a></p></section></article></div><footer><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=https://github.com/gotofritz>github</a> <a href=https://twitter.com/gotofritz>twitter</a> <a href=https://www.linkedin.com/in/gotofritz>linkedin</a> <a href=/feed.xml>rss</a></div></nav></div><div class=content>All content by Fritz Stelluto. I have been a developer and technical manager in the digital media industry since the 90s. I relocated a few years ago from London to Berlin.</div><div class=content>All content under <a href=http://creativecommons.org/licenses/by-nc-sa/2.0/de/ >creative commons</a> and code under <a href=http://mit-license.org/ >MIT license</a>.</div></footer></main></div><script type=text/javascript>var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11254155-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();</script></body></html>