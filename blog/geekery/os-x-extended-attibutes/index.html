
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Dealing with extended attributes on OS X - Fabrizio (Fritz) Stelluto</title>
	<meta name="author" content="">

	
	<meta name="description" content="Extended attributes store extra information about files in OS X. They replaced resource forks. Sometimes those extra hidden files confuse peripherals &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Fabrizio (Fritz) Stelluto" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
	<link rel="icon" href="/favicon.gif" type="image/gif" />
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	
</head>


<body ontouchstart="">

  <header id="header" class="inner">
<nav id="main-nav"><div>
  <a class="rss" href="/atom.xml" title="RSS">RSS</a>
  <a href="/">home</a>
  <a href="/blog/">blog</a>
</div></nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><div>
  <a class="rss" href="/atom.xml" title="RSS">RSS</a>
  <a href="/">home</a>
  <a href="/blog/">blog</a>
</div></div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:gotofritz.net">
			</form>
		</div>
	</div>
</nav>

<nav id="sub-nav" class="alignright">
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:gotofritz.net">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">
    
    <article class="post">
	<h1 class="title">Dealing With Extended Attributes on OS X</h1>
	<div>
		<div class="meta">
			<div class="date">








  


<time datetime="2012-08-25T15:55:17+02:00" pubdate data-updated="true">2012-08-25, Sat</time></div>
			<div class="tags">


	<a class='category' href='/blog/cat/geekery/'>Geekery</a>


</div>
			
				<span class="comments"><a href="/blog/geekery/os-x-extended-attibutes#disqus_thread">Comments</a></span>
			
		</div>
		<div class="entry-content"><p>Extended attributes store extra information about files in OS X. They replaced resource forks. Sometimes those extra hidden files confuse peripherals (e.g. mp3 players) that were not setup to deal with them.  Here are some terminal commands to handle them.</p>

<!--more-->




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt; ls -al
</span><span class='line'>-rw-r--r--@   1 me  staff     962 22 Aug 22:06 .bash_profile
</span><span class='line'>drwxr-xr-x  119 me  staff    4046 28 Jul 19:03 Bluetooth
</span><span class='line'>drwx------+  14 me  staff     476 25 Aug 12:18 Desktop
</span><span class='line'>drwx------+  14 me  staff     476 25 Aug 09:42 Documents
</span><span class='line'>drwx------+   7 me  staff     238 25 Aug 09:42 Downloads
</span><span class='line'>drwx------@  20 me  staff     680 25 Aug 09:42 Dropbox
</span><span class='line'>drwxr-xr-x@  20 me  staff     680 25 Aug 09:42 Google Drive
</span></code></pre></td></tr></table></div></figure>


<p>The @ sign you get in the listing with the -l option tells you that that file or folder has some extended properties.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt; ls -al@
</span><span class='line'>-rw-r--r--@   1 me  staff     962 22 Aug 22:06 .bash_profile
</span><span class='line'>  com.apple.FinderInfo        32
</span><span class='line'>  com.apple.TextEncoding      15
</span><span class='line'>drwxr-xr-x  119 me  staff    4046 28 Jul 19:03 Bluetooth
</span><span class='line'>drwx------+  14 me  staff     476 25 Aug 12:18 Desktop
</span><span class='line'>drwx------+  14 me  staff     476 25 Aug 09:42 Documents
</span><span class='line'>drwx------+   7 me  staff     238 25 Aug 09:42 Downloads
</span><span class='line'>drwx------@  20 me  staff     680 25 Aug 09:42 Dropbox
</span><span class='line'>  com.apple.FinderInfo        32
</span><span class='line'>drwxr-xr-x@  20 me  staff     680 25 Aug 09:42 Google Drive
</span><span class='line'>  com.apple.FinderInfo        32
</span></code></pre></td></tr></table></div></figure>


<p> On OS X the ls command has an @ option, which lists the extended property for each entry, if any.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt; xattr *
</span><span class='line'>Dropbox: com.apple.FinderInfo
</span><span class='line'>Google Drive: com.apple.FinderInfo
</span></code></pre></td></tr></table></div></figure>


<p>The xattr command lets you interact with the extended attributes. Just running it by itself it will list them all, Note that it doesn&#8217;t handle hidden files though.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt; xattr -l *
</span><span class='line'>Dropbox: com.apple.FinderInfo:
</span><span class='line'>00000000  00 00 00 00 00 00 00 00 04 00 00 00 00 00 00 00  |................|
</span><span class='line'>00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  |................|
</span><span class='line'>00000020
</span><span class='line'>Google Drive: com.apple.FinderInfo:
</span><span class='line'>00000000  00 00 00 00 00 00 00 00 04 00 00 00 00 00 00 00  |................|
</span><span class='line'>00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  |................|
</span><span class='line'>00000020
</span></code></pre></td></tr></table></div></figure>


<p>The -l flag lets shows the content for all extended properties for a file. They are not always hex data.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;xattr -p com.apple.TextEncoding .bash_profile
</span><span class='line'>UTF-8;134217984
</span></code></pre></td></tr></table></div></figure>


<p> The -p flag lists the content of a specific extended attribute (in this case, com.apple.TextEncoding) for a specific file (in this case .bash_profile). This particular attribute is a string.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;xattr -w <span class="nb">test</span> <span class="s2">&quot;what is this&quot;</span> .bash_profile
</span><span class='line'>&gt;xattr -l .bash_profile
</span><span class='line'>com.apple.FinderInfo:
</span><span class='line'>00000000  54 45 58 54 00 00 00 00 00 00 00 00 00 00 00 00  |TEXT............|
</span><span class='line'>00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  |................|
</span><span class='line'>00000020
</span><span class='line'>com.apple.TextEncoding: UTF-8;134217984
</span><span class='line'><span class="nb">test</span>: what is this
</span></code></pre></td></tr></table></div></figure>


<p>-w allows you create your own extended attributes. Here one is written and then read out.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;xattr -d <span class="nb">test</span> .bash_profile
</span><span class='line'>&gt;xattr -l .bash_profile
</span><span class='line'>com.apple.FinderInfo:
</span><span class='line'>00000000  54 45 58 54 00 00 00 00 00 00 00 00 00 00 00 00  |TEXT............|
</span><span class='line'>00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  |................|
</span><span class='line'>00000020
</span><span class='line'>com.apple.TextEncoding: UTF-8;134217984
</span></code></pre></td></tr></table></div></figure>


<p>-d complements -w by allowing one to delete an extended attribute.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;xattr -d com.apple.FinderInfo *
</span></code></pre></td></tr></table></div></figure>


<p>This allows you to delete all the com.apple.FinderInfo extended attributes from all the files in a folder</p>
</div>
	</div>
</article>

<article class="archives">
  <div class="related-posts">
    <h2>Related Posts</h2>
    
      <article>
        <h3 class="title"><a href="/blog/howto/a-place-for-unix-scripts-osx">A good place for scripts in OSX</a></h3>
        <div class="meta">
          <span class="tags">


	<a class='category' href='/blog/cat/howto/'>HowTo</a>


</span>
            
          <time datetime="2012-08-25T15:55:17+02:00" pubdate>2012-08-25</time>
            
        </div>
      </article>
    
      <article>
        <h3 class="title"><a href="/blog/howto/finding-files-inside-archive">Finding files inside an archive with Terminal</a></h3>
        <div class="meta">
          <span class="tags">


	<a class='category' href='/blog/cat/howto/'>HowTo</a>


</span>
            
          <time datetime="2012-08-25T15:55:17+02:00" pubdate>2012-08-25</time>
            
        </div>
      </article>
    
      <article>
        <h3 class="title"><a href="/blog/howto/finding-recently-changed-files-osx-terminal">Finding recently changed files with Terminal</a></h3>
        <div class="meta">
          <span class="tags">


	<a class='category' href='/blog/cat/howto/'>HowTo</a>


</span>
            
          <time datetime="2012-08-25T15:55:17+02:00" pubdate>2012-08-25</time>
            
        </div>
      </article>
    
  </div>
</article>


<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>

    
  </div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    Fabrizio (Fritz) Stelluto

</footer>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="/javascripts/slash.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'goto-fritz';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://gotofritz.net/blog/geekery/os-x-extended-attibutes';
        var disqus_url = 'http://gotofritz.net/blog/geekery/os-x-extended-attibutes';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-11254155-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>