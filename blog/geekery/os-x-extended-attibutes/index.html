<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>Dealing with extended attributes on OS X || Fritz Stelluto</title>
  <meta name="author" content="gotofritz">
  <meta name="description" content="Extended attributes store extra information about files in OS X. They replaced resource forks. Sometimes those extra hidden files confuse peripherals (e.g. mp3 players) that were not setup to deal with them.  Here are some terminal commands to handle them.">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link href="/assets/favicon.ico" rel="shortcut icon">
  <link rel="icon" href="/assets/favicon.gif" type="image/gif" />
  <link href="/assets/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
</head>

<body ontouchstart="">
  <header id="header" class="inner">
    <nav id="main-nav">
      <div>
        <a href="/">home</a>
        <a href="/blog/">blog</a>
      </div>
    </nav>

    <nav id="sub-nav" class="alignright">
      <form class="search" action="http://google.com/search" method="get">
        <input class="alignright" type="text" name="q" results="0">
        <input type="hidden" name="q" value="site:gotofritz.net">
      </form>
    </nav>
  </header>


<div id="content" class="inner">
  <article class="post">
    <h1 class="title">Dealing with extended attributes on OS X</h1>
    <div>
      <div class="meta">
        <div class="date">
          <time datetime="2012-08-25T13:55:00+02:00" pubdate>2012-08-25</time>
        </div>
        <div class="tags">
          bash,
          os x
        </div>
      </div>
      <div class="entry-content">
    
<p>Extended attributes store extra information about files in OS X. They replaced resource forks. Sometimes those extra hidden files confuse peripherals (e.g. mp3 players) that were not setup to deal with them.  Here are some terminal commands to handle them.
<!--more--></p>
<blockquote>
<p>ls -al
        -rw-r--r--@   1 me  staff     962 22 Aug 22:06 .bash_profile
        drwxr-xr-x  119 me  staff    4046 28 Jul 19:03 Bluetooth
        drwx------+  14 me  staff     476 25 Aug 12:18 Desktop
        drwx------+  14 me  staff     476 25 Aug 09:42 Documents
        drwx------+   7 me  staff     238 25 Aug 09:42 Downloads
        drwx------@  20 me  staff     680 25 Aug 09:42 Dropbox
        drwxr-xr-x@  20 me  staff     680 25 Aug 09:42 Google Drive</p>
</blockquote>
<p>The @ sign you get in the listing with the -l option tells you that that file or folder has some extended properties.</p>
<pre><code>&gt; ls -al@
-rw-r--r--@   1 me  staff     962 22 Aug 22:06 .bash_profile
com.apple.FinderInfo      32
com.apple.TextEncoding      15
drwxr-xr-x  119 me  staff    4046 28 Jul 19:03 Bluetooth
drwx------+  14 me  staff     476 25 Aug 12:18 Desktop
drwx------+  14 me  staff     476 25 Aug 09:42 Documents
drwx------+   7 me  staff     238 25 Aug 09:42 Downloads
drwx------@  20 me  staff     680 25 Aug 09:42 Dropbox
com.apple.FinderInfo      32
drwxr-xr-x@  20 me  staff     680 25 Aug 09:42 Google Drive
com.apple.FinderInfo      32
</code></pre><p>On OS X the ls command has an @ option, which lists the extended property for each entry, if any.</p>
<pre><code>&gt; xattr *
Dropbox: com.apple.FinderInfo
Google Drive: com.apple.FinderInfo
</code></pre><p>The xattr command lets you interact with the extended attributes. Just running it by itself it will list them all, Note that it doesn&#39;t handle hidden files though.</p>
<pre><code>&gt; xattr -l *
Dropbox: com.apple.FinderInfo:
00000000  00 00 00 00 00 00 00 00 04 00 00 00 00 00 00 00  |................|
00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  |................|
00000020
Google Drive: com.apple.FinderInfo:
00000000  00 00 00 00 00 00 00 00 04 00 00 00 00 00 00 00  |................|
00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  |................|
00000020
</code></pre><p>The -l flag lets shows the content for all extended properties for a file. They are not always hex data.</p>
<pre><code>&gt; xattr -p com.apple.TextEncoding .bash_profile
UTF-8;134217984
</code></pre><p>The -p flag lists the content of a specific extended attribute (in this case, com.apple.TextEncoding) for a specific file (in this case .bash_profile). This particular attribute is a string.</p>
<pre><code>&gt; xattr -w test &quot;what is this&quot; .bash_profile
&gt; xattr -l .bash_profile
com.apple.FinderInfo:
00000000  54 45 58 54 00 00 00 00 00 00 00 00 00 00 00 00  |TEXT............|
00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  |................|
00000020
com.apple.TextEncoding: UTF-8;134217984
test: what is this
</code></pre><p>-w allows you create your own extended attributes. Here one is written and then read out.</p>
<pre><code>&gt; xattr -d test .bash_profile
&gt; xattr -l .bash_profile
com.apple.FinderInfo:
00000000  54 45 58 54 00 00 00 00 00 00 00 00 00 00 00 00  |TEXT............|
00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  |................|
00000020
com.apple.TextEncoding: UTF-8;134217984
</code></pre><p>-d complements -w by allowing one to delete an extended attribute.</p>
<blockquote>
<p>xattr -d com.apple.FinderInfo *</p>
</blockquote>
<p>This allows you to delete all the com.apple.FinderInfo extended attributes from all the files in a folder</p>

      </div>
    </div>
  </article>


<!-- <section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>

  </div>
  -->
  <footer id="footer" class="inner">Copyright &copy; 2016

    Fritz Stelluto

</footer>
<!--
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'goto-fritz';


        // var disqus_developer = 1;
        var disqus_identifier = 'http://gotofritz.net/blog/geekery/backing-up-hard-disk-os-x/';
        var disqus_url = 'http://gotofritz.net/blog/geekery/backing-up-hard-disk-os-x/';
        var disqus_script = 'embed.js';

    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-11254155-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

-->

</body>
</html>