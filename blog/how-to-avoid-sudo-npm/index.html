<!DOCTYPE HTML><html lang=en><head><meta charset=utf-8><title>How To Avoid sudo npm || gotofritz</title><meta name=author content=gotofritz><meta name=description content="You know the story. You try to do npm install hipster-package on OS X and you get a whole load of errors; the easy way out is to just use sudo npm install. Everyone, however, keep saying how that is bad idea. But how do you make npm work without sudo? It&amp;#x2019;s quite simple actually."><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5"><link href=/assets/favicon.ico rel="shortcut icon"><link rel=icon href=/assets/favicon.gif type=image/gif><link href=/assets/css/screen.css media="screen, projection" rel=stylesheet type=text/css><script async src="https://www.googletagmanager.com/gtag/js?id=G-K0CMFHZ2N0"></script><script>window.dataLayer = window.dataLayer || [];dataLayer.push('js', new Date());dataLayer.push('config', 'G-K0CMFHZ2N0');</script></head><body class=content-post><div class=gradient-container><main class=panel-container><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=/ >home</a><form class=search action=https://google.com/search><input id=search-str name=q results=0 placeholder=search aria-label=search> <input type=hidden name=q value=site:gotofritz.net></form></div></nav><article><section class=intro><div class=post-meta><time datetime=2015-12-14T22:12:00+01:00 pubdate>2015-12-14</time> //<div class=tags>npm, os x</div></div><h1>How To Avoid sudo npm</h1><h2>You know the story. You try to do npm install hipster-package on OS X and you get a whole load of errors; the easy way out is to just use sudo npm install. Everyone, however, keep saying how that is bad idea. But how do you make npm work without sudo? It&#x2019;s quite simple actually.</h2></section><section class=post-content><h2 id=on-your-dev-machine>On your dev machine</h2><p>If you are the typical js developer who works on OS X, all you need to do is just change the owner of the node binaries</p><pre class=language-bash><code class=language-bash><span class="token comment"># this should solve the problem</span>
<span class="token function">sudo</span> <span class="token function">chown</span> -R MY_USER_NAME /usr/local

<span class="token comment"># this may also help</span>
<span class="token function">sudo</span> <span class="token function">chmod</span> -R <span class="token number">777</span> ~/.npm</code></pre><p>If you are working on projects and someone has already checked in a package.json run with sudo, you need to make sure the whole team changes the permissions of at the same time</p><pre class=language-bash><code class=language-bash><span class="token comment"># if someone has checked in a version</span>
<span class="token comment"># of package.json with the wrong permissions</span>
<span class="token function">chmod</span> -775 package.json</code></pre><p>Unix purists will find this hacky; and rightly so. The <em>proper</em> way of doing is to create a group for everyone who should be allowed to run npm, even if it&#x2019;s just you. However for a simple dev machine that is good enough.</p></section></article></div><footer><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=https://github.com/gotofritz>github</a> <a href=https://twitter.com/gotofritz>twitter</a> <a href=https://www.linkedin.com/in/gotofritz>linkedin</a> <a href=/feed.xml>rss</a></div></nav></div><div class=content>All content by Fritz Stelluto. I have been a developer and technical manager in the digital media industry since the 90s. I relocated a few years ago from London to Berlin.</div><div class=content>All content under <a href=http://creativecommons.org/licenses/by-nc-sa/2.0/de/ >creative commons</a> and code under <a href=http://mit-license.org/ >MIT license</a>.</div></footer></main></div></body></html>