<!DOCTYPE HTML><html><head><meta charset=utf-8><title>Using the &#x27;Say&#x27; command to make OS X talk, and fixing it when it gets stuck || gotofritz</title><meta name=author content=gotofritz><meta name=description content="One can easily make OS X read out text from the CLI with the say command. But what to do when it gets stuck and stops working?"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link href=/assets/favicon.ico rel="shortcut icon"><link rel=icon href=/assets/favicon.gif type=image/gif><link href=/assets/css/screen.css media="screen, projection" rel=stylesheet type=text/css></head><body class=content-post><div class=gradient-container><main class=panel-container><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=/ >home</a><form class=search action=https://google.com/search><input id=search-str name=q results=0 placeholder=search> <input type=hidden name=q value=site:gotofritz.net></form></div></nav><article><section class=intro><div class=post-meta><time datetime=2020-06-16T02:00:00+02:00 pubdate>2020-06-16</time> //<div class=tags>osx</div></div><h1>Using the 'Say' command to make OS X talk, and fixing it when it gets stuck</h1><h2>One can easily make OS X read out text from the CLI with the say command. But what to do when it gets stuck and stops working?</h2></section><section class=post-content><h2 id=what-os-xs-say-command-can-do>What OS X&#x2019;s say command can do</h2><p><code>Say</code> can be quite useful to mess about with synthesized voices; I can&#x2019;t do any better than refer you to the <a href=https://ss64.com/osx/say.html>concise and informative command reference on the wonderful SS64.com</a>, but in short you can have it read text from other commands, from text file, and you can even save the result to a sound file or send it to the local network.</p><h2 id=killing-os-xs-say-when-it-gets-stuck>Killing OS X&#x2019;s Say when it gets stuck</h2><p>Sometimes <code>say</code> does get stuck though and stops making sounds (without actually throwing any errors). In those cases, you can simply kill the process with</p><pre class=language-bash><code class=language-bash><span class="token function">pkill</span> speechsynthesisd say</code></pre><h2 id=and-now-for-something-utterly-pointless>And now for something utterly pointless&#x2026;</h2><p>Did you ever want to have random Wikipedia pages read to you by a synthesised voice? Well, now with this bash command you can! I have picked Luca and it.wikipedia because for some reason the Italian synthetic voice sounds much more realistic then the English ones. To change language just change the wikipedia subdomain and the voice&#x2026;</p><pre class=language-bash><code class=language-bash><span class="token keyword">while</span> <span class="token builtin class-name">:</span><span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token function">curl</span> -L <span class="token punctuation">\</span>
  <span class="token string">&apos;http://it.wikipedia.org/w/api.php?action=query&amp;format=json&amp;prop=extracts&amp;generator=random&amp;exlimit=max&amp;exintro=1&amp;explaintext=1&amp;clshow=!hidden&amp;cllimit=max&amp;grnnamespace=0&amp;grnfilterredir=nonredirects&amp;grnlimit=1&apos;</span> <span class="token operator">|</span> <span class="token punctuation">\</span>
  jq <span class="token string">&quot;.query.pages | values[].extract&quot;</span> <span class="token operator">|</span> <span class="token punctuation">\</span>
  say -v <span class="token string">&quot;Luca&quot;</span><span class="token punctuation">;</span> <span class="token function">sleep</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">\</span>
  <span class="token keyword">done</span></code></pre><h2 id=jq-is-a-very-useful-cli-tool-for-transforming-and-searching-through-json>jq is a very useful CLI tool for transforming and searching through JSON</h2><p>Oh yes, for the command above to work you need to install jq with <code>brew install jq</code>&#x2026; In case you are not familiar with it, jq is a great must-have tool for developers, it&#x2019;s worth installing it and getting familiar with it. For example, you can easily find out the version number inside a project&#x2019;s package.json with</p><pre class=language-bash><code class=language-bash><span class="token function">cat</span> package.json <span class="token operator">|</span> jq <span class="token string">&quot;.version&quot;</span></code></pre><p>And that&#x2019;s that for today, all the best.</p></section></article></div><footer><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=https://github.com/gotofritz>github</a> <a href=https://twitter.com/gotofritz>twitter</a> <a href=https://www.linkedin.com/in/gotofritz>linkedin</a> <a href=/feed.xml>rss</a></div></nav></div><div class=content>All content by Fritz Stelluto. I have been a developer and technical manager in the digital media industry since the 90s. I relocated a few years ago from London to Berlin.</div><div class=content>All content under <a href=http://creativecommons.org/licenses/by-nc-sa/2.0/de/ >creative commons</a> and code under <a href=http://mit-license.org/ >MIT license</a>.</div></footer></main></div><script type=text/javascript>var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11254155-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();</script></body></html>