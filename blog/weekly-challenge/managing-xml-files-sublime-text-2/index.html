
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Managing XML files with Sublime Text 2 - Fabrizio (Fritz) Stelluto</title>
	<meta name="author" content="">

	
	<meta name="description" content="The challenge this week: to get started with creating the simplest CMS for recipes. This week&#8217;s challenge includes setting things in motion &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Fabrizio (Fritz) Stelluto" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
	<link rel="icon" href="/favicon.gif" type="image/gif" />
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	
</head>


<body ontouchstart="">

  <header id="header" class="inner">
<nav id="main-nav"><div>
  <a class="rss" href="/atom.xml" title="RSS">RSS</a>
  <a href="/">home</a>
  <a href="/blog/">blog</a>
</div></nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><div>
  <a class="rss" href="/atom.xml" title="RSS">RSS</a>
  <a href="/">home</a>
  <a href="/blog/">blog</a>
</div></div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:gotofritz.net">
			</form>
		</div>
	</div>
</nav>

<nav id="sub-nav" class="alignright">
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:gotofritz.net">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">
    
    <article class="post">
	<h1 class="title">Managing XML Files With Sublime Text 2</h1>
	<div>
		<div class="meta">
			<div class="date">








  


<time datetime="2012-03-02T13:41:35+01:00" pubdate data-updated="true">2012-03-02, Fri</time></div>
			<div class="tags">


	<a class='category' href='/blog/cat/weekly-challenge/'>Weekly Challenge</a>


</div>
			
				<span class="comments"><a href="/blog/weekly-challenge/managing-xml-files-sublime-text-2#disqus_thread">Comments</a></span>
			
		</div>
		<div class="entry-content"><p>The challenge this week: to get started with creating the simplest CMS for recipes. This week&#8217;s challenge includes setting things in motion using simple ST2 templates.</p>

<!--more-->


<p><nav class="related-posts" id="multipart" markdown="1">
  <h2>Other posts in this series</h2></p>

<ul>
<li><a href="/blog/weekly-challenge/managing-xml-files-sublime-text-2/">part 1</a>: Managing XML Files With Sublime Text 2</li>
<li><a href="/blog/weekly-challenge/fetching-google-spreadsheets-converting-xml/">part 2</a>: Fetching Google Spreadsheets as XML</li>
<li><a href="/blog/weekly-challenge/fetching-google-spreadsheets-converting-xml/">part 3</a>: Transforming plists into XML</li>
<li><a href="/blog/weekly-challenge/restful-python-api-bottle/">part 4</a>: creating a RESTful Python API With Bottle
</nav></li>
</ul>


<h2>About the challenge</h2>

<p>This is part of an ongoing project, a simple <a href="#multipart" title="jump down to list of all the parts in the series">recipe manager</a>. I already have a bunch of recipes in various formats which I want to consolidate, manage, and print using an existing HTML template I am happy with. To start things off I will use Sublime Text 2&#8217;s templating and build tools to edit files quickly.</p>

<p>Some artefacts are <a href="https://github.com/gotofritz/Weekly-Challenges/tree/master/weekly-challenge-13_recipes_st2">available on GitHub</a>.</p>

<h2>Data storage</h2>

<p>XML is pretty much the most flexible data format I can think of. It can be XSL-transformed easily into other formats, including HTML. And it can be viewed directly in a web browser as well. In theory I could apply a CSS directly to it, but I already have HTML / CSS I am happy with, so I&#8217;d rather transform the XML to that.</p>

<p>The document structure will be very simple, a bunch of tags (title, descriptions, source, etc) only a few of which have another level of subtags of their own - ingredients, directions, tags, and cuisine. A simple pseudo-YAML representation would be (* meaning &#8216;zero or more of this node&#8217;, and ? meaning &#8216;optional node&#8217;)</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">recipe</span>
</span><span class='line'>  <span class="l-Scalar-Plain">title</span>
</span><span class='line'>  <span class="l-Scalar-Plain">description</span>
</span><span class='line'>  <span class="l-Scalar-Plain">source</span>
</span><span class='line'>  <span class="l-Scalar-Plain">cuisine</span>
</span><span class='line'>    <span class="l-Scalar-Plain">style</span>
</span><span class='line'>    <span class="l-Scalar-Plain">region</span>
</span><span class='line'>    <span class="l-Scalar-Plain">approach</span>
</span><span class='line'>  <span class="l-Scalar-Plain">tags</span>
</span><span class='line'>    <span class="l-Scalar-Plain">tag*</span>
</span><span class='line'>  <span class="l-Scalar-Plain">directions</span>
</span><span class='line'>    <span class="l-Scalar-Plain">step*</span>
</span><span class='line'>  <span class="l-Scalar-Plain">ingredients</span>
</span><span class='line'>    <span class="l-Scalar-Plain">serves</span>
</span><span class='line'>    <span class="l-Scalar-Plain">group?</span>
</span><span class='line'>      <span class="l-Scalar-Plain">ingredient*</span>
</span><span class='line'>        <span class="l-Scalar-Plain">quantity</span>
</span><span class='line'>        <span class="l-Scalar-Plain">measurement</span>
</span><span class='line'>        <span class="l-Scalar-Plain">name</span>
</span><span class='line'>        <span class="l-Scalar-Plain">preparation</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Using Sublime Text 2 to manage XML files</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='gherkin'><span class='line'><span class="k">Feature:</span><span class="nf"></span>
</span><span class='line'><span class="nf">    In order to create and view recipes quickly and with little fuss</span>
</span><span class='line'><span class="nf">    As a geeky recipe author</span>
</span><span class='line'><span class="nf">    I need a system of templates in place</span>
</span></code></pre></td></tr></table></div></figure>


<p>To hit the ground running and create some XML files quickly before the app is ready, I will use Sublime Text 2 for managing files.</p>

<h3>Using Sublime Text 2 File templates and snippets</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='gherkin'><span class='line'><span class="k">Scenario:</span><span class="nf"> Using Sublime Text 2 templates and snippets</span>
</span><span class='line'><span class="k">    Given </span><span class="nf">that I have ST</span><span class="s">2</span><span class="nf"></span>
</span><span class='line'><span class="nf">    </span><span class="k">And </span><span class="nf">the File Templates package is installed</span>
</span><span class='line'><span class="nf">    </span><span class="k">When </span><span class="nf">I hit CMD-SHIFT-P</span>
</span><span class='line'><span class="nf">    </span><span class="k">And </span><span class="nf">select &#39;Create File from templates&#39; from the list</span>
</span><span class='line'><span class="nf">    </span><span class="k">And </span><span class="nf">select &#39;User: recipe.xml&#39; from the next list</span>
</span><span class='line'><span class="nf">    </span><span class="k">And </span><span class="nf">enter the name of the recipe in the &#39;Name&#39; field</span>
</span><span class='line'><span class="nf">    </span><span class="k">Then </span><span class="nf">an XML document will be saved to the recipes folder</span>
</span><span class='line'><span class="nf">    </span><span class="k">And </span><span class="nf">it will be open in ST</span><span class="s">2</span><span class="nf"> for editing</span>
</span><span class='line'><span class="nf">    </span><span class="k">And </span><span class="nf">I can tab through the fields quickly</span>
</span></code></pre></td></tr></table></div></figure>


<p>The <a href="https://github.com/mneuhaus/SublimeFileTemplates#readme">File Templates package</a> extends the built in Snippet system to file creations. This scenario is about setting it up and using it.</p>

<ul>
<li>I created my Sublime project</li>
<li>I installed the File Templates package using <a href="http://wbond.net/sublime_packages/package_control">ST2 Package Control</a></li>
<li>Created my template in Packages / User. Sadly, templates are global, they can&#8217;t be project specific. However, the template can point to a file which can sit somewhere within the currently opened project if needed, which is handy. In my case I just hardcoded the complete path as I will never use those templates for anyhing else.</li>
<li>Another handy thing with the templates is that you can set up some variables, and when you create a new file ST2 will show field names for each of them. I am not entirely sure how more useful than tab stops this feature is in this particular case, but worth trying it out anyway.</li>
<li>My template is below. The actual template is in a file called recipe.xml in my project. The arguments node lists all the variables I will be asked about when creating a new file. One of them, $name, will be used to save the file as.</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;template&gt;</span>
</span><span class='line'><span class="c">&lt;!-- the file with the actual template --&gt;</span>
</span><span class='line'><span class="nt">&lt;file&gt;</span>/PATH/recipe.xml<span class="nt">&lt;/file&gt;</span>
</span><span class='line'><span class="c">&lt;!-- what the results will be called. $name is the argument further down --&gt;</span>
</span><span class='line'><span class="nt">&lt;filename&gt;</span>$name.xml<span class="nt">&lt;/filename&gt;</span>
</span><span class='line'><span class="c">&lt;!-- where in the projects files will be saved --&gt;</span>
</span><span class='line'><span class="nt">&lt;path&gt;</span>/PATH/recipes<span class="nt">&lt;/path&gt;</span>
</span><span class='line'><span class="nt">&lt;arguments&gt;</span>
</span><span class='line'>  <span class="nt">&lt;name&gt;</span>Recipe name:<span class="nt">&lt;/name&gt;</span>
</span><span class='line'>  <span class="nt">&lt;description&gt;</span>Description:<span class="nt">&lt;/description&gt;</span>
</span><span class='line'>  <span class="nt">&lt;soource&gt;</span>Source<span class="nt">&lt;/source&gt;</span>
</span><span class='line'>  <span class="nt">&lt;serves&gt;</span>Serves:<span class="nt">&lt;/serves&gt;</span>
</span><span class='line'><span class="nt">&lt;/arguments&gt;</span>
</span><span class='line'><span class="nt">&lt;/template&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>The XML template itself is pretty simple. It includes a link to an xsl document for transforming, tabstops, and a few step nodes. The ingredient nodes, being slightly more complex, will sit in a snippet.</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;recipe</span> <span class="na">lang=</span><span class="s">&quot;en-uk&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;title&gt;</span><span class="cp">&lt;![CDATA[$name]]&gt;</span><span class="nt">&lt;/title&gt;</span>
</span><span class='line'>    <span class="nt">&lt;description&gt;</span><span class="cp">&lt;![CDATA[$description]]&gt;</span><span class="nt">&lt;/description&gt;</span>
</span><span class='line'>    <span class="nt">&lt;source&gt;</span><span class="cp">&lt;![CDATA[$source]]&gt;</span><span class="nt">&lt;/source&gt;</span>
</span><span class='line'>    <span class="nt">&lt;cuisine&gt;</span>
</span><span class='line'>        <span class="c">&lt;!-- CUISINE --&gt;</span>
</span><span class='line'>        <span class="nt">&lt;style&gt;</span><span class="err">&lt;</span>$1/style&gt;
</span><span class='line'>        <span class="nt">&lt;region&gt;</span>$2<span class="nt">&lt;/region&gt;</span>
</span><span class='line'>        <span class="nt">&lt;approach&gt;</span>$3<span class="nt">&lt;/approach&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/cuisine&gt;</span>
</span><span class='line'>    <span class="nt">&lt;tags&gt;</span>
</span><span class='line'>        <span class="c">&lt;!-- TAG --&gt;</span>
</span><span class='line'>        <span class="nt">&lt;tag&gt;</span>$4<span class="nt">&lt;/tag&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/tags&gt;</span>
</span><span class='line'>    <span class="nt">&lt;directions&gt;</span>
</span><span class='line'>        <span class="c">&lt;!-- STEPS --&gt;</span>
</span><span class='line'>        <span class="nt">&lt;step&gt;</span><span class="cp">&lt;![CDATA[$5]]&gt;</span><span class="nt">&lt;/step&gt;</span>
</span><span class='line'>        <span class="nt">&lt;step&gt;</span><span class="cp">&lt;![CDATA[$6]]&gt;</span><span class="nt">&lt;/step&gt;</span>
</span><span class='line'>        <span class="nt">&lt;step&gt;</span><span class="cp">&lt;![CDATA[$7]]&gt;</span><span class="nt">&lt;/step&gt;</span>
</span><span class='line'>        <span class="nt">&lt;step&gt;</span><span class="cp">&lt;![CDATA[$8]]&gt;</span><span class="nt">&lt;/step&gt;</span>
</span><span class='line'>        <span class="nt">&lt;step&gt;</span><span class="cp">&lt;![CDATA[$9]]&gt;</span><span class="nt">&lt;/step&gt;</span>
</span><span class='line'>        <span class="nt">&lt;step&gt;</span><span class="cp">&lt;![CDATA[$10]]&gt;</span><span class="nt">&lt;/step&gt;</span>
</span><span class='line'>        <span class="nt">&lt;step&gt;</span><span class="cp">&lt;![CDATA[$11]]&gt;</span><span class="nt">&lt;/step&gt;</span>
</span><span class='line'>        <span class="nt">&lt;step&gt;</span><span class="cp">&lt;![CDATA[$12]]&gt;</span><span class="nt">&lt;/step&gt;</span>
</span><span class='line'>        <span class="nt">&lt;step&gt;</span><span class="cp">&lt;![CDATA[$13]]&gt;</span><span class="nt">&lt;/step&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/directions&gt;</span>
</span><span class='line'>    <span class="nt">&lt;ingredients&gt;</span>
</span><span class='line'>        <span class="nt">&lt;serves&gt;</span>$serves<span class="nt">&lt;/serves&gt;</span>
</span><span class='line'>        <span class="c">&lt;!-- INGREDIENT --&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;/ingredients&gt;</span>
</span><span class='line'><span class="nt">&lt;/recipe&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>For the ingredients, I <a href="/blog/geekery/howto-create-sublime-text-2-snippet/">created a ST2 snippet</a> for each ingredient. As the snippet content is inside a CDATA node, I couldn&#8217;t find a way to have CDATAs within in it. I will have to remember to use XML entities there.</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;snippet&gt;</span>
</span><span class='line'>    <span class="nt">&lt;content&gt;</span><span class="cp">&lt;![CDATA[</span>
</span><span class='line'><span class="cp">&lt;ingredient&gt;</span>
</span><span class='line'><span class="cp">    &lt;quantity&gt;$1&lt;/quantity&gt;</span>
</span><span class='line'><span class="cp">    &lt;measurement&gt;$2&lt;/measurement&gt;</span>
</span><span class='line'><span class="cp">    &lt;name&gt;$3&lt;/name&gt;</span>
</span><span class='line'><span class="cp">    &lt;preparation&gt;$4&lt;/preparation&gt;</span>
</span><span class='line'><span class="cp">&lt;/ingredient&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="cp">]]&gt;</span><span class="nt">&lt;/content&gt;</span>
</span><span class='line'>    <span class="nt">&lt;tabTrigger&gt;</span>ing<span class="nt">&lt;/tabTrigger&gt;</span>
</span><span class='line'><span class="nt">&lt;/snippet&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Tested, and everything works as expected.</li>
</ul>


<h3>Viewing and printing the recipe</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='gherkin'><span class='line'><span class="k">Scenario:</span><span class="nf"> Viewing and printing the recipe</span>
</span><span class='line'><span class="k">     Given </span><span class="nf">that I have a recipe in an XML document</span>
</span><span class='line'><span class="nf">     </span><span class="k">When </span><span class="nf">I view it in a web browser</span>
</span><span class='line'><span class="nf">     </span><span class="k">Then </span><span class="nf">it will look as I expect</span>
</span><span class='line'><span class="nf">     </span><span class="k">And </span><span class="nf">it will look the same when printed</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>I am not a fan of applying css directly to XML, so I will use XSL instead to transform the XML to the HTML template I already have. The only snag is that the XML has to be served from a web server, as <a href="http://code.google.com/p/chromium/issues/detail?id=70088">some browsers don&#8217;t allow XML to load XSL locally</a>.</li>
<li>That&#8217;s not a problem though, as I already have Apache running locally, so I simply created a folder for the recipes there, and an _assets folder with my XSL / CSS / imagas.</li>
<li>The XSL is basically the HTML document I already had, pasted in a template that matches the root node, with a lot of value-ofs for variable substitution and a couple of for-each loops for steps and ingredients. I don&#8217;t print out meta information, as it uses valuable space, so these are not needed in the output.</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;xsl:stylesheet</span> <span class="na">version=</span><span class="s">&quot;1.0&quot;</span> <span class="na">xmlns:xsl=</span><span class="s">&quot;http://www.w3.org/1999/XSL/Transform&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;xsl:output</span> <span class="na">method=</span><span class="s">&quot;html&quot;</span> <span class="na">encoding=</span><span class="s">&quot;utf-8&quot;</span> <span class="na">indent=</span><span class="s">&quot;yes&quot;</span> <span class="na">standalone=</span><span class="s">&quot;yes&quot;</span> <span class="na">omit-xml-declaration=</span><span class="s">&quot;yes&quot;</span> <span class="na">doctype-public=</span><span class="s">&quot;html&quot;</span> <span class="na">doctype-system=</span><span class="s">&quot;html&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;xsl:preserve-space</span> <span class="na">elements=</span><span class="s">&quot;*&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;xsl:template</span> <span class="na">match=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;&lt;html&gt;</span>
</span><span class='line'><span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=UTF-8&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;head&gt;</span>
</span><span class='line'><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;_assets/css.css&quot;</span> <span class="na">media=</span><span class="s">&quot;all&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/head&gt;</span>
</span><span class='line'><span class="nt">&lt;body&gt;</span>
</span><span class='line'><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;measured_height_container&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;recipe_title&quot;</span><span class="nt">&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;/recipe/title&quot;</span> <span class="nt">/&gt;&lt;/div&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;recipe_contents&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;recipe_directions&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;ol&gt;</span>
</span><span class='line'>      <span class="nt">&lt;xsl:for-each</span> <span class="na">select=</span><span class="s">&quot;/recipe/directions/step&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        <span class="nt">&lt;li&gt;</span> <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;.&quot;</span> <span class="nt">/&gt;&lt;/li&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/xsl:for-each&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/ol&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;sidebar&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'>      <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;recipe_ingredients&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        Serves <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;/recipe/ingredients/serves&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>        <span class="nt">&lt;dl&gt;</span>
</span><span class='line'>          <span class="nt">&lt;xsl:for-each</span> <span class="na">select=</span><span class="s">&quot;/recipe/ingredients/ingredient&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>            <span class="nt">&lt;dt&gt;</span>
</span><span class='line'>                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ingredient_quantity&quot;</span><span class="nt">&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;quantity&quot;</span> <span class="nt">/&gt;&lt;/span&gt;</span>
</span><span class='line'>                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ingredient_measurement&quot;</span><span class="nt">&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;measurement&quot;</span> <span class="nt">/&gt;&lt;/span&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/dt&gt;</span>
</span><span class='line'>            <span class="nt">&lt;dd&gt;</span>
</span><span class='line'>                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ingredient_name&quot;</span><span class="nt">&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;name&quot;</span> <span class="nt">/&gt;&lt;/span&gt;</span>
</span><span class='line'>                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;ingredient_preparation&quot;</span><span class="nt">&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;preparation&quot;</span> <span class="nt">/&gt;&lt;/span&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/dd&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/xsl:for-each&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/dl&gt;</span>
</span><span class='line'>
</span><span class='line'>      <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>
</span><span class='line'>      <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;recipe_description&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;/recipe/description&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/div&gt;</span>
</span><span class='line'><span class="nt">&lt;/div&gt;</span>
</span><span class='line'><span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span><span class='line'><span class="nt">&lt;/xsl:template&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/xsl:stylesheet&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>I add a link to the XSL inside the XML template</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;</span>
</span><span class='line'><span class="cp">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;_assets/recipe.xsl&quot;?&gt;</span>
</span><span class='line'>....
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>I created a couple of recipes manually, loaded them in browsers, and tried to print them. It all looks good.</li>
</ul>


<h2>Challenge 100% complete</h2>

<p>That was a simple quick job. It is actually quite a quick way to do data entry, but of course I am limited to using one machine. In <a href="/blog/weekly-challenge/fetching-google-spreadsheets-converting-xml/">part 2</a> I will start importing some data into it.</p>

<p>Some artefacts are <a href="https://github.com/gotofritz/Weekly-Challenges/tree/master/weekly-challenge-13_recipes_st2">available on GitHub</a>.</p>

<p><nav class="related-posts" id="multipart" markdown="1">
  <h2>Other posts in this series</h2></p>

<ul>
<li><a href="/blog/weekly-challenge/managing-xml-files-sublime-text-2/">part 1</a>: Managing XML Files With Sublime Text 2</li>
<li><a href="/blog/weekly-challenge/fetching-google-spreadsheets-converting-xml/">part 2</a>: Fetching Google Spreadsheets as XML</li>
<li><a href="/blog/weekly-challenge/fetching-google-spreadsheets-converting-xml/">part 3</a>: Transforming plists into XML</li>
<li><a href="/blog/weekly-challenge/restful-python-api-bottle/">part 4</a>: creating a RESTful Python API With Bottle
</nav></li>
</ul>

</div>
	</div>
</article>

<article class="archives">
  <div class="related-posts">
    <h2>Related Posts</h2>
    
      <article>
        <h3 class="title"><a href="/blog/geekery/inserting-cdata-into-sublime-text-snippet/">Inserting CDATA into a Sublime Text snippet</a></h3>
        <div class="meta">
          <span class="tags">


	<a class='category' href='/blog/cat/geekery/'>Geekery</a>


</span>
            
          <time datetime="2012-03-02T13:41:35+01:00" pubdate>2012-03-02</time>
            
        </div>
      </article>
    
      <article>
        <h3 class="title"><a href="/blog/weekly-challenge/transforming-plists-to-xml">Transforming OS X plists into XML</a></h3>
        <div class="meta">
          <span class="tags">


	<a class='category' href='/blog/cat/weekly-challenge/'>Weekly Challenge</a>


</span>
            
          <time datetime="2012-03-02T13:41:35+01:00" pubdate>2012-03-02</time>
            
        </div>
      </article>
    
      <article>
        <h3 class="title"><a href="/blog/weekly-challenge/fetching-google-spreadsheets-converting-xml">Fetching Google Spreadsheets as XML</a></h3>
        <div class="meta">
          <span class="tags">


	<a class='category' href='/blog/cat/weekly-challenge/'>Weekly Challenge</a>


</span>
            
          <time datetime="2012-03-02T13:41:35+01:00" pubdate>2012-03-02</time>
            
        </div>
      </article>
    
  </div>
</article>


<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>

    
  </div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    Fabrizio (Fritz) Stelluto

</footer>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="/javascripts/slash.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'goto-fritz';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://gotofritz.net/blog/weekly-challenge/managing-xml-files-sublime-text-2';
        var disqus_url = 'http://gotofritz.net/blog/weekly-challenge/managing-xml-files-sublime-text-2';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-11254155-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>