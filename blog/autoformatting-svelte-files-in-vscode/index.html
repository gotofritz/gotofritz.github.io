<!DOCTYPE HTML><html><head><meta charset=utf-8><title>Autoformatting .svelte files in VSCode || gotofritz</title><meta name=author content=gotofritz><meta name=description content="I have really enjoyed using Svelte at work. It took me a while to work out how to set up VSCode to autoformat *.svelte files though."><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link href=/assets/favicon.ico rel="shortcut icon"><link rel=icon href=/assets/favicon.gif type=image/gif><link href=/assets/css/screen.css media="screen, projection" rel=stylesheet type=text/css></head><body class=content-post><div class=gradient-container><main class=panel-container><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=/ >home</a><form class=search action=https://google.com/search><input id=search-str name=q results=0 placeholder=search> <input type=hidden name=q value=site:gotofritz.net></form></div></nav><article><section class=intro><div class=post-meta><time datetime=2020-04-06T02:00:00+02:00 pubdate>2020-04-06</time> //<div class=tags>vscode, svelte</div></div><h1>Autoformatting .svelte files in VSCode</h1><h2>I have really enjoyed using Svelte at work. It took me a while to work out how to set up VSCode to autoformat *.svelte files though.</h2></section><section class=post-content><h2 id=use-svelte-vscode>Use Svelte VSCode</h2><p>The <a href="https://marketplace.visualstudio.com/items?itemName=JamesBirtles.svelte-vscode">svelte-vscode</a> extension does most of what you want, code highlighting for example. But not quite all; after installing it in VSCode, there is still some fiddling to do.</p><h2 id=making-prettier-plugin-svelte-work-with-vscode>Making prettier-plugin-svelte work with VSCode</h2><p>There are probably better ways, but his is what worked for me. I set it up on a per-project basis, because it involves downgrading prettier and I don&#x2019;t want to for those projects where I am not using Svelte</p><ol><li>Install prettier-plugin-svelte and a version of prettier smaller than 2. Annoying, but at the time of writing (Apr 2020) the prettier-plugin-svelte wasn&#x2019;t compatible with prettier 2</li></ol><pre class=language-bash><code class=language-bash><span class="token comment"># whichever way you do it...</span>
<span class="token function">pnpm</span> <span class="token function">add</span> prettier@1.19 prettier-plugin-svelte
<span class="token function">yarn</span> <span class="token function">add</span> prettier@1.19 prettier-plugin-svelte
<span class="token function">npm</span> <span class="token function">install</span> prettier@1.19 prettier-plugin-svelte</code></pre><ol start=2><li>In your project&#x2019;s <code>.prettierrc</code> file (or whatever you call it), add a reference to the plugin. You can also add <a href=https://github.com/UnwrittenFun/prettier-plugin-svelte#prettierrc-example>svelte-specific settings</a></li></ol><pre class=language-json><code class=language-json><span class="token punctuation">{</span>
  <span class="token property">&quot;arrowParens&quot;</span><span class="token operator">:</span> <span class="token string">&quot;avoid&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bracketSpacing&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;printWidth&quot;</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;singleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tabWidth&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trailingComma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;svelteSortOrder&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;styles-scripts-markup&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;svelteStrictMode&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;svelteBracketNewLine&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;svelteAllowShorthand&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;prettier-plugin-svelte&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre><ol start=3><li>In your VSCode&#x2019;s settings, add</li></ol><pre class=language-JSON><code class=language-JSON>  &quot;[svelte]&quot;: {
    &quot;editor.defaultFormatter&quot;: &quot;JamesBirtles.svelte-vscode&quot;
  }</code></pre><ol start=4><li>Restart VSCode</li></ol><p>Hopefully the plugin will soon be upgraded to be compatible with Prettier 2.0</p></section></article></div><footer><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=https://github.com/gotofritz>github</a> <a href=https://twitter.com/gotofritz>twitter</a> <a href=https://www.linkedin.com/in/gotofritz>linkedin</a> <a href=/feed.xml>rss</a></div></nav></div><div class=content>All content by Fritz Stelluto. I have been a developer and technical manager in the digital media industry since the 90s. I relocated a few years ago from London to Berlin.</div><div class=content>All content under <a href=http://creativecommons.org/licenses/by-nc-sa/2.0/de/ >creative commons</a> and code under <a href=http://mit-license.org/ >MIT license</a>.</div></footer></main></div><script type=text/javascript>var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11254155-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();</script></body></html>