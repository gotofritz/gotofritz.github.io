<!DOCTYPE HTML><html><head><meta charset=utf-8><title>Dealing with extended attributes on OS X || gotofritz</title><meta name=author content=gotofritz><meta name=description content="Extended attributes store extra information about files in OS X. They replaced resource forks. Sometimes those extra hidden files confuse peripherals (e.g. mp3 players) that were not setup to deal with them.  Here are some terminal commands to handle them."><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link href=/assets/favicon.ico rel="shortcut icon"><link rel=icon href=/assets/favicon.gif type=image/gif><link href=/assets/css/screen.css media="screen, projection" rel=stylesheet type=text/css></head><body class=content-post><div class=gradient-container><main class=panel-container><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=/ >home</a><form class=search action=http://google.com/search><input id=search-str name=q results=0 placeholder=search> <input type=hidden name=q value=site:gotofritz.net></form></div></nav><article><section class=intro><div class=post-meta><time datetime=2012-08-25T13:55:00+02:00 pubdate>2012-08-25</time> //<div class=tags>bash, os x</div></div><h1>Dealing with extended attributes on OS X</h1><h2>Extended attributes store extra information about files in OS X. They replaced resource forks. Sometimes those extra hidden files confuse peripherals (e.g. mp3 players) that were not setup to deal with them. Here are some terminal commands to handle them.</h2></section><section class=post-content><pre class=language-bash><code class=language-bash><span class="token operator">&gt;</span> <span class="token function">ls</span> -al
-rw-r--r--@   <span class="token number">1</span> me  staff     <span class="token number">962</span> <span class="token number">22</span> Aug <span class="token number">22</span>:06 .bash_profile
drwxr-xr-x  <span class="token number">119</span> me  staff    <span class="token number">4046</span> <span class="token number">28</span> Jul <span class="token number">19</span>:03 Bluetooth
drwx------+  <span class="token number">14</span> me  staff     <span class="token number">476</span> <span class="token number">25</span> Aug <span class="token number">12</span>:18 Desktop
drwx------+  <span class="token number">14</span> me  staff     <span class="token number">476</span> <span class="token number">25</span> Aug 09:42 Documents
drwx------+   <span class="token number">7</span> me  staff     <span class="token number">238</span> <span class="token number">25</span> Aug 09:42 Downloads
drwx------@  <span class="token number">20</span> me  staff     <span class="token number">680</span> <span class="token number">25</span> Aug 09:42 Dropbox
drwxr-xr-x@  <span class="token number">20</span> me  staff     <span class="token number">680</span> <span class="token number">25</span> Aug 09:42 Google Drive
</code></pre><p>The @ sign you get in the listing with the -l option tells you that that file or folder has some extended properties.</p><pre class=language-bash><code class=language-bash><span class="token operator">&gt;</span> <span class="token function">ls</span> -al@
-rw-r--r--@   <span class="token number">1</span> me  staff     <span class="token number">962</span> <span class="token number">22</span> Aug <span class="token number">22</span>:06 .bash_profile
com.apple.FinderInfo      <span class="token number">32</span>
com.apple.TextEncoding      <span class="token number">15</span>
drwxr-xr-x  <span class="token number">119</span> me  staff    <span class="token number">4046</span> <span class="token number">28</span> Jul <span class="token number">19</span>:03 Bluetooth
drwx------+  <span class="token number">14</span> me  staff     <span class="token number">476</span> <span class="token number">25</span> Aug <span class="token number">12</span>:18 Desktop
drwx------+  <span class="token number">14</span> me  staff     <span class="token number">476</span> <span class="token number">25</span> Aug 09:42 Documents
drwx------+   <span class="token number">7</span> me  staff     <span class="token number">238</span> <span class="token number">25</span> Aug 09:42 Downloads
drwx------@  <span class="token number">20</span> me  staff     <span class="token number">680</span> <span class="token number">25</span> Aug 09:42 Dropbox
com.apple.FinderInfo      <span class="token number">32</span>
drwxr-xr-x@  <span class="token number">20</span> me  staff     <span class="token number">680</span> <span class="token number">25</span> Aug 09:42 Google Drive
com.apple.FinderInfo      <span class="token number">32</span>
</code></pre><p>On OS X the ls command has an @ option, which lists the extended property for each entry, if any.</p><pre class=language-bash><code class=language-bash><span class="token operator">&gt;</span> xattr *
Dropbox: com.apple.FinderInfo
Google Drive: com.apple.FinderInfo
</code></pre><p>The xattr command lets you interact with the extended attributes. Just running it by itself it will list them all, Note that it doesn&#x2019;t handle hidden files though.</p><pre class=language-bash><code class=language-bash><span class="token operator">&gt;</span> xattr -l *
Dropbox: com.apple.FinderInfo:
00000000  00 00 00 00 00 00 00 00 04 00 00 00 00 00 00 00  <span class="token operator">|</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token operator">|</span>
00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  <span class="token operator">|</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token operator">|</span>
00000020
Google Drive: com.apple.FinderInfo:
00000000  00 00 00 00 00 00 00 00 04 00 00 00 00 00 00 00  <span class="token operator">|</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token operator">|</span>
00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  <span class="token operator">|</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token operator">|</span>
00000020
</code></pre><p>The -l flag lets shows the content for all extended properties for a file. They are not always hex data.</p><pre class=language-bash><code class=language-bash><span class="token operator">&gt;</span> xattr -p com.apple.TextEncoding .bash_profile
UTF-8<span class="token punctuation">;</span><span class="token number">134217984</span>
</code></pre><p>The -p flag lists the content of a specific extended attribute (in this case, com.apple.TextEncoding) for a specific file (in this case .bash_profile). This particular attribute is a string.</p><pre class=language-bash><code class=language-bash><span class="token operator">&gt;</span> xattr -w <span class="token builtin class-name">test</span> <span class="token string">&quot;what is this&quot;</span> .bash_profile
<span class="token operator">&gt;</span> xattr -l .bash_profile
com.apple.FinderInfo:
00000000  <span class="token number">54</span> <span class="token number">45</span> <span class="token number">58</span> <span class="token number">54</span> 00 00 00 00 00 00 00 00 00 00 00 00  <span class="token operator">|</span>TEXT<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token operator">|</span>
00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  <span class="token operator">|</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token operator">|</span>
00000020
com.apple.TextEncoding: UTF-8<span class="token punctuation">;</span><span class="token number">134217984</span>
test: what is this
</code></pre><p>-w allows you create your own extended attributes. Here one is written and then read out.</p><pre class=language-bash><code class=language-bash><span class="token operator">&gt;</span> xattr -d <span class="token builtin class-name">test</span> .bash_profile
<span class="token operator">&gt;</span> xattr -l .bash_profile
com.apple.FinderInfo:
00000000  <span class="token number">54</span> <span class="token number">45</span> <span class="token number">58</span> <span class="token number">54</span> 00 00 00 00 00 00 00 00 00 00 00 00  <span class="token operator">|</span>TEXT<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token operator">|</span>
00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  <span class="token operator">|</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token operator">|</span>
00000020
com.apple.TextEncoding: UTF-8<span class="token punctuation">;</span><span class="token number">134217984</span>
</code></pre><p>-d complements -w by allowing one to delete an extended attribute.</p><pre class=language-bash><code class=language-bash><span class="token operator">&gt;</span> xattr -d com.apple.FinderInfo *
</code></pre><p>This allows you to delete all the com.apple.FinderInfo extended attributes from all the files in a folder</p></section></article></div><footer><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=https://github.com/gotofritz>github</a> <a href=https://twitter.com/gotofritz>twitter</a> <a href=https://www.linkedin.com/in/gotofritz>linkedin</a> <a href=/feed.xml>rss</a></div></nav></div><div class=content>All content by Fritz Stelluto. I have been a developer and technical manager in the digital media industry since the 90s. I relocated a few years ago from London to Berlin.</div><div class=content>All content under <a href=http://creativecommons.org/licenses/by-nc-sa/2.0/de/ >creative commons</a> and code under <a href=http://mit-license.org/ >MIT license</a>.</div></footer></main></div></body></html>