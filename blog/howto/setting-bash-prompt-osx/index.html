
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Setting A Bash Prompt in OS X - Fabrizio (Fritz) Stelluto</title>
	<meta name="author" content="">

	
	<meta name="description" content="Bash is the default command line shell on OS X and most Linux distributions. The prompt that appears before a command can be easily changed - here&# &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Fabrizio (Fritz) Stelluto" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
	<link rel="icon" href="/favicon.gif" type="image/gif" />
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	
</head>


<body ontouchstart="">

  <header id="header" class="inner">
<nav id="main-nav"><div>
  <a class="rss" href="/atom.xml" title="RSS">RSS</a>
  <a href="/">home</a>
  <a href="/blog/">blog</a>
</div></nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><div>
  <a class="rss" href="/atom.xml" title="RSS">RSS</a>
  <a href="/">home</a>
  <a href="/blog/">blog</a>
</div></div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:gotofritz.net">
			</form>
		</div>
	</div>
</nav>

<nav id="sub-nav" class="alignright">
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:gotofritz.net">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">
    
    <article class="post">
	<h1 class="title">Setting a Bash Prompt in OS X</h1>
	<div>
		<div class="meta">
			<div class="date">








  


<time datetime="2008-10-14T13:56:20+02:00" pubdate data-updated="true">2008-10-14, Tue</time></div>
			<div class="tags">


	<a class='category' href='/blog/cat/howto/'>HowTo</a>


</div>
			
				<span class="comments"><a href="/blog/howto/setting-bash-prompt-osx#disqus_thread">Comments</a></span>
			
		</div>
		<div class="entry-content"><p>Bash is the default command line shell on OS X and most Linux distributions. The prompt that appears before a command can be easily changed - here&#8217;s what I changed mine to, and how.</p>

<!--more-->


<h2>My bash prompt</h2>

<p>Here&#8217;s the prompt I use</p>

<div><script src='https://gist.github.com/5214366.js?file=prompt.sh'></script>
<noscript><pre><code>if [ -x /usr/bin/tput ] &amp;&amp; tput setaf 1 &gt;&amp;/dev/null; then
    # We have color support; assume it's compliant with Ecma-48
    # (ISO/IEC-6429). (Lack of such support is extremely rare, and such
    # a case would tend to support setf rather than setaf.)
    color_prompt=yes
else
    color_prompt=
fi

if [ &quot;$color_prompt&quot; = yes ]; then
    export PS1=&quot;\n[\t] \[\033[01;33m\]\u@\H\[\033[00m\]:\$PWD\n&quot;
else
    export PS1=&quot;\n[\t] \u@\H:\$PWD\n&quot;
fi
</code></pre></noscript></div>


<h2>Writing the prompt in the .bash_profile file</h2>

<p>Normally you change the prompt shell by editing the file .bash_profile in your home directory. I do that using nano, a text editor that works inside the shell. If .bash_profile doesn&#8217;t exist, it will be created.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>nano ~/.bash_profile
</span></code></pre></td></tr></table></div></figure>


<p>I like nano because it shows you the commands you can run at the bottom - All you need to know to use them is that the symbol ^ stands for the [CTRL] key.</p>

<h2>A simple example - the default OS X shell prompt</h2>

<p>The prompt itself is just an <a href="http://en.wikipedia.org/wiki/Environmental_variable">environmental variable</a> like any other, loaded by the shell application as it starts up. It is called PS1 on bash (short for Prompt Shell, I suppose). There is also a PS2, which bash displays when more input is required; most people leave that as it comes by default, with a simple &gt;. And there is also a SUDO_PS1, which is used when you switch to superuser using sudo.</p>

<p>You can put anything you want in your shell prompt(s), normal text or special characters that means something to bash, like &#8220;show the date&#8221; or &#8220;make a beep sound&#8221;. You can also have colors, or a script that generates something for you before each command. Some people have scripts that fetch &#8216;quote of the day&#8217; or suchlike, or, more usefully, <a href="https://github.com/jimeh/git-aware-prompt" title="[new window] jimeh/git-aware-prompt Â· GitHub" target="_blank">the git branch they are working on</a>.</p>

<p>You can see what you got there by simply echoing it. For example, here it is showing is the default OS X prompt:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>your-machine:~ you# <span class="nb">echo</span> <span class="nv">$PS1</span>
</span><span class='line'><span class="se">\h</span>:<span class="se">\W</span> <span class="se">\u\$</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>your-machine:~ you</code> is the default bash prompt in OS X as it appears to you.
<code>\h:\W \u\$</code> is how you tell bash to display that prompt. It looks scary, but it&#8217;s just a list of special characters - each starting with a slash.</p>

<dl class="code-breakdown">
<dt>\h</dt>
<dd>the hostname up to the first &#8216;.&#8217; - that would be the &#8220;your-machine&#8221; bit</dd>

<dt>\W</dt>
<dd>the current directory - that&#8217;s the &#8220;~&#8221; when you first start Terminal, i.e. your home directory</dd>

<dt>\u</dt>
<dd>the current user - i.e. &#8220;you&#8221;</dd>

<dt>\$</dt>
<dd>either # or $ depending on whether you are root or not</dd>
</dl>


<p>You can scroll to the bottom of this page afor a complete list of these special characters.</p>

<h2>Breaking down my shell prompt</h2>

<p>Refer back to the gist above. The bit of code that goes <code>if [ -x /usr/bin/tput ] &amp;&amp; tput setaf 1 &gt;&amp;/dev/null; then</code> tries to work out whether the shell supports colours or not (most do). Then comes the prompt <code>\n[\t] \[\e[01;33m\]\u@\H\[\e[0m\]:\$PWD\n</code></p>

<dl class="code-breakdown">
  <dt>\n</dt>
  <dd>A new line - I like space between commands</dd>

  <dt>[\t]</dt>
  <dd>the time, surrounded by [ and ] - useful when logging into remote servers, so you can tell what the local time is</dd>

  <dt> \[</dt>
  <dd>this tells bash that what follows are formatting instructions, not something that should be printed</dd>

  <dt>\e[</dt>
  <dd>&#8220;here comes a color sequence&#8221;</dd>

  <dt>01;33m</dt>
  <dd>this is yellow, bold</dd>

  <dt>\]</dt>
  <dd>this tells bash that formatting instructions are over, and it should start printing again</dd>

  <dt>\u</dt>
  <dd>username - helpful when doing admin on remote servers</dd>

  <dt>@</dt>
  <dd>just the @, no special meaning</dd>

  <dt>\H</dt>
  <dd>the hostname, i.e. the name of the machine</dd>

  <dt>\[\e[0m\]</dt>
  <dd>this is another sequence of formatting instruction - it switches off the bold yellow, and goes back to white</dd>

  <dt>:</dt>
  <dd>just a colon</dd>

  <dt>\$PWD</dt>
  <dd>the environmental variable $PWD, i.e. the current path but starting from the root. You need to escape the $ as \$ because bash needs to know it is dealing with a non-PS1 special variable, $PWD, and not the string &#8220;$PWD&#8221;</dd>

  <dt>\n</dt>
  <dd>A new line - because the prompt is quite long, the command itself starts on its own line.</dd>
</dl>


<h2>A special shell prompt for sudo</h2>

<p>Inspired by <a href="http://www.macworld.com/article/1146550/rootprompt.html" title="[new window] Customize the root shell's prompt in Terminal | Macworld" target="_blank">this macworld article</a>, I created a slightly different variant for sudo.
<code>SUDO_PS1="\n[\t] \[\e[33;01;41m\]\u@\H\[\e[0m\]:\$PWD\n</code>
The only difference is the color around the username - <code>33;01;41m</code> instead of <code>01;33m</code>. That adds a red background to the prompt, which reminds me I am currently in sudo.</p>

<h2>What it looks like</h2>

<p>So here&#8217;s the prompt, in normal and sudo versions</p>

<div style="background:black;font: 10pt Monaco,Courier;color: white;padding 3px;">[12:32:28] <span style="font-weight:bold;color:yellow">ME@my-latptop.lan</span>:/Users/ME/work/blog<br>
sudo -s<br>
Password:<br>
[12:35:31] <span style="font-weight:bold;color:yellow;background:red">root@my-latptop.lan</span>:/Users/ME/work/blog<br>
ls
</div>


<h2>More info</h2>

<p>A couple of links I found useful.</p>

<ul>
<li><a href="http://networking.ringofsaturn.com/Unix/Bash-prompts.php" title="[new window] Bash Prompts HowTo Guide" target="_blank">bash prompts howto guide</a></li>
<li><a href="http://www.ibm.com/developerworks/linux/library/l-tip-prompt/" title="[new window] Tip: Prompt magic" target="_blank">This has good colour instructions</a></li>
<li><a href="http://net.tutsplus.com/tutorials/other/how-to-customize-the-command-prompt/" title="[new window] How to Customize the Command Prompt | Nettuts+" target="_blank">nettuts+ How to Customize the Command Prompt</a></li>
</ul>


<h2>Bash special characters (OS X version)</h2>

<p><code>\a     an ASCII bell character (07)
\d     the date in "Weekday Month Date" format (e.g., "Tue May 26")
\D{format} a date formatted as per the strftime(3) function. The braces are required
\e     an ASCII escape character (033)
\h     the hostname up to the first '.'
\H     the hostname
\j     the number of jobs currently managed by the shell
\l     the basename of the shell's terminal device name
\n     newline
\r     carriage return
\s     the  name  of the shell, the basename of $0 (the portion following the final slash)
\t     the current time in 24-hour HH:MM:SS format
\T     the current time in 12-hour HH:MM:SS format
\@     the current time in 12-hour am/pm format
\A     the current time in 24-hour HH:MM format
\u     the username of the current user
\v     the version of bash (e.g., 2.00)
\V     the release of bash, version + patch level (e.g., 2.00.0)
\w     the current working directory, with $HOME abbreviated with a tilde
\W     the basename of the current working directory, with $HOME abbreviated with a tilde
\!     the history number of this command
\#     the command number of this command
\$     if the effective UID is 0, a #, otherwise a $
\nnn   the character corresponding to the octal number nnn
\\     a backslash
\[     begin a sequence of non-printing characters
\]     end a sequence of non-printing characters</code></p>
</div>
	</div>
</article>

<article class="archives">
  <div class="related-posts">
    <h2>Related Posts</h2>
    
      <article>
        <h3 class="title"><a href="/blog/geekery/os-x-extended-attibutes">Dealing with extended attributes on OS X</a></h3>
        <div class="meta">
          <span class="tags">


	<a class='category' href='/blog/cat/geekery/'>Geekery</a>


</span>
            
          <time datetime="2008-10-14T13:56:20+02:00" pubdate>2008-10-14</time>
            
        </div>
      </article>
    
      <article>
        <h3 class="title"><a href="/blog/howto/a-place-for-unix-scripts-osx">A good place for scripts in OSX</a></h3>
        <div class="meta">
          <span class="tags">


	<a class='category' href='/blog/cat/howto/'>HowTo</a>


</span>
            
          <time datetime="2008-10-14T13:56:20+02:00" pubdate>2008-10-14</time>
            
        </div>
      </article>
    
      <article>
        <h3 class="title"><a href="/blog/howto/finding-files-inside-archive">Finding files inside an archive with Terminal</a></h3>
        <div class="meta">
          <span class="tags">


	<a class='category' href='/blog/cat/howto/'>HowTo</a>


</span>
            
          <time datetime="2008-10-14T13:56:20+02:00" pubdate>2008-10-14</time>
            
        </div>
      </article>
    
  </div>
</article>


<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>

    
  </div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    Fabrizio (Fritz) Stelluto

</footer>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="/javascripts/slash.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'goto-fritz';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://gotofritz.net/blog/howto/setting-bash-prompt-osx';
        var disqus_url = 'http://gotofritz.net/blog/howto/setting-bash-prompt-osx';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-11254155-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>