<!DOCTYPE HTML><html lang=en><head><meta charset=utf-8><title>Creating a RESTful Python API with Bottle || gotofritz</title><meta name=author content=gotofritz><meta name=description content="I used Bottle, a Python framework, to create a quick and dirty RESTful service to allow simple CRUD operations on a bunch of XML files."><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5"><link href=/assets/favicon.ico rel="shortcut icon"><link rel=icon href=/assets/favicon.gif type=image/gif><link href=/assets/css/screen.css media="screen, projection" rel=stylesheet type=text/css><link rel=preconnect href=https://stats.g.doubleclick.net><link rel=preconnect href=https://ssl.google-analytics.com></head><body class=content-post><div class=gradient-container><main class=panel-container><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=/ >home</a><form class=search action=https://google.com/search><input id=search-str name=q results=0 placeholder=search aria-label=search> <input type=hidden name=q value=site:gotofritz.net></form></div></nav><article><section class=intro><div class=post-meta><time datetime=2012-03-31T17:06:00+02:00 pubdate>2012-03-31</time> //<div class=tags>python, rest</div></div><h1>Creating a RESTful Python API with Bottle</h1><h2>I used Bottle, a Python framework, to create a quick and dirty RESTful service to allow simple CRUD operations on a bunch of XML files.</h2></section><section class=post-content><h2 id=about-the-task>About the task</h2><p>This is part of an larger, abondoned project, a simple recipe manager. Previous steps had left me with a set of XML files I can visualize in a browser by applying XSLT to them. I now need a quick and dirty way to manage those files directly from the (yet to be built) front end.</p><p>I decided to use Python for the backend because I am trying to learn it. I decided to give <a href=http://bottlepy.org/docs/dev/index.html title="[new window] Bottle: Python Web Framework &#x2014; Bottle 0.12-dev documentation" target=_blank>Bottle</a> a shot.</p><p>Some artefacts <a href=https://github.com/gotofritz/restful-bottle-api>available on GitHub</a>.</p><h2 id=installing-bottle>Installing Bottle</h2><p>I couldn&#x2019;t use curl or wget for some reason, so I simply pointed my browser to <a href=https://raw.github.com/defnull/bottle/master/bottle.py title="[new window] view the script" target=_blank>http://bottlepy.org/bottle.py</a> and hit &#x201C;Save as&#x2026;&#x201D; to download the single Python file to a folder called bottle. To test it run, I created the first iteration of <code>recipes-api.py</code> script</p><pre class=language-python><code class=language-python><span class="token keyword">from</span> bottle <span class="token keyword">import</span> route<span class="token punctuation">,</span> run

@route<span class="token punctuation">(</span><span class="token string">&apos;/&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello World!&quot;</span>

run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&apos;localhost&apos;</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">8080</span><span class="token punctuation">,</span> debug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><p>and started the server with <code>python recipes-api.py</code>. I then checked the server was up and running by pointing a browser to http://localhost:8080/. I got the Hello World string</p><p>Now I was ready to start building the API.</p><h3 id=testing-bottle-installation>Testing Bottle installation</h3><p>This server is going to perform the most basic CRUD operation without checking input, using HTTP verbs. That would be PUT for Create / Update (the only difference will be whether there is already a file by that name or not); DELETE for Delete; GET for Retrieve, plus another GET at the root to get the list of available files. Nothing fancier than that.</p><p>The first step is to create a script that proves all the calls I want to make work. I will test this manually with curl with these commands</p><pre class=language-bash><code class=language-bash><span class="token function">curl</span> -X GET http://localhost:8080/recipes
<span class="token function">curl</span> -X DELETE http://localhost:8080/recipes/name
<span class="token function">curl</span> -X GET http://localhost:8080/recipes/name
<span class="token function">curl</span> -X PUT http://localhost:8080/recipes/name
</code></pre><p>Implementing a server that fulfils those requests is pretty simple.</p><pre class=language-python><code class=language-python><span class="token keyword">from</span> bottle <span class="token keyword">import</span> route<span class="token punctuation">,</span> run

@route<span class="token punctuation">(</span><span class="token string">&apos;/recipes/&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">recipes_list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">&quot;LIST&quot;</span>

<span class="token decorator annotation punctuation">@route</span><span class="token punctuation">(</span><span class="token string">&apos;/recipes/&lt;name&gt;&apos;</span><span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">&apos;GET&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">recipe_show</span><span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">&quot;Mystery Recipe&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">&quot;SHOW RECIPE &quot;</span> <span class="token operator">+</span> name

@route<span class="token punctuation">(</span><span class="token string">&apos;/recipes/&lt;name&gt;&apos;</span><span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">&apos;DELETE&apos;</span> <span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">recipe_delete</span><span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">&quot;Mystery Recipe&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">&quot;DELETE RECIPE &quot;</span> <span class="token operator">+</span> name

@route<span class="token punctuation">(</span><span class="token string">&apos;/recipes/&lt;name&gt;&apos;</span><span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">&apos;PUT&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">recipe_save</span><span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">&quot;Mystery Recipe&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">&quot;SAVE RECIPE &quot;</span> <span class="token operator">+</span> name

run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&apos;localhost&apos;</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">8080</span><span class="token punctuation">,</span> debug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><p>I run <code>python recipes-api.py</code> again, run the curl requests, and for each of them I got the expected response. Blimey - this is <em>way</em> too easy.</p><h3 id=returning-json-data-with-bottle>Returning JSON data with Bottle</h3><p>Next returning JSON responses in the right &#x201C;shape&#x201D;, but with dummy data:</p><pre class=language-python><code class=language-python><span class="token keyword">from</span> bottle <span class="token keyword">import</span> route<span class="token punctuation">,</span> run

@route<span class="token punctuation">(</span><span class="token string">&apos;/recipes/&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">recipes_list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string">&quot;success&quot;</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">&quot;paths&quot;</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;list not implemented yet&quot;</span> <span class="token punctuation">}</span>

@route<span class="token punctuation">(</span><span class="token string">&apos;/recipes/&lt;name&gt;&apos;</span><span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">&apos;GET&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">recipe_show</span><span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">&quot;Mystery Recipe&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string">&quot;success&quot;</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">&quot;path&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;/PTH/TO/XML/&quot;</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">&quot;.xml&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;show not implemented yet&quot;</span> <span class="token punctuation">}</span>

@route<span class="token punctuation">(</span><span class="token string">&apos;/recipes/&lt;name&gt;&apos;</span><span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">&apos;DELETE&apos;</span> <span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">recipe_delete</span><span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">&quot;Mystery Recipe&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string">&quot;success&quot;</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;delete not implemented yet&quot;</span> <span class="token punctuation">}</span>

@route<span class="token punctuation">(</span><span class="token string">&apos;/recipes/&lt;name&gt;&apos;</span><span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">&apos;PUT&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">recipe_save</span><span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">&quot;Mystery Recipe&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string">&quot;success&quot;</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">&quot;path&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;/PTH/TO/XML/&quot;</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">&quot;.xml&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;save not implemented yet&quot;</span> <span class="token punctuation">}</span>

run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&apos;localhost&apos;</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">8080</span><span class="token punctuation">,</span> debug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><h3 id=reading-config-data>Reading config data</h3><p>Finally, I will set up a config files for the app to read config data from - always good practice. Nothing really too exciting here.</p><pre class=language-python><code class=language-python><span class="token keyword">import</span> json
<span class="token keyword">from</span> bottle <span class="token keyword">import</span> route<span class="token punctuation">,</span> run

config_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&apos;config.json&apos;</span><span class="token punctuation">)</span>
config_data <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span>config_file<span class="token punctuation">)</span>
pth_xml <span class="token operator">=</span> config_data<span class="token punctuation">[</span><span class="token string">&quot;paths&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;xml&quot;</span><span class="token punctuation">]</span>

@route<span class="token punctuation">(</span><span class="token string">&apos;/recipes/&apos;</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> etc
</code></pre><p>I run it and got the expected results.</p><h2 id=creating-restful-responses>Creating RESTful responses</h2><p>Now it&#x2019;s simply a matter of filling in the blanks, and writing those methods.</p><h3 id=returning-a-json-formatted-directory-listing-with-bottle>Returning a JSON formatted directory listing with Bottle</h3><p>First, let&#x2019;s get list of files. This is a readdir job, very simple with python.</p><pre class=language-python><code class=language-python><span class="token keyword">import</span> json
<span class="token keyword">import</span> os
<span class="token keyword">from</span> bottle <span class="token keyword">import</span> route<span class="token punctuation">,</span> run

config_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span> <span class="token string">&apos;config.json&apos;</span> <span class="token punctuation">)</span>
config_data <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span> config_file <span class="token punctuation">)</span>
pth_xml <span class="token operator">=</span> config_data<span class="token punctuation">[</span><span class="token string">&quot;paths&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;xml&quot;</span><span class="token punctuation">]</span>

@route<span class="token punctuation">(</span><span class="token string">&apos;/recipes/&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">recipes_list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    paths <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    ls <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span> pth_xml <span class="token punctuation">)</span>
    <span class="token keyword">for</span> entry <span class="token keyword">in</span> ls<span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token string">&quot;.xml&quot;</span> <span class="token operator">==</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span> entry <span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            paths<span class="token punctuation">.</span>append<span class="token punctuation">(</span> entry <span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string">&quot;success&quot;</span> <span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">&quot;paths&quot;</span> <span class="token punctuation">:</span> paths <span class="token punctuation">}</span>
</code></pre><p>Err&#x2026; that&#x2019;s it. A JSON response. In the browser.</p><h3 id=echoing-xml-files-with-bottle>Echoing XML files with Bottle</h3><p>Now, let&#x2019;s look at one of these files in the list. This is ridiculously easy using Bottle&#x2019;s static_file. Note that Bottle takes case of slashes, so I won&#x2019;t need to watch out for someone passing ../../../../../etc/passwd as name and showing sensitive data.</p><pre class=language-python><code class=language-python><span class="token keyword">import</span> json
<span class="token keyword">import</span> os
<span class="token keyword">from</span> bottle <span class="token keyword">import</span> route<span class="token punctuation">,</span> run<span class="token punctuation">,</span> static_file

config_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span> <span class="token string">&apos;config.json&apos;</span> <span class="token punctuation">)</span>
config_data <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span> config_file <span class="token punctuation">)</span>
pth_xml <span class="token operator">=</span> config_data<span class="token punctuation">[</span><span class="token string">&quot;paths&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;xml&quot;</span><span class="token punctuation">]</span>

@route<span class="token punctuation">(</span><span class="token string">&apos;/recipes/&lt;name&gt;&apos;</span><span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">&apos;GET&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">recipe_show</span><span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token string">&quot;&quot;</span> <span class="token operator">!=</span> name<span class="token punctuation">:</span>
        <span class="token keyword">return</span> static_file<span class="token punctuation">(</span> name<span class="token punctuation">,</span> pth_xml  <span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string">&quot;success&quot;</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;show called without a filename&quot;</span> <span class="token punctuation">}</span>
</code></pre><p>Embarassingly simple.</p><h3 id=creating-and-updating-xml-files-with-bottle>Creating and updating XML files with Bottle</h3><p>The next obvious step is to add files to the set. The same script will be used for create or update - any exisiting files will simply be overwritten, without checking. And there won&#x2019;t be any schema checks either</p><p>This is also fairly simple, as long as one knows where to get the PUT data from - request.forms, which requires the request module.</p><pre class=language-python><code class=language-python><span class="token keyword">import</span> json
<span class="token keyword">import</span> os
<span class="token keyword">from</span> bottle <span class="token keyword">import</span> route<span class="token punctuation">,</span> run<span class="token punctuation">,</span> request

config_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span> <span class="token string">&apos;config.json&apos;</span> <span class="token punctuation">)</span>
config_data <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span> config_file <span class="token punctuation">)</span>
pth_xml <span class="token operator">=</span> config_data<span class="token punctuation">[</span><span class="token string">&quot;paths&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;xml&quot;</span><span class="token punctuation">]</span>

@route<span class="token punctuation">(</span><span class="token string">&apos;/recipes/&lt;name&gt;&apos;</span><span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">&apos;PUT&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">recipe_save</span><span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>
    xml <span class="token operator">=</span> request<span class="token punctuation">.</span>forms<span class="token punctuation">.</span>get<span class="token punctuation">(</span> <span class="token string">&quot;xml&quot;</span> <span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token string">&quot;&quot;</span> <span class="token operator">!=</span> name <span class="token keyword">and</span> <span class="token string">&quot;&quot;</span> <span class="token operator">!=</span> xml<span class="token punctuation">:</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span> pth_xml<span class="token punctuation">,</span> name <span class="token operator">+</span> <span class="token string">&quot;.xml&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;w&quot;</span> <span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span> xml <span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string">&quot;success&quot;</span> <span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">&quot;path&quot;</span> <span class="token punctuation">:</span> name <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string">&quot;success&quot;</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;save called without a filename or content&quot;</span> <span class="token punctuation">}</span>
</code></pre><p>In order to test this I needed to send postdata with curl:</p><pre class=language-bash><code class=language-bash><span class="token function">curl</span> -X PUT --data-urlencode <span class="token string">&quot;xml=new file&quot;</span> http://localhost:8080/recipes/f
<span class="token function">curl</span> -X PUT --data-urlencode <span class="token string">&quot;xml=new file&quot;</span> http://localhost:8080/recipes/a
</code></pre><p>Everything worked as expected.</p><h3 id=deleting-files-with-bottle>Deleting files with Bottle</h3><p>The last piece of the puzzle, also fairly simple. A try / except is used to avoid errors if the files doesn&#x2019;t exist.</p><pre class=language-python><code class=language-python><span class="token keyword">import</span> json
<span class="token keyword">import</span> os
<span class="token keyword">from</span> bottle <span class="token keyword">import</span> route<span class="token punctuation">,</span> run<span class="token punctuation">,</span> <span class="token punctuation">,</span> request

config_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span> <span class="token string">&apos;config.json&apos;</span> <span class="token punctuation">)</span>
config_data <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span> config_file <span class="token punctuation">)</span>
pth_xml <span class="token operator">=</span> config_data<span class="token punctuation">[</span><span class="token string">&quot;paths&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;xml&quot;</span><span class="token punctuation">]</span>

@route<span class="token punctuation">(</span><span class="token string">&apos;/recipes/&lt;name&gt;&apos;</span><span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">&apos;DELETE&apos;</span> <span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">recipe_delete</span><span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token string">&quot;&quot;</span> <span class="token operator">!=</span> name<span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span> pth_xml<span class="token punctuation">,</span> name <span class="token operator">+</span> <span class="token string">&quot;.xml&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string">&quot;success&quot;</span> <span class="token punctuation">:</span> <span class="token boolean">True</span>  <span class="token punctuation">}</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string">&quot;success&quot;</span> <span class="token punctuation">:</span> <span class="token boolean">False</span>  <span class="token punctuation">}</span>
</code></pre><h2 id=so-there>So there</h2><p>This is quick and dirty work - no testing, and running off a local dev server which wouldn&#x2019;t be suited for production. But I am still amazed but how easy it all was. Bottle really does rock.</p><p>The scripts are <a href=https://github.com/gotofritz/restful-bottle-api>available on GitHub</a>.</p></section></article></div><footer><div class=content><nav class=flat-nav><div itemscope itemtype=http://schema.org/Person class="vcard group-of-links"><a href=https://github.com/gotofritz>github</a> <a href=https://twitter.com/gotofritz>twitter</a> <a href=https://www.linkedin.com/in/gotofritz>linkedin</a> <a href=/feed.xml>rss</a></div></nav></div><div class=content>All content by Fritz Stelluto. I have been a developer and technical manager in the digital media industry since the 90s. I relocated a few years ago from London to Berlin.</div><div class=content>All content under <a href=http://creativecommons.org/licenses/by-nc-sa/2.0/de/ >creative commons</a> and code under <a href=http://mit-license.org/ >MIT license</a>.</div></footer></main></div><script type=text/javascript>var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11254155-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();</script></body></html>