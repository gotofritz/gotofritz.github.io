<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link href="../favicon.ico" rel="shortcut icon">
  <link rel="icon" href="../favicon.gif" type="image/gif" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-K0CMFHZ2N0"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    dataLayer.push('js', new Date());
    dataLayer.push('config', 'G-K0CMFHZ2N0');
  </script>
  <meta http-equiv="content-security-policy" content=""><title>OS X DNS lookups too slow for local hosts || gotofritz</title><meta name="description" content="Fritz Stelluto has been a developer and engineering manager in the digital industry since the 90s. He lives in Berlin." data-svelte="svelte-ugxg7c">
	<link rel="stylesheet" href="/app_/assets/pages/__layout.svelte-e730745d.css">
	<link rel="stylesheet" href="/app_/assets/_post-6b79a17e.css">
	<link rel="modulepreload" href="/app_/start-c36720a6.js">
	<link rel="modulepreload" href="/app_/chunks/index-889cf753.js">
	<link rel="modulepreload" href="/app_/pages/__layout.svelte-c3bb9f47.js">
	<link rel="modulepreload" href="/app_/pages/blog/os-x-dns-lookups-too-slow-for-local-hosts.md-6a9ec476.js">
	<link rel="modulepreload" href="/app_/chunks/_post-5ef2f492.js">
	<link rel="modulepreload" href="/app_/chunks/Header-15607706.js">
</head>

<body>
  <div class="gradient-container">
    


<main class="panel-container svelte-y2j27e"><div class="content svelte-y2j27e">

<nav class="flat-nav"><div itemscope itemtype="http://schema.org/Person" class="vcard group-of-links"><a href="directory-listings-in-apache-2-4">previous post</a>
      <a href="/">home</a>
      <a href="os-x-software-update-from-command-line">next post</a>
    <form class="search" action="https://google.com/search" method="get"><input type="text" id="search-str" name="q" results="0" placeholder="search" aria-label="search">
      <input type="hidden" name="q" value="site:gotofritz.net"></form></div>
</nav>
<article class="content-post svelte-1r1v8if"><section class="intro svelte-1r1v8if"><div class="post-meta"><time datetime="2015-04-24 13:03">2015-04-24</time>
      //
      <div class="tags"><a href="/tags/networks">networks</a>, <a href="/tags/os x">os x</a></div></div>
    <h1 class="svelte-1r1v8if">OS X DNS lookups too slow for local hosts</h1>
    <h2 class="svelte-1r1v8if"><!-- HTML_TAG_START -->OS can sometimes take forever to resolve hosts setup on my local machine. Here is how I solved it.<!-- HTML_TAG_END --></h2></section>
  <section class="post-content"><p>I have several local hosts set up on my dev OS X machine in my <code>/etc/hosts</code> file . The browser hangs for several seconds while trying to load them. Which doesn’t make any sense, since they are local. The solution is to change the hosts file so that all hosts are on one line, the very first line where localhost is defined.</p>
<p>In other words, change from this…</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash"><span class="token number">127.0</span>.0.1       localhost
<span class="token number">255.255</span>.255.255 broadcasthost
::1             localhost
fe80::1%lo0     localhost
<span class="token number">127.0</span>.0.1       my-host.dev
<span class="token number">127.0</span>.0.1       another-host.dev
<span class="token number">127.0</span>.0.1       oh-that-host.dev</code><!-- HTML_TAG_END --></pre>
<p>…to this.</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash"><span class="token number">127.0</span>.0.1       localhost  my-host.dev another-host.dev oh-that-host.dev
<span class="token number">255.255</span>.255.255 broadcasthost
::1             localhost
fe80::1%lo0     localhost</code><!-- HTML_TAG_END --></pre>
<p>It doesn’t make sense, but it works and that’s all that matters. It’s probably an OS X bug which at some point will be fixed.</p>
<h3>Prior art</h3>
<p>Answer from <a href="http://stackoverflow.com/questions/10064581/how-can-i-eliminate-slow-resolving-loading-of-localhost-virtualhost-a-2-3-secon" rel="nofollow">Stack Overflow</a></p></section>
</article></div>
  <footer class="svelte-tqiyh5"><div class="content svelte-tqiyh5"><nav class="flat-nav svelte-tqiyh5"><div itemscope itemtype="http://schema.org/Person" class="vcard group-of-links svelte-tqiyh5"><a href="https://github.com/gotofritz" class="svelte-tqiyh5">github</a><a href="https://twitter.com/gotofritz" class="svelte-tqiyh5">twitter</a><a href="https://www.linkedin.com/in/gotofritz" class="svelte-tqiyh5">linkedin</a><a href="/feed.xml" class="svelte-tqiyh5">rss</a></div></nav></div>
  
  <div class="content svelte-tqiyh5">All content under <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/de/" class="svelte-tqiyh5">creative commons</a>
    and code under <a href="http://mit-license.org/" class="svelte-tqiyh5">MIT license</a>.
  </div>
</footer>
</main>


		<script type="module" data-hydrate="c8chv5">
		import { start } from "/app_/start-c36720a6.js";
		start({
			target: document.querySelector('[data-hydrate="c8chv5"]').parentNode,
			paths: {"base":"","assets":""},
			session: {},
			route: true,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [
					import("/app_/pages/__layout.svelte-c3bb9f47.js"),
						import("/app_/pages/blog/os-x-dns-lookups-too-slow-for-local-hosts.md-6a9ec476.js")
				],
				params: {},
				routeId: "blog/os-x-dns-lookups-too-slow-for-local-hosts"
			}
		});
	</script>
  </div>
</body>

</html>