<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link href="../favicon.ico" rel="shortcut icon">
  <link rel="icon" href="../favicon.gif" type="image/gif" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-K0CMFHZ2N0"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    dataLayer.push('js', new Date());
    dataLayer.push('config', 'G-K0CMFHZ2N0');
  </script>
  <meta http-equiv="content-security-policy" content=""><title>Fixing autoformatting Django templates in Visual Studio Co || gotofritz</title><meta name="description" content="Fritz Stelluto has been a developer and engineering manager in the digital industry since the 90s. He lives in Berlin." data-svelte="svelte-ugxg7c">
	<link rel="stylesheet" href="/_app/assets/pages/__layout.svelte-e730745d.css">
	<link rel="stylesheet" href="/_app/assets/_post-6b79a17e.css">
	<link rel="modulepreload" href="/_app/start-8b6ecabb.js">
	<link rel="modulepreload" href="/_app/chunks/index-889cf753.js">
	<link rel="modulepreload" href="/_app/pages/__layout.svelte-c3bb9f47.js">
	<link rel="modulepreload" href="/_app/pages/blog/fixing-autoformatting-django-templates-in-visual-studio-code.md-0f754e1c.js">
	<link rel="modulepreload" href="/_app/chunks/_post-5ef2f492.js">
	<link rel="modulepreload" href="/_app/chunks/Header-15607706.js">
</head>

<body>
  <div class="gradient-container">
    


<main class="panel-container svelte-y2j27e"><div class="content svelte-y2j27e">

<nav class="flat-nav"><div itemscope itemtype="http://schema.org/Person" class="vcard group-of-links"><a href="installing-python-on-mac-os-x-in-2022">previous post</a>
      <a href="/">home</a>
      <a href="reordering-audio-files-in-a-fat-usb-stick">next post</a>
    <form class="search" action="https://google.com/search" method="get"><input type="text" id="search-str" name="q" results="0" placeholder="search" aria-label="search">
      <input type="hidden" name="q" value="site:gotofritz.net"></form></div>
</nav>
<article class="content-post svelte-1r1v8if"><section class="intro svelte-1r1v8if"><div class="post-meta"><time datetime="2022-03-24T00:00:00.000Z">2022-03-24</time>
      //
      <div class="tags"><a href="/tags/django">django</a>, <a href="/tags/python">python</a>, <a href="/tags/visual studio code">visual studio code</a></div></div>
    <h1 class="svelte-1r1v8if">Fixing autoformatting Django templates in Visual Studio Co</h1>
    <h2 class="svelte-1r1v8if"><!-- HTML_TAG_START -->Prettier autoformatting screws up Django html templates in Visual Studio Code. For example, it puts tags on the same line when they shouldn't be. The fix is pretty simple and involves a couple of different formatting extension.<!-- HTML_TAG_END --></h2></section>
  <section class="post-content"><p>This post consolidates the information I got the information from a couple of <abbr title="Stack Overflow">SO</abbr> answers.</p>
<ol><li><p>Install the <a href="https://github.com/vscode-django/vscode-django" rel="nofollow">Django</a> extension. It will give you some snippets, and syntax higlighting. But most important, it will add the <code>django-html</code> filetype to <abbr title="Visual Studio Code">VSC</abbr></p></li>
<li><p>Install the <a href="https://github.com/HookyQR/VSCodeBeautify" rel="nofollow">Beautify</a> extension. This will replace Prettier for those specific files</p></li>
<li><p>Open the User settings, and switch to JSON mode. You will be adding a few settings manually</p></li>
<li><p>The <code>files.associations</code> block could be already in your settings. If it isnâ€™t, you need to add it. Otherwise add the following associations to it</p>
<pre class="language-json"><!-- HTML_TAG_START --><code class="language-json"><span class="token property">"files.associations"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token property">"**/templates/*.html"</span><span class="token operator">:</span> <span class="token string">"django-html"</span><span class="token punctuation">,</span>
  <span class="token property">"**/*.html"</span><span class="token operator">:</span> <span class="token string">"html"</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span></code><!-- HTML_TAG_END --></pre></li>
<li><p>Tell Beautify about Django templates</p>
<pre class="language-json"><!-- HTML_TAG_START --><code class="language-json"><span class="token property">"beautify.language"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token property">"html"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"htm"</span><span class="token punctuation">,</span> <span class="token string">"html"</span><span class="token punctuation">,</span> <span class="token string">"django-html"</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span></code><!-- HTML_TAG_END --></pre></li>
<li><p>Replace Prettier with Beautify for Django templates. Note that <code>&quot;prettier.disableLanguages&quot;: [&quot;django-html&quot;],</code> is no longer supported by VSC.</p>
<pre class="language-json"><!-- HTML_TAG_START --><code class="language-json"><span class="token property">"[django-html]"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token property">"editor.defaultFormatter"</span><span class="token operator">:</span> <span class="token string">"HookyQR.beautify"</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span></code><!-- HTML_TAG_END --></pre>
<p>You can of course add more settings to that particular block; for example, mine is</p>
<pre class="language-json"><!-- HTML_TAG_START --><code class="language-json"><span class="token property">"[django-html]"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token property">"editor.defaultFormatter"</span><span class="token operator">:</span> <span class="token string">"HookyQR.beautify"</span><span class="token punctuation">,</span>
  <span class="token property">"editor.formatOnSave"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">"editor.tabSize"</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span></code><!-- HTML_TAG_END --></pre></li>
<li><p>If you like emmet, which is now part of VSC by default, also add</p>
<pre class="language-json"><!-- HTML_TAG_START --><code class="language-json"><span class="token property">"emmet.includeLanguages"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token property">"django-html"</span><span class="token operator">:</span> <span class="token string">"html"</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre></li></ol>
<h2>Prior art</h2>
<p>I got some of the information from <a href="https://stackoverflow.com/questions/42170561/vscode-html-autoformat-on-django-template" rel="nofollow">this SO answer</a> and <a href="https://stackoverflow.com/questions/55175822/there-is-no-document-formatter-for-django-html-files-installed/63091040#63091040" rel="nofollow">this other SO answer</a></p></section>
</article></div>
  <footer class="svelte-tqiyh5"><div class="content svelte-tqiyh5"><nav class="flat-nav svelte-tqiyh5"><div itemscope itemtype="http://schema.org/Person" class="vcard group-of-links svelte-tqiyh5"><a href="https://github.com/gotofritz" class="svelte-tqiyh5">github</a><a href="https://twitter.com/gotofritz" class="svelte-tqiyh5">twitter</a><a href="https://www.linkedin.com/in/gotofritz" class="svelte-tqiyh5">linkedin</a><a href="/feed.xml" class="svelte-tqiyh5">rss</a></div></nav></div>
  
  <div class="content svelte-tqiyh5">All content under <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/de/" class="svelte-tqiyh5">creative commons</a>
    and code under <a href="http://mit-license.org/" class="svelte-tqiyh5">MIT license</a>.
  </div>
</footer>
</main>


		<script type="module" data-hydrate="fz6qod">
		import { start } from "/_app/start-8b6ecabb.js";
		start({
			target: document.querySelector('[data-hydrate="fz6qod"]').parentNode,
			paths: {"base":"","assets":""},
			session: {},
			route: true,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [
					import("/_app/pages/__layout.svelte-c3bb9f47.js"),
						import("/_app/pages/blog/fixing-autoformatting-django-templates-in-visual-studio-code.md-0f754e1c.js")
				],
				params: {},
				routeId: "blog/fixing-autoformatting-django-templates-in-visual-studio-code"
			}
		});
	</script>
  </div>
</body>

</html>