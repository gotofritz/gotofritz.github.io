import{S as zr,i as Xr,s as Zr,e as n,t as l,k as p,c as s,a as o,d as t,h as i,m as c,b as r,g as d,I as e,E as Ul}from"./index-6e518972.js";function Jr(Tr){let A,O,rt,Pn,Aa,Oe,xn,Pa,M,Tn,pe,Sn,Ln,xa,D,j,pt,Cn,Ta,P,ct,Gn,On,S,Mn,Me,Dn,jn,ce,Nn,Rn,Hn,ut,qn,Sa,v,ue,Bn,de,Vn,Yn,Un,dt,Fn,Wn,ht,$n,Kn,ft,zn,Xn,mt,Zn,La,De,Jn,Ca,N,R,kt,Qn,Ga,he,fe,es,ts,Oa,H,q,yt,as,Ma,B,V,gt,ns,Da,je,ss,ja,Ne,os,Na,h,ls,vt,is,rs,wt,ps,cs,bt,us,ds,Et,hs,fs,_t,ms,ks,It,ys,gs,At,vs,ws,Pt,bs,Es,Ra,Y,_s,xt,Is,As,Ha,w,L,Ps,Tt,xs,Ts,St,Ss,Ls,Cs,me,Gs,Lt,Os,Ms,Ds,Ct,js,Ns,ke,Rs,Gt,Hs,qs,Bs,Ot,Vs,qa,U,Ys,Mt,Us,Fs,Ba,Re,Ws,Va,F,W,Dt,$s,Ya,He,Ks,Ua,$,K,jt,zs,Fa,qe,ye,Xs,Wa,z,X,Nt,Zs,$a,m,ge,Js,ve,Qs,eo,to,Rt,ao,no,Ht,so,oo,qt,lo,io,Bt,ro,po,Z,co,Vt,uo,ho,Yt,fo,mo,Ut,ko,Ka,Be,yo,za,f,we,Ft,go,vo,Ve,Sr=`<code class="language-bash">$ python -V
<span class="token number">3.8</span>.5
$ pyenv <span class="token builtin class-name">local</span> <span class="token number">3.10</span>.1
<span class="token punctuation">..</span>.
$ python -V
<span class="token number">3.10</span>.1
$ poetry init
<span class="token punctuation">..</span>. accept all default except <span class="token keyword">for</span>
<span class="token punctuation">..</span>. <span class="token variable"><span class="token variable">&#96;</span>Would you like to define your main dependencies interactively?<span class="token variable">&#96;</span></span>
$ poetry shell</code>`,wo,be,Wt,bo,Eo,Ye,Lr='<code class="language-bash">$ poetry <span class="token function">add</span> google-auth google-auth-oauthlib google-auth-httplib2 google-api-python-client</code>',_o,Ee,_e,Io,$t,Ao,Po,xo,Ue,Cr=`<code class="language-bash"> $ <span class="token function">cp</span> ~/Downloads/client<span class="token punctuation">..</span><span class="token punctuation">..</span>json client_secret.json
 $ <span class="token function">touch</span> .gitignore
 $ <span class="token builtin class-name">echo</span> <span class="token string">"client_secret.json"</span> <span class="token operator">>></span> .gitignore</code>`,To,Ie,Kt,So,Lo,Fe,Gr=`<code class="language-bash"> $ <span class="token function">cp</span> -r ~/Downloads/takeout/playlists <span class="token builtin class-name">.</span>
 $ <span class="token function">touch</span> playlists/.gitkeep
 $ <span class="token builtin class-name">echo</span> <span class="token string">"playlists/*.csv"</span> <span class="token operator">>></span> .gitignore</code>`,Co,zt,Xt,Go,Oo,Ae,Pe,Mo,Zt,Do,jo,No,We,Or=`<code class="language-json"><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">"./playlists/blah.csv"</span><span class="token punctuation">,</span> <span class="token string">"PLabcdefghijklmnopqrstu-vwxyz12345"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">"./playlists/another one.csv"</span><span class="token punctuation">,</span> <span class="token string">"PLutsrqponmlkjihgfedcba-vwxyz67890"</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span></code>`,Ro,I,Jt,Ho,qo,$e,Mr=`<code class="language-python"><span class="token comment"># uploader.py</span>

<span class="token keyword">import</span> csv
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> json

filenames <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"./playlists/config.json"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">for</span> csv_filename<span class="token punctuation">,</span> playlist_code <span class="token keyword">in</span> filenames<span class="token punctuation">:</span>
       <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Adding videos from </span><span class="token interpolation"><span class="token punctuation">&#123;</span>csv_filename<span class="token punctuation">&#125;</span></span><span class="token string"> to </span><span class="token interpolation"><span class="token punctuation">&#123;</span>playlist_code<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">"&#92;n&#92;n"</span><span class="token punctuation">)</span>

       <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>csv_filename<span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span> <span class="token keyword">as</span> csv_file<span class="token punctuation">:</span>
           <span class="token comment"># skip the first 3 lines, which contain meta information about the playlist</span>
           playlist_csv <span class="token operator">=</span> csv_file<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">]</span>

           reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictReader<span class="token punctuation">(</span>playlist_csv<span class="token punctuation">)</span>
           <span class="token keyword">try</span><span class="token punctuation">:</span>
               <span class="token keyword">for</span> row <span class="token keyword">in</span> reader<span class="token punctuation">:</span>
                   <span class="token keyword">if</span> <span class="token keyword">not</span> row<span class="token punctuation">:</span>
                       <span class="token keyword">continue</span>
                   <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">"Video ID"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
           <span class="token keyword">except</span> csv<span class="token punctuation">.</span>Error <span class="token keyword">as</span> e<span class="token punctuation">:</span>
               sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token string">"file &#123;&#125;, line &#123;&#125;: &#123;&#125;"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> reader<span class="token punctuation">.</span>line_num<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code>`,Bo,Qt,Vo,Yo,Ke,Dr=`<code class="language-bash">Adding videos from ./playlists/blah.csv to PL123456-78910

abcdefghijk
lmnopqrstuv
<span class="token punctuation">..</span>.</code>`,Uo,xe,ea,Fo,Wo,ze,jr=`<code class="language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import os
</span><span class="token prefix inserted">+</span><span class="token line"> import google.oauth2.credentials
</span><span class="token prefix inserted">+</span><span class="token line"> import google_auth_oauthlib.flow
</span><span class="token prefix inserted">+</span><span class="token line"> from googleapiclient.discovery import build
</span><span class="token prefix inserted">+</span><span class="token line"> from googleapiclient.errors import HttpError
</span><span class="token prefix inserted">+</span><span class="token line"> from google_auth_oauthlib.flow import InstalledAppFlow
</span></span>
filenames = json.loads(open("./playlists/config.json").read())

<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> CLIENT_SECRETS_FILE = "client_secret.json"
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> # This scope allows for full read/write
</span><span class="token prefix inserted">+</span><span class="token line"> # access to the authenticated user's account
</span><span class="token prefix inserted">+</span><span class="token line"> # and requires requests to use an SSL connection.
</span><span class="token prefix inserted">+</span><span class="token line"> SCOPES = ["https://www.googleapis.com/auth/youtube.force-ssl"]
</span><span class="token prefix inserted">+</span><span class="token line"> API_SERVICE_NAME = "youtube"
</span><span class="token prefix inserted">+</span><span class="token line"> API_VERSION = "v3"</span></span></code>`,Xa,E,ta,$o,Ko,aa,zo,Xo,na,Zo,Jo,sa,Qo,Za,J,oa,el,tl,la,al,Ja,Xe,nl,Qa,y,ia,C,sl,ra,ol,ll,pa,il,rl,pl,ca,Te,Q,ua,cl,ul,da,Se,ee,ha,dl,hl,fa,te,ae,ma,ka,fl,ml,kl,ya,ga,yl,gl,G,va,vl,wl,Ze,Nr=`<code class="language-undefined">
When it runs it tries stops and asks me for an authorisation code:

&#96;&#96;&#96;bash
$ python uploader.py
Please visit this URL to authorize this application: https://accounts.google.com/o/oauth2/auth?response_type=code&amp;....etc...
Enter the authorization code:</code>`,bl,wa,El,en,Je,Le,Ce,_l,ba,Il,Al,Pl,Qe,Rr=`<code class="language-python"><span class="token keyword">def</span> <span class="token function">add_to_playlist_a_video</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> playlistId<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> videoId<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Adding </span><span class="token interpolation"><span class="token punctuation">&#123;</span>videoId<span class="token punctuation">&#125;</span></span><span class="token string"> to </span><span class="token interpolation"><span class="token punctuation">&#123;</span>playlistId<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        response <span class="token operator">=</span> <span class="token punctuation">(</span>
            client<span class="token punctuation">.</span>playlistItems<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span>insert<span class="token punctuation">(</span>
                part<span class="token operator">=</span><span class="token string">"snippet, contentDetails"</span><span class="token punctuation">,</span>
                body<span class="token operator">=</span><span class="token punctuation">&#123;</span>
                    <span class="token string">"contentDetails"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token string">"videoId"</span><span class="token punctuation">:</span> videoId<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                    <span class="token string">"snippet"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                        <span class="token string">"playlistId"</span><span class="token punctuation">:</span> playlistId<span class="token punctuation">,</span>
                        <span class="token string">"resourceId"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                            <span class="token string">"kind"</span><span class="token punctuation">:</span> <span class="token string">"youtube#video"</span><span class="token punctuation">,</span>
                            <span class="token string">"videoId"</span><span class="token punctuation">:</span> videoId<span class="token punctuation">,</span>
                        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span>
            <span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>
            <span class="token string-interpolation"><span class="token string">f" + </span><span class="token interpolation"><span class="token punctuation">&#123;</span>response<span class="token punctuation">[</span><span class="token string">'snippet'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span></span><span class="token string"> / "</span></span>
            <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>response<span class="token punctuation">[</span><span class="token string">'snippet'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'position'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span></span><span class="token string"> in playlist"</span></span>
        <span class="token punctuation">)</span>
    <span class="token keyword">except</span> HttpError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">if</span> e<span class="token punctuation">.</span>error_details<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"reason"</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"quotaExceeded"</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f">>>> Quota exceeded when trying to add </span><span class="token interpolation"><span class="token punctuation">&#123;</span>videoId<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
            exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f">>>> ERROR: </span><span class="token interpolation"><span class="token punctuation">&#123;</span>e<span class="token punctuation">.</span>error_details<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></code>`,tn,ne,se,Ea,xl,an,et,Tl,nn,oe,le,_a,Sl,sn,tt,Ll,on,at,Ge,Cl;return{c(){A=n("h2"),O=n("a"),rt=n("span"),Pn=l("Times are tough, ad revenue is down"),Aa=p(),Oe=n("p"),xn=l("Google is not well. Not only the search engine is losing its edge, but ad revenue is going down. They sent an email to one of my free accounts which simply said \u201CA quick reminder that showing ads is the primary way we fund our services\u201D. And then a link to change my privacy settings. The mail didn\u2019t even tell me which settings exactly are troubling them. Smacked of desperation. And then of course if you follow the link, out of curiosity more than goodwill, you have to login first. And then the UI forgets what the original link was and you are just left there. Oh google, google."),Pa=p(),M=n("p"),Tn=l("More importantly, they want to charge "),pe=n("a"),Sn=l("\u201Csmall businesses\u201D for using the google mail servers"),Ln=l(". By \u201Csmall business\u201D they mean anyone with their on domain. What a mercantile view of the internet, google. Anyway it\u2019s fair enough, they already data mined the shit out of our private correspondence. They don\u2019t need us any more, they know us better than we know ourselves. I wish I had the time, skills, and inclination to manage my own web server, but I don\u2019t. So I will take this chance to migrate away from them. As it happens my Samsung also died at the same time (second time around - I don\u2019t think I will bother with them any more), so it\u2019s a chance to move to an iPhone."),xa=p(),D=n("h2"),j=n("a"),pt=n("span"),Cn=l("Migrating away from Google - a laundry list"),Ta=p(),P=n("ol"),ct=n("li"),Gn=l("At work we use GCP heavily of course, but I personally don\u2019t use any of that. Except for GAS, but that\u2019s its own story"),On=p(),S=n("li"),Mn=l("So, "),Me=n("a"),Dn=l("GAS (Google Apps Script)"),jn=l(". I use it quite heavily, but I can carry on doing that with my free accounts. None of the stuff I use it for is mission critical, if Google shuts me off tomorrow I can survive. The nice thing about GAS is that I use "),ce=n("a"),Nn=l("clasp"),Rn=l(", Google\u2019s own tool to develop on my terminal rather than the Apps Editor. Clasp allows you to store the scripts on GitHub or the storage of your choice. So this is already migrated."),Hn=p(),ut=n("li"),qn=l("I only had a few Google Docs / Sheets but cannot transfer them. That\u2019s because according to Google they belong to \u201Cmy org\u201D, and cannot be transferred. I will have to copy and paste them manually. How tedious."),Sa=p(),v=n("ul"),ue=n("li"),Bn=l("I have a few youtube playlists - I use them to bookmark music and then download it via "),de=n("a"),Vn=l("youtube-dl"),Yn=l(". I will have to copy them over to one of my free accounts"),Un=p(),dt=n("li"),Fn=l("Google Drive will be replaced by Dropbox"),Wn=p(),ht=n("li"),$n=l("Contacts"),Kn=p(),ft=n("li"),zn=l("Calendars"),Xn=p(),mt=n("li"),Zn=l("Mail. The last three are tricky and I am not going to roll my own, life\u2019s too short. I will have to find a paid service"),La=p(),De=n("p"),Jn=l("In short it\u2019s just a few things to copy over, some manually. The big one is migrating Mail / Calendars / Contacts. I will use Proton for that. They seems decent."),Ca=p(),N=n("h2"),R=n("a"),kt=n("span"),Qn=l("Copying youtube playlists from one user to another"),Ga=p(),he=n("p"),fe=n("a"),es=l("This stack overflow answer"),ts=l(" did the job."),Oa=p(),H=n("h2"),q=n("a"),yt=n("span"),as=l("Migrating to Proton mail"),Ma=p(),B=n("h3"),V=n("a"),gt=n("span"),ns=l("Setting up and importing mail"),Da=p(),je=n("p"),ss=l("The onboarding page is very good. Buying an account and setting it up is child\u2019s play. Importing all my data from Google is also super easy. Calendars imports are perfect. Contacts are usable, although I have to see what they are like to use in the phone app. The main issue is email."),ja=p(),Ne=n("p"),os=l("Importing mail into Proton is super fast. But it needs re-organising. I am quite well organised with my mail filing. I spent more than a decade fine tuning a system that I mutated from GTD, and I am quite happy with it. I have seven major areas I organise my activity in, and then nested subfolders within them. Of course GMail doesn\u2019t use folders but labels."),Na=p(),h=n("p"),ls=l("Proton is quite confusing in that it asks you to assign a label to your import. It\u2019s not spelled out, but that is an "),vt=n("em"),is=l("additional"),rs=l(" label (with the date and time of your import). Your GMail labels will stay. Although renamed. For example I had a hierarchical label "),wt=n("code"),ps=l("Admin > Bills > DE Bills"),cs=l(". Proton creates three labels for that: "),bt=n("code"),us=l("Admin"),ds=l(", "),Et=n("code"),hs=l("Admin-Bills"),fs=l(", "),_t=n("code"),ms=l("Admin-Bills-DE-Bills"),ks=l(". There is no hierarchy for labels, so they all site at the top level. Proton also have folders, which "),It=n("em"),ys=l("can"),gs=l(" be hierarchical. But AFAIK there is no easy way to convert labels to folders. You have to do it manually. In fact, it\u2019s even worse. Under the bonnet, labels and folders are the same thing. I know because I couldn\u2019t create a folder, say, called "),At=n("code"),vs=l("Admin"),ws=l(". Proton says there is already one. But there is only a label of that name. Hence they "),Pt=n("em"),bs=l("must"),Es=l(" be the same thing."),Ra=p(),Y=n("p"),_s=l("\u201CWho cares?\u201D I heard myself think. Well you do if you want to create children of "),xt=n("code"),Is=l("Admin"),As=l(". To create the tree folder structure inherent in the Gmail labels, one needs to:"),Ha=p(),w=n("ul"),L=n("li"),Ps=l("rename the top level labels (for example "),Tt=n("code"),xs=l("Admin"),Ts=l(" to "),St=n("code"),Ss=l("Admin2"),Ls=l(")"),Cs=p(),me=n("li"),Gs=l("Manually create folders with the same name as the labels before you rename them (so, "),Lt=n("code"),Os=l("Admin"),Ms=l(" for example)"),Ds=p(),Ct=n("li"),js=l("Manually recreate all nested folders (no need to rename those, there won\u2019t be any clashes)"),Ns=p(),ke=n("li"),Rs=l("Manually move mail with label X to folder X > Y > Z. For each label. For each "),Gt=n("em"),Hs=l("page"),qs=l(" of each label. You need to select all mails with that label, then move them, then remove the label. Then refresh. You will get the next page of mails for that label. Lather, rinse and repeat. IT TAKES FOREVER."),Bs=p(),Ot=n("li"),Vs=l("Delete the labels, one by one"),qa=p(),U=n("p"),Ys=l("The whole process is quite laborious, and made more by the UI. Labels are not in an alphabetical order, for a start. Also the page which lists them and the page where you can edit them are different (you can\u2019t just right click and rename it). So it\u2019s two tabs open and lots of back and forth. And to delete a label you have to select from a pulldown menu and then confirm. And you can\u2019t delete them in order - if you delete the "),Mt=n("code"),Us=l("Admin"),Fs=l(" label you also delete the nested labels (even though they are not officially nested \u{1F926}\u200D\u2642\uFE0F). It\u2019s all quite laborious and messed up."),Ba=p(),Re=n("p"),Ws=l("But it\u2019s a one off process, so I\u2019ll give it the benefit of the doubt."),Va=p(),F=n("h2"),W=n("a"),Dt=n("span"),$s=l("Conclusion: saved from a potential Kafkaesque nightmare"),Ya=p(),He=n("p"),Ks=l("I always wanted to migrate away from Google. Not because I am anti-Google or anything, but out of anxiety. They are a huge, faceless organisation without even a hint of customer support. I once worked on a youtube project for a Very Large Energy Company, which paid for support. And Google treated them like dirt, hardly returning their calls and scheduling meetings weeks down the lines. If that\u2019s how they treat a Very Large Energy Company what hope do I have. Any glitch in the system, any breach of some unspoken rule, and I can find myself locked out of my account. So many services depend on it! And nobody to contact for help. It would be a Kafkaesque nightmare. Glad I\u2019m no longer in danger now."),Ua=p(),$=n("h2"),K=n("a"),jt=n("span"),zs=l("download youtube data"),Fa=p(),qe=n("p"),ye=n("a"),Xs=l("Went to"),Wa=p(),z=n("h2"),X=n("a"),Nt=n("span"),Zs=l("Creating"),$a=p(),m=n("ol"),ge=n("li"),Js=l("Went to "),ve=n("a"),Qs=l("https://console.developers.google.com/"),eo=l(" with my free Google account, created a new project"),to=p(),Rt=n("li"),ao=l("Searched for \u2018YouTube API\u2019 and enabled it"),no=p(),Ht=n("li"),so=l("Clicked on \u2018credentials\u2019 on side bar, and then \u2018Configure consent screen\u2019. I had to pick \u2018External\u2019. Added the email address and a made up app name in the next screen."),oo=p(),qt=n("li"),lo=l("Click on \u2018add scopes\u2019 and find the YouTube API ones in the list. Select them all and clicked on \u2018save\u2019"),io=p(),Bt=n("li"),ro=l("In the next screen, added myself as a test user, then \u2018Save and Continue\u2019"),po=p(),Z=n("li"),co=l("Back on \u2018credentials\u2019 on side bar, then "),Vt=n("code"),uo=l("Create OAuth client ID"),ho=l(". Picked "),Yt=n("code"),fo=l("OAuth Client Id"),mo=p(),Ut=n("li"),ko=l("In the next screen I enter some app details. NOTE: Type should not be \u201Cweb application\u201D, but \u201Cdesktop app\u201D. Clicked on \u201Ccreate\u201D and then \u201Cdownload JSON\u201D in the modal box on the next screen"),Ka=p(),Be=n("p"),yo=l("Setting up project"),za=p(),f=n("ol"),we=n("li"),Ft=n("p"),go=l("created a folder on my local machine, then made sure the right version of python was installed with pyenv, then inited the project with poetry"),vo=p(),Ve=n("pre"),wo=p(),be=n("li"),Wt=n("p"),bo=l("Added dependencies"),Eo=p(),Ye=n("pre"),_o=p(),Ee=n("li"),_e=n("p"),Io=l("Moved the "),$t=n("code"),Ao=l("client_json_xxxxx"),Po=l(" file and playlists files to my project folder. Don\u2019t forget to add to .gitignore!"),xo=p(),Ue=n("pre"),To=p(),Ie=n("li"),Kt=n("p"),So=l("Copy the playlist data to playlists folder. Also add to .gitignore, but keep the folder"),Lo=p(),Fe=n("pre"),Co=p(),zt=n("li"),Xt=n("p"),Go=l("I manually created the target playlists in the target account. I could have used the YouTube API, but it\u2019s much faster this way"),Oo=p(),Ae=n("li"),Pe=n("p"),Mo=l("I created a config file in the plalylists folder, with pair of strings to map CSV file from the YouTube dowload and the newly created playlist. Added that file to "),Zt=n("code"),Do=l(".gitignore"),jo=l(" too, but left a blank example"),No=p(),We=n("pre"),Ro=p(),I=n("li"),Jt=n("p"),Ho=l("Started a little python script to read the local CSV data and make sure it\u2019s all there"),qo=p(),$e=n("pre"),Bo=p(),Qt=n("p"),Vo=l("The output looks legit"),Yo=p(),Ke=n("pre"),Uo=p(),xe=n("li"),ea=n("p"),Fo=l("I then try logging into the Google Api"),Wo=p(),ze=n("pre"),Xa=p(),E=n("ul"),ta=n("li"),$o=l("def get_authenticated_service():"),Ko=p(),aa=n("li"),zo=l("flow = InstalledAppFlow.from_client_secrets_file(CLIENT_SECRETS_FILE, SCOPES)"),Xo=p(),na=n("li"),Zo=l("credentials = flow.run_console()"),Jo=p(),sa=n("li"),Qo=l("return build(API_SERVICE_NAME, API_VERSION, credentials=credentials)"),Za=p(),J=n("ul"),oa=n("li"),el=l("def print_response(response):"),tl=p(),la=n("li"),al=l("print(response)"),Ja=p(),Xe=n("p"),nl=l(`for csv_filename, playlist_code in filenames:
\u2026`),Qa=p(),y=n("ul"),ia=n("li"),C=n("p"),sl=l("if "),ra=n("strong"),ol=l("name"),ll=l(" == \u201D"),pa=n("strong"),il=l("main"),rl=l("\u201C:"),pl=p(),ca=n("li"),Te=n("h1"),Q=n("a"),ua=n("span"),cl=l("When running locally, disable OAuthlib\u2019s"),ul=p(),da=n("li"),Se=n("h1"),ee=n("a"),ha=n("span"),dl=l("HTTPs verification. When running in production"),hl=p(),fa=n("li"),te=n("h1"),ae=n("a"),ma=n("span"),ka=n("em"),fl=l("do not"),ml=l(" leave this option enabled."),kl=p(),ya=n("li"),ga=n("p"),yl=l("os.environ[\u201COAUTHLIB_INSECURE_TRANSPORT\u201D] = \u201C1\u201D"),gl=p(),G=n("li"),va=n("p"),vl=l(`client = get_authenticated_service()
main()`),wl=p(),Ze=n("pre"),bl=p(),wa=n("p"),El=l("I paste the URL in a browser, authenticate, copy the code, and paste it on the CLI. I have to do this every time I run the script, but it works"),en=p(),Je=n("ol"),Le=n("li"),Ce=n("p"),_l=l("Then it\u2019s a matter of creating a function to add the video to the playlist. There is an issue that one is only allowed a quota, which at the time of writing works out to about 100 videos per day. I could add code to save the excess videoIds to a new spreadsheet, to be uploaded tomorrow. But once again, this is a one off job and I can do that part manually. If I "),ba=n("em"),Il=l("were"),Al=l(" to go down that route, I would probably collate all the CSV files into a single one, then it would be simpler to handle. Instead the script bails out when it realises the quota has been reached."),Pl=p(),Qe=n("pre"),tn=p(),ne=n("h3"),se=n("a"),Ea=n("span"),xl=l("Downloading google script"),an=p(),et=n("p"),Tl=l(`pnpm i -g @google/clasp
clasp login login
clasp clone [script id]`),nn=p(),oe=n("h3"),le=n("a"),_a=n("span"),Sl=l("Conclusion"),sn=p(),tt=n("p"),Ll=l("It\u2019s the kind of script that is barely useful if you run it once, although it is interesting to play with the YouTube API every now and then. But it will more useful later"),on=p(),at=n("p"),Ge=n("a"),Cl=l("https://www.geeksforgeeks.org/youtube-data-api-playlist-set-1"),this.h()},l(a){A=s(a,"H2",{id:!0});var u=o(A);O=s(u,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Fl=o(O);rt=s(Fl,"SPAN",{class:!0}),o(rt).forEach(t),Fl.forEach(t),Pn=i(u,"Times are tough, ad revenue is down"),u.forEach(t),Aa=c(a),Oe=s(a,"P",{});var Wl=o(Oe);xn=i(Wl,"Google is not well. Not only the search engine is losing its edge, but ad revenue is going down. They sent an email to one of my free accounts which simply said \u201CA quick reminder that showing ads is the primary way we fund our services\u201D. And then a link to change my privacy settings. The mail didn\u2019t even tell me which settings exactly are troubling them. Smacked of desperation. And then of course if you follow the link, out of curiosity more than goodwill, you have to login first. And then the UI forgets what the original link was and you are just left there. Oh google, google."),Wl.forEach(t),Pa=c(a),M=s(a,"P",{});var ln=o(M);Tn=i(ln,"More importantly, they want to charge "),pe=s(ln,"A",{href:!0,rel:!0});var $l=o(pe);Sn=i($l,"\u201Csmall businesses\u201D for using the google mail servers"),$l.forEach(t),Ln=i(ln,". By \u201Csmall business\u201D they mean anyone with their on domain. What a mercantile view of the internet, google. Anyway it\u2019s fair enough, they already data mined the shit out of our private correspondence. They don\u2019t need us any more, they know us better than we know ourselves. I wish I had the time, skills, and inclination to manage my own web server, but I don\u2019t. So I will take this chance to migrate away from them. As it happens my Samsung also died at the same time (second time around - I don\u2019t think I will bother with them any more), so it\u2019s a chance to move to an iPhone."),ln.forEach(t),xa=c(a),D=s(a,"H2",{id:!0});var Gl=o(D);j=s(Gl,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Kl=o(j);pt=s(Kl,"SPAN",{class:!0}),o(pt).forEach(t),Kl.forEach(t),Cn=i(Gl,"Migrating away from Google - a laundry list"),Gl.forEach(t),Ta=c(a),P=s(a,"OL",{});var nt=o(P);ct=s(nt,"LI",{});var zl=o(ct);Gn=i(zl,"At work we use GCP heavily of course, but I personally don\u2019t use any of that. Except for GAS, but that\u2019s its own story"),zl.forEach(t),On=c(nt),S=s(nt,"LI",{});var st=o(S);Mn=i(st,"So, "),Me=s(st,"A",{href:!0});var Xl=o(Me);Dn=i(Xl,"GAS (Google Apps Script)"),Xl.forEach(t),jn=i(st,". I use it quite heavily, but I can carry on doing that with my free accounts. None of the stuff I use it for is mission critical, if Google shuts me off tomorrow I can survive. The nice thing about GAS is that I use "),ce=s(st,"A",{href:!0,rel:!0});var Zl=o(ce);Nn=i(Zl,"clasp"),Zl.forEach(t),Rn=i(st,", Google\u2019s own tool to develop on my terminal rather than the Apps Editor. Clasp allows you to store the scripts on GitHub or the storage of your choice. So this is already migrated."),st.forEach(t),Hn=c(nt),ut=s(nt,"LI",{});var Jl=o(ut);qn=i(Jl,"I only had a few Google Docs / Sheets but cannot transfer them. That\u2019s because according to Google they belong to \u201Cmy org\u201D, and cannot be transferred. I will have to copy and paste them manually. How tedious."),Jl.forEach(t),nt.forEach(t),Sa=c(a),v=s(a,"UL",{});var x=o(v);ue=s(x,"LI",{});var rn=o(ue);Bn=i(rn,"I have a few youtube playlists - I use them to bookmark music and then download it via "),de=s(rn,"A",{href:!0,rel:!0});var Ql=o(de);Vn=i(Ql,"youtube-dl"),Ql.forEach(t),Yn=i(rn,". I will have to copy them over to one of my free accounts"),rn.forEach(t),Un=c(x),dt=s(x,"LI",{});var ei=o(dt);Fn=i(ei,"Google Drive will be replaced by Dropbox"),ei.forEach(t),Wn=c(x),ht=s(x,"LI",{});var ti=o(ht);$n=i(ti,"Contacts"),ti.forEach(t),Kn=c(x),ft=s(x,"LI",{});var ai=o(ft);zn=i(ai,"Calendars"),ai.forEach(t),Xn=c(x),mt=s(x,"LI",{});var ni=o(mt);Zn=i(ni,"Mail. The last three are tricky and I am not going to roll my own, life\u2019s too short. I will have to find a paid service"),ni.forEach(t),x.forEach(t),La=c(a),De=s(a,"P",{});var si=o(De);Jn=i(si,"In short it\u2019s just a few things to copy over, some manually. The big one is migrating Mail / Calendars / Contacts. I will use Proton for that. They seems decent."),si.forEach(t),Ca=c(a),N=s(a,"H2",{id:!0});var Ol=o(N);R=s(Ol,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var oi=o(R);kt=s(oi,"SPAN",{class:!0}),o(kt).forEach(t),oi.forEach(t),Qn=i(Ol,"Copying youtube playlists from one user to another"),Ol.forEach(t),Ga=c(a),he=s(a,"P",{});var Ml=o(he);fe=s(Ml,"A",{href:!0,rel:!0});var li=o(fe);es=i(li,"This stack overflow answer"),li.forEach(t),ts=i(Ml," did the job."),Ml.forEach(t),Oa=c(a),H=s(a,"H2",{id:!0});var Dl=o(H);q=s(Dl,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var ii=o(q);yt=s(ii,"SPAN",{class:!0}),o(yt).forEach(t),ii.forEach(t),as=i(Dl,"Migrating to Proton mail"),Dl.forEach(t),Ma=c(a),B=s(a,"H3",{id:!0});var jl=o(B);V=s(jl,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var ri=o(V);gt=s(ri,"SPAN",{class:!0}),o(gt).forEach(t),ri.forEach(t),ns=i(jl,"Setting up and importing mail"),jl.forEach(t),Da=c(a),je=s(a,"P",{});var pi=o(je);ss=i(pi,"The onboarding page is very good. Buying an account and setting it up is child\u2019s play. Importing all my data from Google is also super easy. Calendars imports are perfect. Contacts are usable, although I have to see what they are like to use in the phone app. The main issue is email."),pi.forEach(t),ja=c(a),Ne=s(a,"P",{});var ci=o(Ne);os=i(ci,"Importing mail into Proton is super fast. But it needs re-organising. I am quite well organised with my mail filing. I spent more than a decade fine tuning a system that I mutated from GTD, and I am quite happy with it. I have seven major areas I organise my activity in, and then nested subfolders within them. Of course GMail doesn\u2019t use folders but labels."),ci.forEach(t),Na=c(a),h=s(a,"P",{});var k=o(h);ls=i(k,"Proton is quite confusing in that it asks you to assign a label to your import. It\u2019s not spelled out, but that is an "),vt=s(k,"EM",{});var ui=o(vt);is=i(ui,"additional"),ui.forEach(t),rs=i(k," label (with the date and time of your import). Your GMail labels will stay. Although renamed. For example I had a hierarchical label "),wt=s(k,"CODE",{});var di=o(wt);ps=i(di,"Admin > Bills > DE Bills"),di.forEach(t),cs=i(k,". Proton creates three labels for that: "),bt=s(k,"CODE",{});var hi=o(bt);us=i(hi,"Admin"),hi.forEach(t),ds=i(k,", "),Et=s(k,"CODE",{});var fi=o(Et);hs=i(fi,"Admin-Bills"),fi.forEach(t),fs=i(k,", "),_t=s(k,"CODE",{});var mi=o(_t);ms=i(mi,"Admin-Bills-DE-Bills"),mi.forEach(t),ks=i(k,". There is no hierarchy for labels, so they all site at the top level. Proton also have folders, which "),It=s(k,"EM",{});var ki=o(It);ys=i(ki,"can"),ki.forEach(t),gs=i(k," be hierarchical. But AFAIK there is no easy way to convert labels to folders. You have to do it manually. In fact, it\u2019s even worse. Under the bonnet, labels and folders are the same thing. I know because I couldn\u2019t create a folder, say, called "),At=s(k,"CODE",{});var yi=o(At);vs=i(yi,"Admin"),yi.forEach(t),ws=i(k,". Proton says there is already one. But there is only a label of that name. Hence they "),Pt=s(k,"EM",{});var gi=o(Pt);bs=i(gi,"must"),gi.forEach(t),Es=i(k," be the same thing."),k.forEach(t),Ra=c(a),Y=s(a,"P",{});var pn=o(Y);_s=i(pn,"\u201CWho cares?\u201D I heard myself think. Well you do if you want to create children of "),xt=s(pn,"CODE",{});var vi=o(xt);Is=i(vi,"Admin"),vi.forEach(t),As=i(pn,". To create the tree folder structure inherent in the Gmail labels, one needs to:"),pn.forEach(t),Ha=c(a),w=s(a,"UL",{});var T=o(w);L=s(T,"LI",{});var ot=o(L);Ps=i(ot,"rename the top level labels (for example "),Tt=s(ot,"CODE",{});var wi=o(Tt);xs=i(wi,"Admin"),wi.forEach(t),Ts=i(ot," to "),St=s(ot,"CODE",{});var bi=o(St);Ss=i(bi,"Admin2"),bi.forEach(t),Ls=i(ot,")"),ot.forEach(t),Cs=c(T),me=s(T,"LI",{});var cn=o(me);Gs=i(cn,"Manually create folders with the same name as the labels before you rename them (so, "),Lt=s(cn,"CODE",{});var Ei=o(Lt);Os=i(Ei,"Admin"),Ei.forEach(t),Ms=i(cn," for example)"),cn.forEach(t),Ds=c(T),Ct=s(T,"LI",{});var _i=o(Ct);js=i(_i,"Manually recreate all nested folders (no need to rename those, there won\u2019t be any clashes)"),_i.forEach(t),Ns=c(T),ke=s(T,"LI",{});var un=o(ke);Rs=i(un,"Manually move mail with label X to folder X > Y > Z. For each label. For each "),Gt=s(un,"EM",{});var Ii=o(Gt);Hs=i(Ii,"page"),Ii.forEach(t),qs=i(un," of each label. You need to select all mails with that label, then move them, then remove the label. Then refresh. You will get the next page of mails for that label. Lather, rinse and repeat. IT TAKES FOREVER."),un.forEach(t),Bs=c(T),Ot=s(T,"LI",{});var Ai=o(Ot);Vs=i(Ai,"Delete the labels, one by one"),Ai.forEach(t),T.forEach(t),qa=c(a),U=s(a,"P",{});var dn=o(U);Ys=i(dn,"The whole process is quite laborious, and made more by the UI. Labels are not in an alphabetical order, for a start. Also the page which lists them and the page where you can edit them are different (you can\u2019t just right click and rename it). So it\u2019s two tabs open and lots of back and forth. And to delete a label you have to select from a pulldown menu and then confirm. And you can\u2019t delete them in order - if you delete the "),Mt=s(dn,"CODE",{});var Pi=o(Mt);Us=i(Pi,"Admin"),Pi.forEach(t),Fs=i(dn," label you also delete the nested labels (even though they are not officially nested \u{1F926}\u200D\u2642\uFE0F). It\u2019s all quite laborious and messed up."),dn.forEach(t),Ba=c(a),Re=s(a,"P",{});var xi=o(Re);Ws=i(xi,"But it\u2019s a one off process, so I\u2019ll give it the benefit of the doubt."),xi.forEach(t),Va=c(a),F=s(a,"H2",{id:!0});var Nl=o(F);W=s(Nl,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Ti=o(W);Dt=s(Ti,"SPAN",{class:!0}),o(Dt).forEach(t),Ti.forEach(t),$s=i(Nl,"Conclusion: saved from a potential Kafkaesque nightmare"),Nl.forEach(t),Ya=c(a),He=s(a,"P",{});var Si=o(He);Ks=i(Si,"I always wanted to migrate away from Google. Not because I am anti-Google or anything, but out of anxiety. They are a huge, faceless organisation without even a hint of customer support. I once worked on a youtube project for a Very Large Energy Company, which paid for support. And Google treated them like dirt, hardly returning their calls and scheduling meetings weeks down the lines. If that\u2019s how they treat a Very Large Energy Company what hope do I have. Any glitch in the system, any breach of some unspoken rule, and I can find myself locked out of my account. So many services depend on it! And nobody to contact for help. It would be a Kafkaesque nightmare. Glad I\u2019m no longer in danger now."),Si.forEach(t),Ua=c(a),$=s(a,"H2",{id:!0});var Rl=o($);K=s(Rl,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Li=o(K);jt=s(Li,"SPAN",{class:!0}),o(jt).forEach(t),Li.forEach(t),zs=i(Rl,"download youtube data"),Rl.forEach(t),Fa=c(a),qe=s(a,"P",{});var Ci=o(qe);ye=s(Ci,"A",{href:!0,rel:!0});var Gi=o(ye);Xs=i(Gi,"Went to"),Gi.forEach(t),Ci.forEach(t),Wa=c(a),z=s(a,"H2",{id:!0});var Hl=o(z);X=s(Hl,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Oi=o(X);Nt=s(Oi,"SPAN",{class:!0}),o(Nt).forEach(t),Oi.forEach(t),Zs=i(Hl,"Creating"),Hl.forEach(t),$a=c(a),m=s(a,"OL",{});var b=o(m);ge=s(b,"LI",{});var hn=o(ge);Js=i(hn,"Went to "),ve=s(hn,"A",{href:!0,rel:!0});var Mi=o(ve);Qs=i(Mi,"https://console.developers.google.com/"),Mi.forEach(t),eo=i(hn," with my free Google account, created a new project"),hn.forEach(t),to=c(b),Rt=s(b,"LI",{});var Di=o(Rt);ao=i(Di,"Searched for \u2018YouTube API\u2019 and enabled it"),Di.forEach(t),no=c(b),Ht=s(b,"LI",{});var ji=o(Ht);so=i(ji,"Clicked on \u2018credentials\u2019 on side bar, and then \u2018Configure consent screen\u2019. I had to pick \u2018External\u2019. Added the email address and a made up app name in the next screen."),ji.forEach(t),oo=c(b),qt=s(b,"LI",{});var Ni=o(qt);lo=i(Ni,"Click on \u2018add scopes\u2019 and find the YouTube API ones in the list. Select them all and clicked on \u2018save\u2019"),Ni.forEach(t),io=c(b),Bt=s(b,"LI",{});var Ri=o(Bt);ro=i(Ri,"In the next screen, added myself as a test user, then \u2018Save and Continue\u2019"),Ri.forEach(t),po=c(b),Z=s(b,"LI",{});var Ia=o(Z);co=i(Ia,"Back on \u2018credentials\u2019 on side bar, then "),Vt=s(Ia,"CODE",{});var Hi=o(Vt);uo=i(Hi,"Create OAuth client ID"),Hi.forEach(t),ho=i(Ia,". Picked "),Yt=s(Ia,"CODE",{});var qi=o(Yt);fo=i(qi,"OAuth Client Id"),qi.forEach(t),Ia.forEach(t),mo=c(b),Ut=s(b,"LI",{});var Bi=o(Ut);ko=i(Bi,"In the next screen I enter some app details. NOTE: Type should not be \u201Cweb application\u201D, but \u201Cdesktop app\u201D. Clicked on \u201Ccreate\u201D and then \u201Cdownload JSON\u201D in the modal box on the next screen"),Bi.forEach(t),b.forEach(t),Ka=c(a),Be=s(a,"P",{});var Vi=o(Be);yo=i(Vi,"Setting up project"),Vi.forEach(t),za=c(a),f=s(a,"OL",{});var g=o(f);we=s(g,"LI",{});var fn=o(we);Ft=s(fn,"P",{});var Yi=o(Ft);go=i(Yi,"created a folder on my local machine, then made sure the right version of python was installed with pyenv, then inited the project with poetry"),Yi.forEach(t),vo=c(fn),Ve=s(fn,"PRE",{class:!0});var Hr=o(Ve);Hr.forEach(t),fn.forEach(t),wo=c(g),be=s(g,"LI",{});var mn=o(be);Wt=s(mn,"P",{});var Ui=o(Wt);bo=i(Ui,"Added dependencies"),Ui.forEach(t),Eo=c(mn),Ye=s(mn,"PRE",{class:!0});var qr=o(Ye);qr.forEach(t),mn.forEach(t),_o=c(g),Ee=s(g,"LI",{});var kn=o(Ee);_e=s(kn,"P",{});var yn=o(_e);Io=i(yn,"Moved the "),$t=s(yn,"CODE",{});var Fi=o($t);Ao=i(Fi,"client_json_xxxxx"),Fi.forEach(t),Po=i(yn," file and playlists files to my project folder. Don\u2019t forget to add to .gitignore!"),yn.forEach(t),xo=c(kn),Ue=s(kn,"PRE",{class:!0});var Br=o(Ue);Br.forEach(t),kn.forEach(t),To=c(g),Ie=s(g,"LI",{});var gn=o(Ie);Kt=s(gn,"P",{});var Wi=o(Kt);So=i(Wi,"Copy the playlist data to playlists folder. Also add to .gitignore, but keep the folder"),Wi.forEach(t),Lo=c(gn),Fe=s(gn,"PRE",{class:!0});var Vr=o(Fe);Vr.forEach(t),gn.forEach(t),Co=c(g),zt=s(g,"LI",{});var $i=o(zt);Xt=s($i,"P",{});var Ki=o(Xt);Go=i(Ki,"I manually created the target playlists in the target account. I could have used the YouTube API, but it\u2019s much faster this way"),Ki.forEach(t),$i.forEach(t),Oo=c(g),Ae=s(g,"LI",{});var vn=o(Ae);Pe=s(vn,"P",{});var wn=o(Pe);Mo=i(wn,"I created a config file in the plalylists folder, with pair of strings to map CSV file from the YouTube dowload and the newly created playlist. Added that file to "),Zt=s(wn,"CODE",{});var zi=o(Zt);Do=i(zi,".gitignore"),zi.forEach(t),jo=i(wn," too, but left a blank example"),wn.forEach(t),No=c(vn),We=s(vn,"PRE",{class:!0});var Yr=o(We);Yr.forEach(t),vn.forEach(t),Ro=c(g),I=s(g,"LI",{});var ie=o(I);Jt=s(ie,"P",{});var Xi=o(Jt);Ho=i(Xi,"Started a little python script to read the local CSV data and make sure it\u2019s all there"),Xi.forEach(t),qo=c(ie),$e=s(ie,"PRE",{class:!0});var Ur=o($e);Ur.forEach(t),Bo=c(ie),Qt=s(ie,"P",{});var Zi=o(Qt);Vo=i(Zi,"The output looks legit"),Zi.forEach(t),Yo=c(ie),Ke=s(ie,"PRE",{class:!0});var Fr=o(Ke);Fr.forEach(t),ie.forEach(t),Uo=c(g),xe=s(g,"LI",{});var bn=o(xe);ea=s(bn,"P",{});var Ji=o(ea);Fo=i(Ji,"I then try logging into the Google Api"),Ji.forEach(t),Wo=c(bn),ze=s(bn,"PRE",{class:!0});var Wr=o(ze);Wr.forEach(t),bn.forEach(t),g.forEach(t),Xa=c(a),E=s(a,"UL",{});var re=o(E);ta=s(re,"LI",{});var Qi=o(ta);$o=i(Qi,"def get_authenticated_service():"),Qi.forEach(t),Ko=c(re),aa=s(re,"LI",{});var er=o(aa);zo=i(er,"flow = InstalledAppFlow.from_client_secrets_file(CLIENT_SECRETS_FILE, SCOPES)"),er.forEach(t),Xo=c(re),na=s(re,"LI",{});var tr=o(na);Zo=i(tr,"credentials = flow.run_console()"),tr.forEach(t),Jo=c(re),sa=s(re,"LI",{});var ar=o(sa);Qo=i(ar,"return build(API_SERVICE_NAME, API_VERSION, credentials=credentials)"),ar.forEach(t),re.forEach(t),Za=c(a),J=s(a,"UL",{});var En=o(J);oa=s(En,"LI",{});var nr=o(oa);el=i(nr,"def print_response(response):"),nr.forEach(t),tl=c(En),la=s(En,"LI",{});var sr=o(la);al=i(sr,"print(response)"),sr.forEach(t),En.forEach(t),Ja=c(a),Xe=s(a,"P",{});var or=o(Xe);nl=i(or,`for csv_filename, playlist_code in filenames:
\u2026`),or.forEach(t),Qa=c(a),y=s(a,"UL",{});var _=o(y);ia=s(_,"LI",{});var lr=o(ia);C=s(lr,"P",{});var lt=o(C);sl=i(lt,"if "),ra=s(lt,"STRONG",{});var ir=o(ra);ol=i(ir,"name"),ir.forEach(t),ll=i(lt," == \u201D"),pa=s(lt,"STRONG",{});var rr=o(pa);il=i(rr,"main"),rr.forEach(t),rl=i(lt,"\u201C:"),lt.forEach(t),lr.forEach(t),pl=c(_),ca=s(_,"LI",{});var pr=o(ca);Te=s(pr,"H1",{id:!0});var ql=o(Te);Q=s(ql,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var cr=o(Q);ua=s(cr,"SPAN",{class:!0}),o(ua).forEach(t),cr.forEach(t),cl=i(ql,"When running locally, disable OAuthlib\u2019s"),ql.forEach(t),pr.forEach(t),ul=c(_),da=s(_,"LI",{});var ur=o(da);Se=s(ur,"H1",{id:!0});var Bl=o(Se);ee=s(Bl,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var dr=o(ee);ha=s(dr,"SPAN",{class:!0}),o(ha).forEach(t),dr.forEach(t),dl=i(Bl,"HTTPs verification. When running in production"),Bl.forEach(t),ur.forEach(t),hl=c(_),fa=s(_,"LI",{});var hr=o(fa);te=s(hr,"H1",{id:!0});var _n=o(te);ae=s(_n,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var fr=o(ae);ma=s(fr,"SPAN",{class:!0}),o(ma).forEach(t),fr.forEach(t),ka=s(_n,"EM",{});var mr=o(ka);fl=i(mr,"do not"),mr.forEach(t),ml=i(_n," leave this option enabled."),_n.forEach(t),hr.forEach(t),kl=c(_),ya=s(_,"LI",{});var kr=o(ya);ga=s(kr,"P",{});var yr=o(ga);yl=i(yr,"os.environ[\u201COAUTHLIB_INSECURE_TRANSPORT\u201D] = \u201C1\u201D"),yr.forEach(t),kr.forEach(t),gl=c(_),G=s(_,"LI",{});var it=o(G);va=s(it,"P",{});var gr=o(va);vl=i(gr,`client = get_authenticated_service()
main()`),gr.forEach(t),wl=c(it),Ze=s(it,"PRE",{class:!0});var $r=o(Ze);$r.forEach(t),bl=c(it),wa=s(it,"P",{});var vr=o(wa);El=i(vr,"I paste the URL in a browser, authenticate, copy the code, and paste it on the CLI. I have to do this every time I run the script, but it works"),vr.forEach(t),it.forEach(t),_.forEach(t),en=c(a),Je=s(a,"OL",{});var wr=o(Je);Le=s(wr,"LI",{});var In=o(Le);Ce=s(In,"P",{});var An=o(Ce);_l=i(An,"Then it\u2019s a matter of creating a function to add the video to the playlist. There is an issue that one is only allowed a quota, which at the time of writing works out to about 100 videos per day. I could add code to save the excess videoIds to a new spreadsheet, to be uploaded tomorrow. But once again, this is a one off job and I can do that part manually. If I "),ba=s(An,"EM",{});var br=o(ba);Il=i(br,"were"),br.forEach(t),Al=i(An," to go down that route, I would probably collate all the CSV files into a single one, then it would be simpler to handle. Instead the script bails out when it realises the quota has been reached."),An.forEach(t),Pl=c(In),Qe=s(In,"PRE",{class:!0});var Kr=o(Qe);Kr.forEach(t),In.forEach(t),wr.forEach(t),tn=c(a),ne=s(a,"H3",{id:!0});var Vl=o(ne);se=s(Vl,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Er=o(se);Ea=s(Er,"SPAN",{class:!0}),o(Ea).forEach(t),Er.forEach(t),xl=i(Vl,"Downloading google script"),Vl.forEach(t),an=c(a),et=s(a,"P",{});var _r=o(et);Tl=i(_r,`pnpm i -g @google/clasp
clasp login login
clasp clone [script id]`),_r.forEach(t),nn=c(a),oe=s(a,"H3",{id:!0});var Yl=o(oe);le=s(Yl,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Ir=o(le);_a=s(Ir,"SPAN",{class:!0}),o(_a).forEach(t),Ir.forEach(t),Sl=i(Yl,"Conclusion"),Yl.forEach(t),sn=c(a),tt=s(a,"P",{});var Ar=o(tt);Ll=i(Ar,"It\u2019s the kind of script that is barely useful if you run it once, although it is interesting to play with the YouTube API every now and then. But it will more useful later"),Ar.forEach(t),on=c(a),at=s(a,"P",{});var Pr=o(at);Ge=s(Pr,"A",{href:!0,rel:!0});var xr=o(Ge);Cl=i(xr,"https://www.geeksforgeeks.org/youtube-data-api-playlist-set-1"),xr.forEach(t),Pr.forEach(t),this.h()},h(){r(rt,"class","icon icon-link"),r(O,"aria-hidden","true"),r(O,"tabindex","-1"),r(O,"href","#times-are-tough-ad-revenue-is-down"),r(A,"id","times-are-tough-ad-revenue-is-down"),r(pe,"href","https://www.inputmag.com/tech/google-charging-small-business-owners-google-workspace"),r(pe,"rel","nofollow"),r(pt,"class","icon icon-link"),r(j,"aria-hidden","true"),r(j,"tabindex","-1"),r(j,"href","#migrating-away-from-google---a-laundry-list"),r(D,"id","migrating-away-from-google---a-laundry-list"),r(Me,"href","/tags/Google%20Apps%20Script"),r(ce,"href","https://developers.google.com/apps-script/guides/clasp"),r(ce,"rel","nofollow"),r(de,"href","https://youtube-dl.org/"),r(de,"rel","nofollow"),r(kt,"class","icon icon-link"),r(R,"aria-hidden","true"),r(R,"tabindex","-1"),r(R,"href","#copying-youtube-playlists-from-one-user-to-another"),r(N,"id","copying-youtube-playlists-from-one-user-to-another"),r(fe,"href","https://webapps.stackexchange.com/a/154530"),r(fe,"rel","nofollow"),r(yt,"class","icon icon-link"),r(q,"aria-hidden","true"),r(q,"tabindex","-1"),r(q,"href","#migrating-to-proton-mail"),r(H,"id","migrating-to-proton-mail"),r(gt,"class","icon icon-link"),r(V,"aria-hidden","true"),r(V,"tabindex","-1"),r(V,"href","#setting-up-and-importing-mail"),r(B,"id","setting-up-and-importing-mail"),r(Dt,"class","icon icon-link"),r(W,"aria-hidden","true"),r(W,"tabindex","-1"),r(W,"href","#conclusion-saved-from-a-potential-kafkaesque-nightmare"),r(F,"id","conclusion-saved-from-a-potential-kafkaesque-nightmare"),r(jt,"class","icon icon-link"),r(K,"aria-hidden","true"),r(K,"tabindex","-1"),r(K,"href","#download-youtube-data"),r($,"id","download-youtube-data"),r(ye,"href","https://takeout.google.com/settings/takeout/downloads"),r(ye,"rel","nofollow"),r(Nt,"class","icon icon-link"),r(X,"aria-hidden","true"),r(X,"tabindex","-1"),r(X,"href","#creating"),r(z,"id","creating"),r(ve,"href","https://console.developers.google.com/"),r(ve,"rel","nofollow"),r(Ve,"class","language-bash"),r(Ye,"class","language-bash"),r(Ue,"class","language-bash"),r(Fe,"class","language-bash"),r(We,"class","language-json"),r($e,"class","language-python"),r(Ke,"class","language-bash"),r(ze,"class","language-diff"),r(ua,"class","icon icon-link"),r(Q,"aria-hidden","true"),r(Q,"tabindex","-1"),r(Q,"href","#when-running-locally-disable-oauthlibs"),r(Te,"id","when-running-locally-disable-oauthlibs"),r(ha,"class","icon icon-link"),r(ee,"aria-hidden","true"),r(ee,"tabindex","-1"),r(ee,"href","#https-verification-when-running-in-production"),r(Se,"id","https-verification-when-running-in-production"),r(ma,"class","icon icon-link"),r(ae,"aria-hidden","true"),r(ae,"tabindex","-1"),r(ae,"href","#-do-not--leave-this-option-enabled"),r(te,"id","-do-not--leave-this-option-enabled"),r(Ze,"class","language-undefined"),r(Qe,"class","language-python"),r(Ea,"class","icon icon-link"),r(se,"aria-hidden","true"),r(se,"tabindex","-1"),r(se,"href","#downloading-google-script"),r(ne,"id","downloading-google-script"),r(_a,"class","icon icon-link"),r(le,"aria-hidden","true"),r(le,"tabindex","-1"),r(le,"href","#conclusion"),r(oe,"id","conclusion"),r(Ge,"href","https://www.geeksforgeeks.org/youtube-data-api-playlist-set-1"),r(Ge,"rel","nofollow")},m(a,u){d(a,A,u),e(A,O),e(O,rt),e(A,Pn),d(a,Aa,u),d(a,Oe,u),e(Oe,xn),d(a,Pa,u),d(a,M,u),e(M,Tn),e(M,pe),e(pe,Sn),e(M,Ln),d(a,xa,u),d(a,D,u),e(D,j),e(j,pt),e(D,Cn),d(a,Ta,u),d(a,P,u),e(P,ct),e(ct,Gn),e(P,On),e(P,S),e(S,Mn),e(S,Me),e(Me,Dn),e(S,jn),e(S,ce),e(ce,Nn),e(S,Rn),e(P,Hn),e(P,ut),e(ut,qn),d(a,Sa,u),d(a,v,u),e(v,ue),e(ue,Bn),e(ue,de),e(de,Vn),e(ue,Yn),e(v,Un),e(v,dt),e(dt,Fn),e(v,Wn),e(v,ht),e(ht,$n),e(v,Kn),e(v,ft),e(ft,zn),e(v,Xn),e(v,mt),e(mt,Zn),d(a,La,u),d(a,De,u),e(De,Jn),d(a,Ca,u),d(a,N,u),e(N,R),e(R,kt),e(N,Qn),d(a,Ga,u),d(a,he,u),e(he,fe),e(fe,es),e(he,ts),d(a,Oa,u),d(a,H,u),e(H,q),e(q,yt),e(H,as),d(a,Ma,u),d(a,B,u),e(B,V),e(V,gt),e(B,ns),d(a,Da,u),d(a,je,u),e(je,ss),d(a,ja,u),d(a,Ne,u),e(Ne,os),d(a,Na,u),d(a,h,u),e(h,ls),e(h,vt),e(vt,is),e(h,rs),e(h,wt),e(wt,ps),e(h,cs),e(h,bt),e(bt,us),e(h,ds),e(h,Et),e(Et,hs),e(h,fs),e(h,_t),e(_t,ms),e(h,ks),e(h,It),e(It,ys),e(h,gs),e(h,At),e(At,vs),e(h,ws),e(h,Pt),e(Pt,bs),e(h,Es),d(a,Ra,u),d(a,Y,u),e(Y,_s),e(Y,xt),e(xt,Is),e(Y,As),d(a,Ha,u),d(a,w,u),e(w,L),e(L,Ps),e(L,Tt),e(Tt,xs),e(L,Ts),e(L,St),e(St,Ss),e(L,Ls),e(w,Cs),e(w,me),e(me,Gs),e(me,Lt),e(Lt,Os),e(me,Ms),e(w,Ds),e(w,Ct),e(Ct,js),e(w,Ns),e(w,ke),e(ke,Rs),e(ke,Gt),e(Gt,Hs),e(ke,qs),e(w,Bs),e(w,Ot),e(Ot,Vs),d(a,qa,u),d(a,U,u),e(U,Ys),e(U,Mt),e(Mt,Us),e(U,Fs),d(a,Ba,u),d(a,Re,u),e(Re,Ws),d(a,Va,u),d(a,F,u),e(F,W),e(W,Dt),e(F,$s),d(a,Ya,u),d(a,He,u),e(He,Ks),d(a,Ua,u),d(a,$,u),e($,K),e(K,jt),e($,zs),d(a,Fa,u),d(a,qe,u),e(qe,ye),e(ye,Xs),d(a,Wa,u),d(a,z,u),e(z,X),e(X,Nt),e(z,Zs),d(a,$a,u),d(a,m,u),e(m,ge),e(ge,Js),e(ge,ve),e(ve,Qs),e(ge,eo),e(m,to),e(m,Rt),e(Rt,ao),e(m,no),e(m,Ht),e(Ht,so),e(m,oo),e(m,qt),e(qt,lo),e(m,io),e(m,Bt),e(Bt,ro),e(m,po),e(m,Z),e(Z,co),e(Z,Vt),e(Vt,uo),e(Z,ho),e(Z,Yt),e(Yt,fo),e(m,mo),e(m,Ut),e(Ut,ko),d(a,Ka,u),d(a,Be,u),e(Be,yo),d(a,za,u),d(a,f,u),e(f,we),e(we,Ft),e(Ft,go),e(we,vo),e(we,Ve),Ve.innerHTML=Sr,e(f,wo),e(f,be),e(be,Wt),e(Wt,bo),e(be,Eo),e(be,Ye),Ye.innerHTML=Lr,e(f,_o),e(f,Ee),e(Ee,_e),e(_e,Io),e(_e,$t),e($t,Ao),e(_e,Po),e(Ee,xo),e(Ee,Ue),Ue.innerHTML=Cr,e(f,To),e(f,Ie),e(Ie,Kt),e(Kt,So),e(Ie,Lo),e(Ie,Fe),Fe.innerHTML=Gr,e(f,Co),e(f,zt),e(zt,Xt),e(Xt,Go),e(f,Oo),e(f,Ae),e(Ae,Pe),e(Pe,Mo),e(Pe,Zt),e(Zt,Do),e(Pe,jo),e(Ae,No),e(Ae,We),We.innerHTML=Or,e(f,Ro),e(f,I),e(I,Jt),e(Jt,Ho),e(I,qo),e(I,$e),$e.innerHTML=Mr,e(I,Bo),e(I,Qt),e(Qt,Vo),e(I,Yo),e(I,Ke),Ke.innerHTML=Dr,e(f,Uo),e(f,xe),e(xe,ea),e(ea,Fo),e(xe,Wo),e(xe,ze),ze.innerHTML=jr,d(a,Xa,u),d(a,E,u),e(E,ta),e(ta,$o),e(E,Ko),e(E,aa),e(aa,zo),e(E,Xo),e(E,na),e(na,Zo),e(E,Jo),e(E,sa),e(sa,Qo),d(a,Za,u),d(a,J,u),e(J,oa),e(oa,el),e(J,tl),e(J,la),e(la,al),d(a,Ja,u),d(a,Xe,u),e(Xe,nl),d(a,Qa,u),d(a,y,u),e(y,ia),e(ia,C),e(C,sl),e(C,ra),e(ra,ol),e(C,ll),e(C,pa),e(pa,il),e(C,rl),e(y,pl),e(y,ca),e(ca,Te),e(Te,Q),e(Q,ua),e(Te,cl),e(y,ul),e(y,da),e(da,Se),e(Se,ee),e(ee,ha),e(Se,dl),e(y,hl),e(y,fa),e(fa,te),e(te,ae),e(ae,ma),e(te,ka),e(ka,fl),e(te,ml),e(y,kl),e(y,ya),e(ya,ga),e(ga,yl),e(y,gl),e(y,G),e(G,va),e(va,vl),e(G,wl),e(G,Ze),Ze.innerHTML=Nr,e(G,bl),e(G,wa),e(wa,El),d(a,en,u),d(a,Je,u),e(Je,Le),e(Le,Ce),e(Ce,_l),e(Ce,ba),e(ba,Il),e(Ce,Al),e(Le,Pl),e(Le,Qe),Qe.innerHTML=Rr,d(a,tn,u),d(a,ne,u),e(ne,se),e(se,Ea),e(ne,xl),d(a,an,u),d(a,et,u),e(et,Tl),d(a,nn,u),d(a,oe,u),e(oe,le),e(le,_a),e(oe,Sl),d(a,sn,u),d(a,tt,u),e(tt,Ll),d(a,on,u),d(a,at,u),e(at,Ge),e(Ge,Cl)},p:Ul,i:Ul,o:Ul,d(a){a&&t(A),a&&t(Aa),a&&t(Oe),a&&t(Pa),a&&t(M),a&&t(xa),a&&t(D),a&&t(Ta),a&&t(P),a&&t(Sa),a&&t(v),a&&t(La),a&&t(De),a&&t(Ca),a&&t(N),a&&t(Ga),a&&t(he),a&&t(Oa),a&&t(H),a&&t(Ma),a&&t(B),a&&t(Da),a&&t(je),a&&t(ja),a&&t(Ne),a&&t(Na),a&&t(h),a&&t(Ra),a&&t(Y),a&&t(Ha),a&&t(w),a&&t(qa),a&&t(U),a&&t(Ba),a&&t(Re),a&&t(Va),a&&t(F),a&&t(Ya),a&&t(He),a&&t(Ua),a&&t($),a&&t(Fa),a&&t(qe),a&&t(Wa),a&&t(z),a&&t($a),a&&t(m),a&&t(Ka),a&&t(Be),a&&t(za),a&&t(f),a&&t(Xa),a&&t(E),a&&t(Za),a&&t(J),a&&t(Ja),a&&t(Xe),a&&t(Qa),a&&t(y),a&&t(en),a&&t(Je),a&&t(tn),a&&t(ne),a&&t(an),a&&t(et),a&&t(nn),a&&t(oe),a&&t(sn),a&&t(tt),a&&t(on),a&&t(at)}}}const ep={title:"Migrating away from Google: Hello Proton Mail!",date:"2022-08-30T00:00:00.000Z",excerpt:"Google informed me they would start charging me for letting me use their mail servers with my gotofritz.net domain. Fair enough, infrastructure costs money. But if I have to pay, why pay <i>them</i>? I'm can shop around. And so I did.",draft:!0,tags:["google","proton mail"]};class tp extends zr{constructor(A){super(),Xr(this,A,null,Jr,Zr,{})}}export{tp as default,ep as metadata};
