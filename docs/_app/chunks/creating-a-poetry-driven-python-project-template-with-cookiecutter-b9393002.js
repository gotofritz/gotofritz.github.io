import{S as Hw,i as Mw,s as Ow,e as t,t as r,k,c as o,a as p,d as a,h as c,m as u,b as i,g as l,I as e,E as om}from"./index-6e518972.js";function Lw(Eb){let j,B,Qn,Dc,cp,_,Rc,ca,Hc,Mc,ia,Oc,Lc,Xn,Nc,qc,ip,U,z,Zn,Fc,kp,qe,Bc,up,ka,gb='<code class="language-bash"><span class="token operator">></span> cookiecutter gh:gotofritz/cookiecutter-gotofritz-poetry</code>',fp,V,G,st,Uc,dp,Fe,zc,hp,S,at,Vc,Gc,et,Yc,Wc,nt,Kc,mp,Y,W,tt,Jc,yp,w,Qc,Be,Xc,Zc,ua,si,ai,fa,ei,ni,vp,K,J,ot,ti,bp,Q,X,pt,oi,_p,Z,pi,Ue,li,ri,wp,da,Ib=`<code class="language-bash"><span class="token operator">></span> <span class="token function">mkdir</span> specimen <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> specimen
<span class="token operator">></span> python -V
<span class="token number">3.8</span>.5
<span class="token operator">></span> pyenv <span class="token builtin class-name">local</span> <span class="token number">3.10</span>.1
<span class="token punctuation">..</span>.
<span class="token operator">></span> python -V
<span class="token number">3.10</span>.4

<span class="token comment"># this was created by pyenv local</span>
<span class="token operator">></span> <span class="token function">cat</span> .python-version
<span class="token number">3.10</span>.4</code>`,Ep,ze,ci,gp,ha,Pb=`<code class="language-bash"><span class="token operator">></span> poetry init --no-interaction
<span class="token operator">></span> <span class="token function">cat</span> pyproject.toml
<span class="token punctuation">[</span>tool.poetry<span class="token punctuation">]</span>
name <span class="token operator">=</span> <span class="token string">"specimen"</span>
version <span class="token operator">=</span> <span class="token string">"0.1.0"</span>
description <span class="token operator">=</span> <span class="token string">""</span>
authors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Your Name &lt;you@example.com>"</span><span class="token punctuation">]</span>
readme <span class="token operator">=</span> <span class="token string">"README.md"</span>
description <span class="token operator">=</span> <span class="token string">"blah blah"</span>
license <span class="token operator">=</span> <span class="token string">"MIT"</span>
readme <span class="token operator">=</span> <span class="token string">"README.md"</span>
homepage <span class="token operator">=</span> <span class="token string">"https://github.com/blah"</span>
repository <span class="token operator">=</span> <span class="token string">"https://github.com/blah"</span>

<span class="token punctuation">[</span>tool.poetry.dependencies<span class="token punctuation">]</span>
python <span class="token operator">=</span> <span class="token string">"^3.10"</span>

<span class="token punctuation">[</span>build-system<span class="token punctuation">]</span>
requires <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"poetry-core"</span><span class="token punctuation">]</span>
build-backend <span class="token operator">=</span> <span class="token string">"poetry.core.masonry.api"</span></code>`,Ip,ss,as,lt,ii,Pp,C,ki,rt,ui,fi,ct,di,hi,xp,ma,xb=`<code class="language-bash"> <span class="token comment"># toptal.com offers a free, comprehensive .gitignore generator</span>
 <span class="token operator">></span> <span class="token function">curl</span> -L https://www.toptal.com/developers/gitignore/api/python,visualstudiocode <span class="token operator">></span> <span class="token punctuation"></span><span class="token punctuation"></span>
  .gitignore
 <span class="token operator">></span> <span class="token function">git</span> init --initial-branch<span class="token operator">=</span>trunk
 Initialized empty Git repository <span class="token keyword">in</span> /Users/ <span class="token punctuation">..</span>. etc
 <span class="token operator">></span> <span class="token function">git</span> config user.email <span class="token string">"gotofritz@users.noreply.github.com"</span>
 <span class="token operator">></span> <span class="token function">git</span> config user.name <span class="token string">"gotofritz"</span>
 <span class="token operator">></span> <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
 <span class="token operator">></span> <span class="token function">git</span> commit -m <span class="token string">"initial commit"</span>
<span class="token punctuation">[</span>trunk <span class="token punctuation">(</span>root-commit<span class="token punctuation">)</span> <span class="token number">5299312</span><span class="token punctuation">]</span> initial commit
 <span class="token number">3</span> files changed, <span class="token number">647</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>
 create mode <span class="token number">100644</span> .gitignore
 create mode <span class="token number">100644</span> poetry.lock
 create mode <span class="token number">100644</span> pyproject.toml</code>`,$p,es,ns,it,mi,Tp,E,yi,kt,vi,bi,ut,_i,wi,ft,Ei,gi,jp,ya,$b=`<code class="language-bash"><span class="token operator">></span> <span class="token function">mkdir</span> -p src/specimen
<span class="token operator">></span> <span class="token builtin class-name">echo</span> <span class="token string">'__version__ = "0.1.0"'</span> <span class="token operator">>></span> src/specimen/__init__.py
<span class="token operator">></span> <span class="token function">mkdir</span> tests
<span class="token operator">></span> <span class="token function">touch</span> tests/__init__.py
<span class="token operator">></span> tree <span class="token builtin class-name">.</span>
<span class="token builtin class-name">.</span>
\u251C\u2500\u2500 pyproject.toml
\u251C\u2500\u2500 src
\u2502   \u2514\u2500\u2500 specimen
\u2502       \u2514\u2500\u2500 __init__.py
\u2514\u2500\u2500 tests
    \u2514\u2500\u2500 __init__.py</code>`,Sp,ts,os,dt,Ii,Cp,A,Pi,ht,xi,$i,mt,Ti,ji,Ap,va,Tb=`<code class="language-bash"><span class="token operator">></span> poetry shell
Spawning shell within /Users/fritz/Library/Caches/pypoetry/virtualenvs/specimen-xQlBT47A-py3.10
<span class="token builtin class-name">.</span> /Users/fritz/Library/Caches/pypoetry/virtualenvs/specimen-xQlBT47A-py3.10/bin/activate

<span class="token operator">></span> poetry <span class="token function">env</span> info
Virtualenv
Python:         <span class="token number">3.10</span>.6
Implementation: CPython
Path:           /Users/fritz/Library/Caches/pypoetry/virtualenvs/specimen-jsQemb2j-py3.10
Executable:     /Users/fritz/Library/Caches/pypoetry/virtualenvs/specimen-jsQemb2j-py3.10/bin/python
Valid:          True

System
Platform:   darwin
OS:         posix
Python:     <span class="token number">3.10</span>.6
Path:       /opt/homebrew/opt/python@3.10/Frameworks/Python.framework/Versions/3.10
Executable: /opt/homebrew/opt/python@3.10/Frameworks/Python.framework/Versions/3.10/bin/python3.10</code>`,Dp,g,Si,yt,Ci,Ai,vt,Di,Ri,bt,Hi,Mi,Rp,ba,jb=`<code class="language-bash"><span class="token operator">></span> poetry <span class="token function">env</span> info <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'/Executable/ &#123; print $2; exit &#125;'</span>
/Users/fritz/Library/Caches/pypoetry/virtualenvs/specimen-jsQemb2j-py3.10/bin/python</code>`,Hp,Ve,Oi,Mp,f,_t,Li,wt,Ni,Et,qi,gt,Fi,It,Bi,Pt,Ui,xt,zi,$t,Vi,Tt,Gi,jt,Yi,St,Wi,T,Ki,Ct,Ji,Qi,At,Xi,Zi,Dt,sk,ak,Rt,ek,_a,nk,Ht,tk,ok,Mt,pk,Ot,lk,Lt,rk,Nt,ck,Op,D,ik,qt,kk,uk,Ft,fk,dk,Lp,wa,Sb=`<code class="language-bash"><span class="token operator">></span> <span class="token function">mkdir</span> .vscode
<span class="token operator">></span> <span class="token function">vim</span> .vscode/settings.json
<span class="token punctuation">[</span>opens editor<span class="token punctuation">]</span></code>`,Np,Ge,hk,qp,Ye,Bt,mk,Fp,Ea,Cb=`<code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"python.defaultInterpreterPath"</span><span class="token operator">:</span> <span class="token string">"/Users/fritz/Library/Caches/pypoetry/virtualenvs/specimen-jsQemb2j-py3.10/bin/python"</span><span class="token punctuation">,</span>
  <span class="token property">"terminal.integrated.env.windows"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"PYTHONPATH"</span><span class="token operator">:</span> <span class="token string">"$&#123;workspaceFolder&#125;/src;$&#123;workspaceFolder&#125;/tests"</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token property">"python.envFile"</span><span class="token operator">:</span> <span class="token string">"$&#123;workspaceFolder&#125;/.env"</span>
<span class="token punctuation">&#125;</span></code>`,Bp,We,yk,Up,ga,Ab=`<code class="language-bash"><span class="token comment"># .env</span>
<span class="token assign-left variable">WORKSPACE_FOLDER</span><span class="token operator">=</span>/Users/fritz/work/cookiecutter-gotofritz-poetry/specimen
<span class="token assign-left variable">PYTHONPATH</span><span class="token operator">=</span><span class="token variable">$&#123;WORKSPACE_FOLDER&#125;</span>/src<span class="token punctuation">;</span><span class="token variable">$&#123;WORKSPACE_FOLDER&#125;</span>/tests</code>`,zp,I,vk,Ut,bk,_k,zt,wk,Ek,Vt,gk,Ik,Vp,ps,ls,Gt,Pk,Gp,Ke,xk,Yp,Ia,Db=`<code class="language-python"><span class="token comment"># tests/test_setup.py</span>
<span class="token keyword">def</span> <span class="token function">test_version</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token boolean">True</span></code>`,Wp,Je,$k,Kp,Pa,Rb=`<code class="language-bash"><span class="token operator">></span> poetry <span class="token function">add</span> --group dev pytest
Using version ^7.1.3 <span class="token keyword">for</span> pytest

Updating dependencies
Resolving dependencies<span class="token punctuation">..</span>. <span class="token punctuation">(</span><span class="token number">0</span>.1s<span class="token punctuation">)</span>

<span class="token punctuation">..</span>.etc
<span class="token operator">></span> poetry run pytest
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span> <span class="token builtin class-name">test</span> session starts <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
platform darwin -- Python <span class="token number">3.10</span>.6, pytest-7.1.3, pluggy-1.0.0
rootdir: /Users/fritz/work/cookiecutter-gotofritz-poetry/specimen
collected <span class="token number">1</span> item

tests/test_setup.py <span class="token builtin class-name">.</span>                                                <span class="token punctuation">[</span><span class="token number">100</span>%<span class="token punctuation">]</span>

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span> <span class="token number">1</span> passed <span class="token keyword">in</span> <span class="token number">0</span>.00s <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span></code>`,Jp,Qe,Tk,Qp,xa,Hb=`<code class="language-bash"><span class="token operator">></span> poetry <span class="token function">add</span> --group dev coverage<span class="token punctuation">[</span>toml<span class="token punctuation">]</span> pytest-cov
<span class="token punctuation">..</span>.</code>`,Xp,rs,jk,Yt,Sk,Ck,Zp,$a,Mb=`<code class="language-toml"><span class="token comment"># pyproject.toml</span>
<span class="token punctuation">[</span><span class="token table class-name">tool.coverage.paths</span><span class="token punctuation">]</span>
<span class="token key property">source</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"src"</span><span class="token punctuation">]</span>

<span class="token punctuation">[</span><span class="token table class-name">tool.coverage.run</span><span class="token punctuation">]</span>
<span class="token key property">branch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
<span class="token key property">source</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"specimen"</span><span class="token punctuation">]</span>

<span class="token punctuation">[</span><span class="token table class-name">tool.coverage.report</span><span class="token punctuation">]</span>
<span class="token key property">fail_under</span> <span class="token punctuation">=</span> <span class="token number">100</span>
<span class="token key property">show_missing</span> <span class="token punctuation">=</span> <span class="token boolean">true</span></code>`,sl,cs,Ak,Wt,Dk,Rk,al,Ta,Ob=`<code class="language-bash"><span class="token operator">></span> poetry run pytest --cov
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span> <span class="token builtin class-name">test</span> session starts <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
platform darwin -- Python <span class="token number">3.10</span>.6, pytest-7.1.3, pluggy-1.0.0
rootdir: /Users/fritz/work/cookiecutter-gotofritz-poetry/specimen
plugins: cov-3.0.0
collected <span class="token number">1</span> item

tests/test_setup.py <span class="token builtin class-name">.</span>                                                                                                                                                           <span class="token punctuation">[</span><span class="token number">100</span>%<span class="token punctuation">]</span>/Users/fritz/L<span class="token punctuation">..</span><span class="token punctuation">..</span>etc<span class="token punctuation">..</span>.
WARNING: Failed to generate report: No data to report.
<span class="token punctuation">..</span>.</code>`,el,Xe,Hk,nl,ja,Lb=`<code class="language-python"><span class="token comment"># tests/test_setup.py</span>
<span class="token keyword">import</span> re
<span class="token keyword">from</span> specimen <span class="token keyword">import</span> __version__ <span class="token keyword">as</span> version


<span class="token keyword">def</span> <span class="token function">test_version</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r"^d+.d+.d+$"</span><span class="token punctuation">,</span> version<span class="token punctuation">)</span></code>`,tl,R,Mk,Kt,Ok,Lk,Jt,Nk,qk,ol,Sa,Nb=`<code class="language-bash"><span class="token punctuation">..</span>.
ImportError <span class="token keyword">while</span> importing <span class="token builtin class-name">test</span> module <span class="token punctuation">..</span>.
<span class="token punctuation">..</span>.
tests/test_setup.py:2: <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    from specimen <span class="token function">import</span> __version__ as version
E   ModuleNotFoundError: No module named <span class="token string">'specimen'</span>
<span class="token punctuation">..</span>.</code>`,pl,Ca,Fk,Qt,Bk,ll,Aa,qb=`<code class="language-toml"><span class="token punctuation">[</span><span class="token table class-name">tool.pytest.ini_options</span><span class="token punctuation">]</span>
<span class="token key property">pythonpath</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"src"</span><span class="token punctuation">]</span></code>`,rl,Ze,Uk,cl,Da,Fb=`<code class="language-bash"><span class="token operator">></span> poetry run pytest --cov
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span> <span class="token builtin class-name">test</span> session starts <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
platform darwin -- Python <span class="token number">3.10</span>.6, pytest-7.1.3, pluggy-1.0.0
rootdir: /Users/fritz/work/cookiecutter-gotofritz-poetry/specimen, configfile: pyproject.toml
plugins: cov-3.0.0
collected <span class="token number">1</span> item

tests/test_setup.py <span class="token builtin class-name">.</span>                                               <span class="token punctuation">[</span><span class="token number">100</span>%<span class="token punctuation">]</span>

---------- coverage: platform darwin, python <span class="token number">3.10</span>.6-final-0 ----------
Name                       Stmts   Miss Branch BrPart  Cover   Missing
----------------------------------------------------------------------
src/specimen/__init__.py       <span class="token number">1</span>      <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span>   <span class="token number">100</span>%
----------------------------------------------------------------------
TOTAL                          <span class="token number">1</span>      <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span>   <span class="token number">100</span>%

Required <span class="token builtin class-name">test</span> coverage of <span class="token number">100.0</span>% reached. Total coverage: <span class="token number">100.00</span>%

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span> <span class="token number">1</span> passed <span class="token keyword">in</span> <span class="token number">0</span>.01s <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>

<span class="token operator">></span> <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> commit -m <span class="token string">"add trivial test to prove test+coverage works"</span></code>`,il,is,ks,Xt,zk,kl,sn,Vk,ul,Ra,Bb=`<code class="language-python"><span class="token comment"># tests/conftest.py</span>
<span class="token keyword">from</span> faker <span class="token keyword">import</span> Faker
<span class="token keyword">import</span> pytest

fake <span class="token operator">=</span> Faker<span class="token punctuation">(</span><span class="token punctuation">)</span>
Faker<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">1369</span><span class="token punctuation">)</span>


<span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>fixture</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"fake"</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">fixture_fake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Pass a seeded Faker instance as a fixture"""</span>
    <span class="token keyword">return</span> fake


&#96;&#96;&#96;
And add it to the current test

&#96;&#96;&#96;python
<span class="token keyword">def</span> <span class="token function">test_version</span><span class="token punctuation">(</span>fake<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Sanity check that there is a version in the right place"""</span>
    <span class="token keyword">assert</span> re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r"^d+.d+.d+$"</span><span class="token punctuation">,</span> version<span class="token punctuation">)</span>
    <span class="token keyword">assert</span> fake<span class="token punctuation">.</span>pystr<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> version</code>`,fl,us,fs,Zt,Gk,dl,ds,Yk,Ha,Wk,Kk,hl,Ma,Ub=`<code class="language-makefile">PYTHON_VERSION <span class="token operator">?=</span> 3.10.4
CMD <span class="token operator">:=</span> poetry run
SRC_DIR <span class="token operator">:=</span> src
TESTS_DIR <span class="token operator">:=</span> tests

<span class="token target symbol">help</span><span class="token punctuation">:</span>  <span class="token comment">## Display this help</span>
	<span class="token operator">@</span>awk <span class="token string">'BEGIN &#123;FS = ":.*##"; printf "&#92;nUsage:&#92;n  make \\033[36m\\033[0m&#92;n"&#125; /^[a-zA-Z0-9_-]+:.*?##/ &#123; printf "  \\033[36m%-15s\\033[0m %s&#92;n", $$1, $$2 &#125; /^##@/ &#123; printf "&#92;n\\033[1m%s\\033[0m&#92;n", substr($$0, 5) &#125; '</span> <span class="token variable">$</span><span class="token punctuation">(</span>MAKEFILE_LIST<span class="token punctuation">)</span>
<span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> help

<span class="token target symbol">test</span><span class="token punctuation">:</span> <span class="token comment">## runs tests in the tests/ directory, with coverage</span>
	<span class="token variable">$</span><span class="token punctuation">(</span>CMD<span class="token punctuation">)</span> pytest --cov <span class="token variable">$</span><span class="token punctuation">(</span>TESTS_DIR<span class="token punctuation">)</span>
<span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> test</code>`,ml,an,Jk,yl,Oa,zb=`<code class="language-bash"><span class="token operator">></span> <span class="token function">make</span> <span class="token builtin class-name">help</span>

Usage:
  <span class="token function">make</span>
  <span class="token builtin class-name">help</span>             Display this <span class="token builtin class-name">help</span>
  <span class="token builtin class-name">test</span>             runs tests <span class="token keyword">in</span> the tests/ directory, with coverage</code>`,vl,en,Qk,bl,La,Vb=`<code class="language-bash"><span class="token operator">></span> <span class="token function">make</span> <span class="token builtin class-name">test</span>
poetry run pytest --cov tests
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span> <span class="token builtin class-name">test</span> session starts <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
platform darwin -- Python <span class="token number">3.10</span>.6, pytest-7.1.3, pluggy-1.0.0
rootdir: /Users/fritz/work/cookiecutter-gotofritz-poetry/specimen, configfile: pyproject.toml
plugins: cov-3.0.0
collected <span class="token number">1</span> item

tests/test_setup.py <span class="token builtin class-name">.</span>                                                                                                                                                                                <span class="token punctuation">[</span><span class="token number">100</span>%<span class="token punctuation">]</span>

---------- coverage: platform darwin, python <span class="token number">3.10</span>.6-final-0 ----------
Name                  Stmts   Miss Branch BrPart  Cover   Missing
-----------------------------------------------------------------
tests/__init__.py         <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span>   <span class="token number">100</span>%
tests/test_setup.py       <span class="token number">4</span>      <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span>   <span class="token number">100</span>%
-----------------------------------------------------------------
TOTAL                     <span class="token number">4</span>      <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span>   <span class="token number">100</span>%

Required <span class="token builtin class-name">test</span> coverage of <span class="token number">100.0</span>% reached. Total coverage: <span class="token number">100.00</span>%

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span> <span class="token number">1</span> passed <span class="token keyword">in</span> <span class="token number">0</span>.02s <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>

<span class="token operator">></span> <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> commit -m <span class="token string">"add tests and Makefile to run them"</span>
<span class="token punctuation">[</span>trunk c15e669<span class="token punctuation">]</span> <span class="token function">add</span> tests and Makefile to run them
 <span class="token number">4</span> files changed, <span class="token number">263</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>, <span class="token number">3</span> deletions<span class="token punctuation">(</span>-<span class="token punctuation">)</span>
 create mode <span class="token number">100644</span> Makefile
 create mode <span class="token number">100644</span> poetry.lock</code>`,_l,hs,ms,so,Xk,wl,H,Zk,ao,su,au,Na,eu,nu,El,nn,tu,gl,qa,Gb=`<code class="language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">format: ## rewrites code with black and isort
</span><span class="token prefix inserted">+</span><span class="token line">	$(CMD) black $(SRC_DIR) $(TESTS_DIR)
</span><span class="token prefix inserted">+</span><span class="token line">	$(CMD) isort $(SRC_DIR) $(TESTS_DIR)
</span><span class="token prefix inserted">+</span><span class="token line">.PHONY: format
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">lint-black: ## checks src and tests with mypy
</span><span class="token prefix inserted">+</span><span class="token line">	$(CMD) black --check --fast $(SRC_DIR) $(TESTS_DIR)
</span><span class="token prefix inserted">+</span><span class="token line">.PHONY: lint-black
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">lint: lint-black ## runs all static analysis tools
</span><span class="token prefix inserted">+</span><span class="token line">.PHONY: lint
</span></span>
test: ## runs tests
	$(CMD) pytest --cov=src --cov-report term --cov-report html:tests/.coverage $(TESTS_DIR)
.PHONY: test

<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">qa: lint test ## for CI/CD. Runs all code quality tools
</span><span class="token prefix inserted">+</span><span class="token line">.PHONY: qa
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">qa-local: format qa ## for local development (before checking in). Formats code and runs qa
</span><span class="token prefix inserted">+</span><span class="token line">.PHONY: qa-local</span></span></code>`,Il,tn,ou,Pl,Fa,Yb=`<code class="language-bash"><span class="token operator">></span> <span class="token function">make</span> <span class="token builtin class-name">help</span>

Usage:
  <span class="token function">make</span>
  <span class="token builtin class-name">help</span>             Display this <span class="token builtin class-name">help</span>
  <span class="token function">format</span>           rewrites code with black and isort
  lint-black       checks src and tests with mypy
  lint             runs all static analysis tools
  <span class="token builtin class-name">test</span>             runs tests
  qa               <span class="token keyword">for</span> CI/CD. Runs all code quality tools
  qa-local         <span class="token keyword">for</span> <span class="token builtin class-name">local</span> development <span class="token punctuation">(</span>before checking <span class="token keyword">in</span><span class="token punctuation">)</span>. Formats code and runs qa</code>`,xl,m,eo,pu,lu,no,ru,cu,to,iu,ku,oo,uu,fu,po,du,hu,lo,mu,yu,$l,Ba,Wb=`<code class="language-bash"><span class="token operator">></span> poetry <span class="token function">add</span> --group dev black isort
Using version ^22.8.0 <span class="token keyword">for</span> black
Using version ^5.10.1 <span class="token keyword">for</span> isort
<span class="token punctuation">..</span>.</code>`,Tl,on,vu,jl,Ua,Kb=`<code class="language-diff"># pyproject.toml

<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">[tool.black]
</span><span class="token prefix inserted">+</span><span class="token line">line-length = 88
</span><span class="token prefix inserted">+</span><span class="token line">target-version = ['py310']
</span><span class="token prefix inserted">+</span><span class="token line">include = '.pyi?$'
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">[tool.isort]
</span><span class="token prefix inserted">+</span><span class="token line">multi_line_output = 3
</span><span class="token prefix inserted">+</span><span class="token line">line_length = 88
</span><span class="token prefix inserted">+</span><span class="token line">include_trailing_comma = true</span></span></code>`,Sl,pn,bu,Cl,za,Jb=`<code class="language-bash"><span class="token operator">></span> <span class="token function">make</span> <span class="token function">format</span>
poetry run black src tests
All done<span class="token operator">!</span> \u2728 \u{1F370} \u2728
<span class="token number">3</span> files left unchanged.
poetry run isort src tests
Fixing /Users/fritz/work/cookiecutter-gotofritz-poetry/specimen/tests/test_setup.py

<span class="token operator">></span> <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> commit -m <span class="token string">"add black and isort and amend Makefile"</span>
<span class="token number">4</span> files changed, <span class="token number">146</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>, <span class="token number">6</span> deletions<span class="token punctuation">(</span>-<span class="token punctuation">)</span></code>`,Al,ys,vs,ro,_u,Dl,M,wu,Va,Eu,gu,Ga,Iu,Pu,Rl,Ya,Qb=`<code class="language-bash"><span class="token operator">></span> poetry <span class="token function">add</span> --group dev flake8@^4 flakeheaven
Using version ^5.0.4 <span class="token keyword">for</span> flake8
Using version ^0.9.0 <span class="token keyword">for</span> flakeheaven
<span class="token punctuation">..</span>.</code>`,Hl,P,xu,co,$u,Tu,io,ju,Su,ko,Cu,Au,Ml,Wa,Xb=`<code class="language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">[tool.flakeheaven]
</span><span class="token prefix inserted">+</span><span class="token line">exclude = ["*.md", ".env", ".git", ".gitignore"]
</span><span class="token prefix inserted">+</span><span class="token line">format = "colored"
</span><span class="token prefix inserted">+</span><span class="token line">max_line_length = 88
</span><span class="token prefix inserted">+</span><span class="token line">show_source = true
</span><span class="token prefix inserted">+</span><span class="token line">format = "grouped"
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">[tool.flakeheaven.plugins]
</span><span class="token prefix inserted">+</span><span class="token line">mccabe = ["+*"]
</span><span class="token prefix inserted">+</span><span class="token line">pycodestyle = ["+*"]
</span><span class="token prefix inserted">+</span><span class="token line">pyflake = ["+*"]</span></span></code>`,Ol,ln,Du,Ll,Ka,Zb=`<code class="language-diff">lint-black: ## checks src and tests with mypy
	$(CMD) black --check --fast $(SRC_DIR) $(TESTS_DIR)
.PHONY: lint-black

<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">lint-flake: ## checks src and tests with mypy
</span><span class="token prefix inserted">+</span><span class="token line">	$(CMD) flakeheaven lint $(SRC_DIR) $(TESTS_DIR)
</span><span class="token prefix inserted">+</span><span class="token line">.PHONY: lint-flake
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">lint: lint-black ## runs all static analysis tools
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">lint: lint-black lint-flake ## runs all static analysis tools
</span></span>.PHONY: lint</code>`,Nl,rn,Ru,ql,bs,_s,uo,Hu,Fl,cn,Mu,Bl,Ja,s_=`<code class="language-bash"><span class="token operator">></span> poetry <span class="token function">add</span> --group dev flake8-bandit@^3.0
Updating dependencies
<span class="token punctuation">..</span>.</code>`,Ul,x,Ou,fo,Lu,Nu,ho,qu,Fu,mo,Bu,Uu,zl,Qa,a_=`<code class="language-diff">[tool.flakeheaven.plugins]
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">flake8-bandit = ["+*", "-S322"]
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">[tool.flakeheaven.exceptions."tests/"]
</span><span class="token prefix inserted">+</span><span class="token line">flake8-bandit = ["+*", "-S322", "-S101"]
</span></span></code>`,Vl,ws,Es,yo,zu,Gl,kn,Vu,Yl,Xa,e_=`<code class="language-bash"><span class="token operator">></span> poetry <span class="token function">add</span> --group dev flake8-bugbear
Using version ^22.8.23 <span class="token keyword">for</span> flake8-bugbear
<span class="token punctuation">..</span>.</code>`,Wl,un,Gu,Kl,Za,n_=`<code class="language-diff">[tool.flakeheaven.plugins]
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">flake8-bugbear = ["+*", "-B950"]</span></span></code>`,Jl,gs,Is,vo,Yu,Ql,F,bo,Wu,Ku,_o,Ju,Qu,Xl,se,t_=`<code class="language-bash"><span class="token operator">></span> poetry <span class="token function">add</span> --group dev darglint flake8-docstrings
Using version ^1.8.1 <span class="token keyword">for</span> darglint
Using version ^1.6.0 <span class="token keyword">for</span> flake8-docstrings
<span class="token punctuation">..</span>.</code>`,Zl,ae,o_=`<code class="language-diff">[tool.flakeheaven.plugins]
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">darglint = ["+*"]
</span><span class="token prefix inserted">+</span><span class="token line">flake8-docstrings = ["+*"]</span></span></code>`,sr,Ps,xs,wo,Xu,ar,d,fn,Eo,Zu,sf,af,dn,go,ef,nf,tf,hn,Io,of,pf,lf,$s,Po,rf,cf,xo,kf,uf,ff,mn,$o,df,hf,mf,yn,To,yf,vf,bf,vn,jo,_f,wf,Ef,bn,So,gf,If,er,ee,p_=`<code class="language-bash"><span class="token operator">></span> poetry <span class="token function">add</span> --group dev flake8-comprehensions flake8-isort flake8-mutable flake8-simplify pep8-naming pyflakes
Using version ^22.8.23 <span class="token keyword">for</span> flake8-builtins
Using version ^3.10.0 <span class="token keyword">for</span> flake8-comprehensions
Using version ^4.2.0 <span class="token keyword">for</span> flake8-isort
Using version ^1.2.0 <span class="token keyword">for</span> flake8-mutable
Using version ^1.6.0 <span class="token keyword">for</span> flake8-pytest-style
Using version ^0.19.3 <span class="token keyword">for</span> flake8-simplify
Using version ^0.13.2 <span class="token keyword">for</span> pep8-naming
<span class="token punctuation">..</span>.

<span class="token operator">></span> <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> commit -m <span class="token string">"add flake8 plugins"</span>
<span class="token number">3</span> files changed, <span class="token number">539</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>, <span class="token number">13</span> deletions<span class="token punctuation">(</span>-<span class="token punctuation">)</span></code>`,nr,ne,l_=`<code class="language-diff">[tool.flakeheaven.plugins]
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">flake8-builtins = ["+*"]
</span><span class="token prefix inserted">+</span><span class="token line">flake8-isort = ["+*"]
</span><span class="token prefix inserted">+</span><span class="token line">flake8-comprehensions = ["+*"]
</span><span class="token prefix inserted">+</span><span class="token line">flake8-mutable = ["+*"]
</span><span class="token prefix inserted">+</span><span class="token line">flake8-pytest-style = ["+*"]
</span><span class="token prefix inserted">+</span><span class="token line">flake8-simplify = ["+*"]
</span><span class="token prefix inserted">+</span><span class="token line">pep8-naming = ["+*"]</span></span></code>`,tr,Ts,js,Co,Pf,or,_n,xf,pr,te,r_=`<code class="language-bash"><span class="token operator">></span> poetry <span class="token function">add</span> --group dev safety
Using version ^2.1.1 <span class="token keyword">for</span> safety
<span class="token punctuation">..</span>.</code>`,lr,wn,$f,rr,oe,c_=`<code class="language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">safety: ## tests third part packages against a database of known compromised ones
</span><span class="token prefix inserted">+</span><span class="token line"> poetry export --with dev --format=requirements.txt --without-hashes | poetry run safety check --stdin
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">qa: lint test ## for CI/CD. Runs all code quality tools
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">qa: safety lint test ## for CI/CD. Runs all code quality tools
</span></span>.PHONY: qa</code>`,cr,pe,i_=`<code class="language-bash"><span class="token operator">></span> <span class="token function">make</span> safety
error: No such remote <span class="token string">'origin'</span>
<span class="token operator">+=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>+

                               /<span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>            /<span class="token variable">$$</span>
                              /<span class="token variable">$$</span>__  <span class="token variable">$$</span>          <span class="token operator">|</span> <span class="token variable">$$</span>
           /<span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>$  /<span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span> <span class="token operator">|</span> <span class="token variable">$$</span>  <span class="token punctuation"></span>__//<span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>  /<span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>   /<span class="token variable">$$</span>   /<span class="token variable">$$</span>
          /<span class="token variable">$$</span>_____/ <span class="token operator">|</span>____  <span class="token variable">$$</span><span class="token operator">|</span> <span class="token variable">$$</span><span class="token variable">$$</span>   /<span class="token variable">$$</span>__  <span class="token variable">$$</span><span class="token operator">|</span>_  <span class="token variable">$$</span>_/  <span class="token operator">|</span> <span class="token variable">$$</span>  <span class="token operator">|</span> <span class="token variable">$$</span>
         <span class="token operator">|</span>  <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>   /<span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>$<span class="token operator">|</span> <span class="token variable">$$</span>_/  <span class="token operator">|</span> <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>  <span class="token operator">|</span> <span class="token variable">$$</span>    <span class="token operator">|</span> <span class="token variable">$$</span>  <span class="token operator">|</span> <span class="token variable">$$</span>
          <span class="token punctuation"></span>____  <span class="token variable">$$</span> /<span class="token variable">$$</span>__  <span class="token variable">$$</span><span class="token operator">|</span> <span class="token variable">$$</span>    <span class="token operator">|</span> <span class="token variable">$$</span>_____/  <span class="token operator">|</span> <span class="token variable">$$</span> /<span class="token variable">$$</span><span class="token operator">|</span> <span class="token variable">$$</span>  <span class="token operator">|</span> <span class="token variable">$$</span>
          /<span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>$/<span class="token operator">|</span>  <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>$<span class="token operator">|</span> <span class="token variable">$$</span>    <span class="token operator">|</span>  <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>$  <span class="token operator">|</span>  <span class="token variable">$$</span><span class="token variable">$$</span>/<span class="token operator">|</span>  <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>$
         <span class="token operator">|</span>_______/  <span class="token punctuation"></span>_______/<span class="token operator">|</span>__/     <span class="token punctuation"></span>_______/   <span class="token punctuation"></span>___/   <span class="token punctuation"></span>____  <span class="token variable">$$</span>
                                                          /<span class="token variable">$$</span>  <span class="token operator">|</span> <span class="token variable">$$</span>
                                                         <span class="token operator">|</span>  <span class="token variable">$$</span><span class="token variable">$$</span><span class="token variable">$$</span>/
  by pyup.io                                              <span class="token punctuation"></span>______/

<span class="token operator">+=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>+

 REPORT
<span class="token punctuation">..</span>.
<span class="token operator">+=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>+

 No known security vulnerabilities found.

<span class="token operator">+=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>+

  You are using Safety's <span class="token function">free</span> vulnerability database. This data
is outdated, limited, and
  licensed <span class="token keyword">for</span> non-commercial use only.
  All commercial projects must sign up and get an API key at
https://pyup.io

<span class="token operator">+=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>+

<span class="token operator">></span> <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> commit -m <span class="token string">"add safety"</span>
 <span class="token number">4</span> files changed, <span class="token number">242</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>, <span class="token number">2</span> deletions<span class="token punctuation">(</span>-<span class="token punctuation">)</span>
 create mode <span class="token number">100644</span> requirements.txt</code>`,ir,Ss,Cs,Ao,Tf,kr,En,jf,ur,le,k_=`<code class="language-bash"><span class="token operator">></span> poetry <span class="token function">add</span> --group dev mypy
Using version ^0.971 <span class="token keyword">for</span> mypy
<span class="token punctuation">..</span>.</code>`,fr,gn,Sf,dr,re,u_=`<code class="language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">[tool.mypy]
</span><span class="token prefix inserted">+</span><span class="token line">warn_return_any = true
</span><span class="token prefix inserted">+</span><span class="token line">warn_unused_configs = true</span></span></code>`,hr,In,Cf,mr,ce,f_=`<code class="language-diff">lint-flake: ## checks src and tests with mypy
	$(CMD) flakeheaven lint $(SRC_DIR) $(TESTS_DIR)
.PHONY: lint-flake

<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">lint-mypy: ## checks type annotation
</span><span class="token prefix inserted">+</span><span class="token line">	$(CMD) mypy $(SRC_DIR) $(TESTS_DIR)
</span><span class="token prefix inserted">+</span><span class="token line">.PHONY: lint-mypy
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">lint: lint-black lint-flake ## runs all static analysis tools
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">lint: lint-black lint-flake lint-mypy ## runs all static analysis tools
</span></span>.PHONY: lint
</code>`,yr,Pn,Af,vr,ie,d_=`<code class="language-bash"><span class="token operator">></span> <span class="token function">make</span> lint-mypy
poetry run mypy src tests
Success: no issues found <span class="token keyword">in</span> <span class="token number">3</span> <span class="token builtin class-name">source</span> files

<span class="token operator">></span> <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> commit -m <span class="token string">"add mypy"</span>
 <span class="token number">3</span> files changed, <span class="token number">67</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>, <span class="token number">3</span> deletions<span class="token punctuation">(</span>-<span class="token punctuation">)</span></code>`,br,As,Ds,Do,Df,_r,xn,Rf,wr,Rs,$n,Hf,Tn,Mf,Of,Ro,Lf,Er,jn,Nf,gr,Hs,Ms,Ho,qf,Ir,Sn,Ff,Pr,ke,h_=`<code class="language-bash"><span class="token comment"># copy somewhere out of the way</span>
<span class="token operator">></span> <span class="token function">cp</span> -r specimen <span class="token punctuation">..</span>/

<span class="token comment"># remove all git info</span>
<span class="token operator">></span> <span class="token function">rm</span> -rf specimen/.git

<span class="token comment"># remove all caches</span>
<span class="token operator">></span> <span class="token function">find</span> <span class="token builtin class-name">.</span> -type d -name __pycache__ -exec <span class="token function">rm</span> -rf <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation"></span><span class="token punctuation">;</span>
find: ./tests/__pycache__: No such <span class="token function">file</span> or directory
find: ./src/specimen/__pycache__: No such <span class="token function">file</span> or directory
<span class="token operator">></span> <span class="token function">rm</span> -rf .pytest_cache .mypy_cache .coverage

<span class="token comment"># start turning it into a template</span>
<span class="token operator">></span> <span class="token function">mv</span> specimen <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>cookiecutter.project_name<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>

<span class="token comment"># initial settings, just to test</span>
<span class="token operator">></span> <span class="token builtin class-name">echo</span> <span class="token string">'&#123; "project_name": "new-project" &#125;'</span> <span class="token operator">></span> cookiecutter.json

<span class="token comment"># go somewhere new</span>
<span class="token operator">></span> <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/test

<span class="token comment"># try to run it</span>
<span class="token operator">></span> cookiecutter <span class="token punctuation">..</span>/cookiecutter-gotofritz-poetry/
project_name <span class="token punctuation">[</span>new-project<span class="token punctuation">]</span>:

<span class="token comment"># test it</span>
<span class="token operator">></span> tree -a
<span class="token builtin class-name">.</span>
\u2514\u2500\u2500 new-project
    \u251C\u2500\u2500 .env
    \u251C\u2500\u2500 .gitignore
    \u251C\u2500\u2500 .python-version
    \u251C\u2500\u2500 .vscode
    \u2502   \u2514\u2500\u2500 settings.json
    \u251C\u2500\u2500 CHANGELOG.md
    \u251C\u2500\u2500 LICENSE.md
    \u251C\u2500\u2500 Makefile
    \u251C\u2500\u2500 README.md
    \u251C\u2500\u2500 poetry.lock
    \u251C\u2500\u2500 pyproject.toml
    \u251C\u2500\u2500 requirements.txt
    \u251C\u2500\u2500 src
    \u2502   \u2514\u2500\u2500 specimen
    \u2502       \u2514\u2500\u2500 __init__.py
    \u2514\u2500\u2500 tests
        \u251C\u2500\u2500 __init__.py
        \u2514\u2500\u2500 test_setup.py

<span class="token number">5</span> directories, <span class="token number">14</span> files</code>`,xr,Cn,Bf,$r,Os,Ls,Mo,Uf,Tr,O,zf,Oo,Vf,Gf,ue,Yf,Wf,jr,Ns,Kf,Lo,Jf,Qf,Sr,fe,m_=`<code class="language-bash"><span class="token operator">></span> <span class="token function">cp</span> <span class="token punctuation">..</span>
<span class="token operator">></span> poetry <span class="token function">add</span> -D pytest-cookies
Using version ^0.6.1 <span class="token keyword">for</span> pytest-cookies
<span class="token punctuation">..</span>.
<span class="token operator">></span> <span class="token function">mkdir</span> tests
<span class="token operator">></span> code tests/test_create_template.py
<span class="token punctuation">[</span>opens editor<span class="token punctuation">]</span></code>`,Cr,An,Xf,Ar,de,y_=`<code class="language-python"><span class="token keyword">def</span> <span class="token function">test_run_cookiecutter_result</span><span class="token punctuation">(</span>cookies<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Create a new plugin via cookiecutter and run its tests."""</span>
    project_name <span class="token operator">=</span> <span class="token string">"sancho panza"</span>
    result <span class="token operator">=</span> cookies<span class="token punctuation">.</span>bake<span class="token punctuation">(</span>
        extra_context<span class="token operator">=</span><span class="token punctuation">&#123;</span>
            <span class="token string">"project_name"</span><span class="token punctuation">:</span> project_name<span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">)</span>

    <span class="token keyword">assert</span> result<span class="token punctuation">.</span>exit_code <span class="token operator">==</span> <span class="token number">0</span>
    <span class="token keyword">assert</span> result<span class="token punctuation">.</span>exception <span class="token keyword">is</span> <span class="token boolean">None</span>
    <span class="token keyword">assert</span> result<span class="token punctuation">.</span>project_path<span class="token punctuation">.</span>name <span class="token operator">==</span> project_name
    <span class="token keyword">assert</span> result<span class="token punctuation">.</span>project_path<span class="token punctuation">.</span>is_dir<span class="token punctuation">(</span><span class="token punctuation">)</span>

    readme_path <span class="token operator">=</span> result<span class="token punctuation">.</span>project_path <span class="token operator">/</span> <span class="token string">"README.md"</span>
    <span class="token keyword">assert</span> readme_path<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span>

    readme <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>readme_path<span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> project_name <span class="token keyword">in</span> readme
    <span class="token keyword">assert</span> <span class="token string">"project_name"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> readme
</code>`,Dr,qs,Zf,No,sd,ad,Rr,L,ed,qo,nd,td,Fo,od,pd,Hr,he,v_='<code class="language-json"><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>cookiecutter.python_version<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code>',Mr,me,ld,Bo,rd,Or,ye,b_='<code class="language-json"><span class="token punctuation">&#123;</span> <span class="token property">"project_name"</span><span class="token operator">:</span> <span class="token string">"new-project"</span><span class="token punctuation">,</span> <span class="token property">"python_version"</span><span class="token operator">:</span> <span class="token string">"3.10.4"</span> <span class="token punctuation">&#125;</span></code>',Lr,Dn,cd,Nr,Rn,id,qr,ve,__=`<code class="language-bash"><span class="token operator">></span> <span class="token builtin class-name">cd</span> tree <span class="token punctuation">..</span>
\u251C\u2500\u2500 cookiecutter.json
\u251C\u2500\u2500 pyproject.toml
\u251C\u2500\u2500 specimen
\u2514\u2500\u2500 <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>cookiecutter.project_name<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
    \u251C\u2500\u2500 CHANGELOG.md
    \u251C\u2500\u2500 LICENSE.md
    \u251C\u2500\u2500 Makefile
    \u251C\u2500\u2500 README.md
    \u251C\u2500\u2500 poetry.lock
    \u251C\u2500\u2500 pyproject.toml
    \u251C\u2500\u2500 requirements.txt
    \u251C\u2500\u2500 src
    \u2502   \u2514\u2500\u2500 specimen
    \u2502       \u2514\u2500\u2500 __init__.py
    \u2514\u2500\u2500 tests
        \u251C\u2500\u2500 __init__.py
        \u2514\u2500\u2500 test_setup.py</code>`,Fr,Fs,kd,Uo,ud,fd,Br,be,w_=`<code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"project_name"</span><span class="token operator">:</span> <span class="token string">"new-project"</span><span class="token punctuation">,</span>
  <span class="token property">"verbose_project_name"</span><span class="token operator">:</span> <span class="token string">"My Awesome Project"</span><span class="token punctuation">,</span>
  <span class="token property">"full_name"</span><span class="token operator">:</span> <span class="token string">"Your Name"</span><span class="token punctuation">,</span>
  <span class="token property">"github_username"</span><span class="token operator">:</span> <span class="token string">"github_username"</span><span class="token punctuation">,</span>
  <span class="token property">"mastodon_handle"</span><span class="token operator">:</span> <span class="token string">"@your_name@mastodon.social"</span><span class="token punctuation">,</span>
  <span class="token property">"mastodon_url"</span><span class="token operator">:</span> <span class="token string">"https://mastodon.social/@your_name"</span><span class="token punctuation">,</span>
  <span class="token property">"project_description"</span><span class="token operator">:</span> <span class="token string">"this is a project"</span><span class="token punctuation">,</span>
  <span class="token property">"python_version"</span><span class="token operator">:</span> <span class="token string">"3.10.4"</span>
<span class="token punctuation">&#125;</span></code>`,Ur,Hn,dd,zr,Bs,Us,zo,hd,Vr,N,md,Vo,yd,vd,Go,bd,_d,Gr,_e,E_=`<code class="language-python"><span class="token keyword">def</span> <span class="token function">test_cookiecutter_generated_files</span><span class="token punctuation">(</span>cookies<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""tests the generated files names make sense"""</span>
    re_bad <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"&#123;&#123;s?cookiecutter..*?&#125;&#125;"</span><span class="token punctuation">)</span>
    result <span class="token operator">=</span> cookies<span class="token punctuation">.</span>bake<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">assert</span> <span class="token builtin">all</span><span class="token punctuation">(</span>
        re_bad<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token boolean">None</span>
        <span class="token keyword">for</span> file_path <span class="token keyword">in</span> result<span class="token punctuation">.</span>project_path<span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span></code>`,Yr,zs,wd,Yo,Ed,gd,Wr,we,g_=`<code class="language-python"><span class="token keyword">def</span> <span class="token function">test_cookiecutter_make_qa</span><span class="token punctuation">(</span>cookies<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""runs tests on the generated dir"""</span>
    result <span class="token operator">=</span> cookies<span class="token punctuation">.</span>bake<span class="token punctuation">(</span><span class="token punctuation">)</span>

    make_proc <span class="token operator">=</span> subprocess<span class="token punctuation">.</span>Popen<span class="token punctuation">(</span>
        <span class="token punctuation">[</span><span class="token string">"/usr/bin/make"</span><span class="token punctuation">,</span> <span class="token string">"lint-flake"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        shell<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>  <span class="token comment"># noqa</span>
        stdout<span class="token operator">=</span>subprocess<span class="token punctuation">.</span>PIPE<span class="token punctuation">,</span>
        stderr<span class="token operator">=</span>subprocess<span class="token punctuation">.</span>STDOUT<span class="token punctuation">,</span>
        cwd<span class="token operator">=</span>result<span class="token punctuation">.</span>project_path<span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token comment"># stdout, stderr are for debuggin</span>
    stdout<span class="token punctuation">,</span> stderr <span class="token operator">=</span> make_proc<span class="token punctuation">.</span>communicate<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span> make_proc<span class="token punctuation">.</span>returncode <span class="token operator">==</span> <span class="token number">0</span></code>`,Kr,Mn,Id,Jr,Vs,Gs,Wo,Pd,Qr,Ys,xd,Ko,$d,Td,Xr,Ee,I_=`<code class="language-python"><span class="token keyword">def</span> <span class="token function">test_cookiecutter_env_file</span><span class="token punctuation">(</span>cookies<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""ensures the .env file contains what I expect"""</span>
    result <span class="token operator">=</span> cookies<span class="token punctuation">.</span>bake<span class="token punctuation">(</span><span class="token punctuation">)</span>

    env_path <span class="token operator">=</span> result<span class="token punctuation">.</span>project_path <span class="token operator">/</span> <span class="token string">".env"</span>
    <span class="token keyword">assert</span> env_path<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>env_path<span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        file_content <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">assert</span> <span class="token string-interpolation"><span class="token string">f"=</span><span class="token interpolation"><span class="token punctuation">&#123;</span>result<span class="token punctuation">.</span>project_path<span class="token punctuation">&#125;</span></span><span class="token string">&#92;n"</span></span> <span class="token keyword">in</span> file_content</code>`,Zr,On,jd,sc,ge,P_=`<code class="language-sh">WORKSPACE_FOLDER=&#123;&#123;cookiecutter._output_dir&#125;&#125;/&#123;&#123;cookiecutter.project_name&#125;&#125;
PYTHONPATH=$&#123;WORKSPACE_FOLDER&#125;/src;$&#123;WORKSPACE_FOLDER&#125;/tests</code>`,ac,Ws,Sd,Jo,Cd,Ad,ec,Ks,Dd,Qo,Rd,Hd,nc,Ie,x_=`<code class="language-diff">&#123;
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">  "python.defaultInterpreterPath": "/Users/fritz/Library/Caches/pypoetry/virtualenvs/cookiecutter-gotofritz-poetry-wyPgAlEH-py3.10/bin/python",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  "python.defaultInterpreterPath": "&lt;interpreter_path>",
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> "terminal.integrated.env.windows": &#123;
</span><span class="token prefix unchanged"> </span><span class="token line">   "PYTHONPATH": "$&#123;workspaceFolder&#125;/src;$&#123;workspaceFolder&#125;/tests"
</span><span class="token prefix unchanged"> </span><span class="token line"> &#125;,
</span><span class="token prefix unchanged"> </span><span class="token line"> "python.envFile": "$&#123;workspaceFolder&#125;/.env"
</span></span>&#125;</code>`,tc,y,Md,Xo,Od,Ld,Zo,Nd,qd,sp,Fd,Bd,ap,Ud,zd,ep,Vd,Gd,oc,q,Yd,np,Wd,Kd,tp,Jd,Qd,pc,Pe,$_=`<code class="language-bash"><span class="token comment"># hooks/post_gen_project.sh</span>

<span class="token comment">#! /usr/bin/env bash</span>

pyenv <span class="token builtin class-name">local</span>
poetry <span class="token function">install</span>

<span class="token comment"># location of python executable</span>
<span class="token assign-left variable">EXECUTABLE</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>poetry <span class="token function">env</span> info <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'/Executable/ &#123; print $2; exit &#125;'</span><span class="token variable">)</span></span>

<span class="token comment"># replace the placeholder in the json file</span>
<span class="token function">sed</span> -i.bak <span class="token string">"/&lt;interpreter_path>/ s#&lt;interpreter_path>#<span class="token variable">$EXECUTABLE</span>#"</span> <span class="token punctuation"></span>
  .vscode/settings.json

<span class="token comment"># the sed program created a backup (with the &#96;-i.bak&#96; part). Remove it</span>
<span class="token function">rm</span> .vscode/settings.json.bak

<span class="token comment"># create the first git commit</span>
<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit -m <span class="token string">"generate project with cookiecutter"</span></code>`,lc,Js,Qs,op,Xd,rc,Ln,Zd,cc,xe,T_=`<code class="language-bash"><span class="token operator">></span> cookiecutter gh:gotofritz/cookiecutter-gotofritz-poetry --no-input
<span class="token number">3.10</span>.4
Updating dependencies
Resolving dependencies<span class="token punctuation">..</span>. <span class="token punctuation">(</span><span class="token number">0</span>.5s<span class="token punctuation">)</span>
<span class="token punctuation">..</span>.

<span class="token operator">></span> <span class="token builtin class-name">cd</span> new-project/
<span class="token operator">></span> <span class="token function">make</span> qa
<span class="token punctuation">..</span>.</code>`,ic,Nn,sh,kc,Xs,Zs,pp,ah,uc,sa,eh,$e,nh,th,fc,Te,oh,je,ph,dc,Se,lh,Ce,rh,hc,Ae,ch,De,ih,mc,Re,kh,He,uh,yc,Me,fh,Oe,dh,vc,Le,hh,Ne,mh;return{c(){j=t("h2"),B=t("a"),Qn=t("span"),Dc=r("Creating a python project from scratch? How boring"),cp=k(),_=t("p"),Rc=r("Starting work on a new project involves a lot of repetitive steps: setting up a virtual env, code quality tools, packages, etc etc. By the time I have finished with that I have already lost half the motivation that made me want to start work on the little project. There must be a better way. And there is - generate it all from a template! In JS-land I used "),ca=t("a"),Hc=r("plop"),Mc=r(", but since I started developing with Python projects I use "),ia=t("a"),Oc=r("cookiecutter"),Lc=r(". Of course that means starting a new project and going through all the tedious steps "),Xn=t("em"),Nc=r("again"),qc=r(", but it\u2019s the last time!"),ip=k(),U=t("h2"),z=t("a"),Zn=t("span"),Fc=r("Tl;DR: here\u2019s the template"),kp=k(),qe=t("p"),Bc=r("If you want to use the template, just run"),up=k(),ka=t("pre"),fp=k(),V=t("h2"),G=t("a"),st=t("span"),Uc=r("The plan"),dp=k(),Fe=t("p"),zc=r("This is how I\u2019m planning to tackle this:"),hp=k(),S=t("ol"),at=t("li"),Vc=r("Create a small project specimen (A) manually and make sure it all works"),Gc=k(),et=t("li"),Yc=r("Duplicate it and transform the duplicate (B) into a cookiecutter template"),Wc=k(),nt=t("li"),Kc=r("Push to github, and use cookiecutter to generate a project (C) with it"),mp=k(),Y=t("h2"),W=t("a"),tt=t("span"),Jc=r("Step 0: Prerequisites"),yp=k(),w=t("p"),Qc=r("For this python and pyenv are needed (I have a post on "),Be=t("a"),Xc=r("how I installed them on OS X"),Zc=r("), plus "),ua=t("a"),si=r("poetry"),ai=r(" and of course "),fa=t("a"),ei=r("cookiecutter"),ni=r(". On a mac one could install most of them with homebrew."),vp=k(),K=t("h2"),J=t("a"),ot=t("span"),ti=r("Step 1: Create a project specimen"),bp=k(),Q=t("h3"),X=t("a"),pt=t("span"),oi=r("Specimen setup: poetry"),_p=k(),Z=t("p"),pi=r("Since this is a python project, I will do the usual and set it up with poetry. I already have "),Ue=t("a"),li=r("python and pyenv installed"),ri=r(", so it\u2019s just a matter of making sure the expected version is there"),wp=k(),da=t("pre"),Ep=k(),ze=t("p"),ci=r("I use poetry for controlling dependencies. It\u2019s good at managing versions and it keeps most of the config in one centralised place. Here I generate a minimal config file, pyproject.toml. There is no point in fine tuning it since it will be parametrised later."),gp=k(),ha=t("pre"),Ip=k(),ss=t("h3"),as=t("a"),lt=t("span"),ii=r("Specimen setup: git"),Pp=k(),C=t("p"),ki=r("I better set up git now, so that I can commit code as I create it. I\u2019m not actually going to push this repo to github, this is just a local repo for safety. I download a .gitignore from TopTal, and add the project to git. I name my main branch \u2018trunk\u2019, like in the old SVN days. I find it more meaningful than either the fashionable "),rt=t("code"),ui=r("main"),fi=r(" or unfashionable "),ct=t("code"),di=r("master"),hi=r(". I also add a user name and email for each project, since they may be for different orgs."),xp=k(),ma=t("pre"),$p=k(),es=t("h3"),ns=t("a"),it=t("span"),mi=r("Specimen setup: initial folder structure"),Tp=k(),E=t("p"),yi=r("Then I create the skeleton folder structure. The "),kt=t("code"),vi=r("__init__.py"),bi=r(" inside "),ut=t("code"),_i=r("src/specimen"),wi=r(" has a version number in it, and the "),ft=t("code"),Ei=r("__init__.py"),gi=r(" in tests is only there to make the tests folder a package."),jp=k(),ya=t("pre"),Sp=k(),ts=t("h3"),os=t("a"),dt=t("span"),Ii=r("Specimen setup: wire up VSCode to the poetry python environment"),Cp=k(),A=t("p"),Pi=r("Before going further I will make sure VSCode knows about the environment and where the packages are. First of all, make sure the python executable from the virtual env is the one being used. The virtual env is created by poetry whenever one runs any install or add command, if it doesn\u2019t yet exist. Or one can create it explicitly with "),ht=t("code"),xi=r("poetry shell"),$i=r(" (if the env already exists it will just say where it is). I\u2019ll do that here, just to be on the safe side. "),mt=t("code"),Ti=r("poetry env info"),ji=r(" then gives some information about the shell"),Ap=k(),va=t("pre"),Dp=k(),g=t("p"),Si=r("I want to be able to extract the name of the python executable from that info. I could do that with "),yt=t("code"),Ci=r("poetry env info --path"),Ai=r(" which is just the path to the shell, and then feed it into "),vt=t("code"),Di=r('"$(poetry env info --path)/bin/python3.10"'),Ri=r(" but that means I would need to hard code the "),bt=t("code"),Hi=r("python3.10"),Mi=r(" part. For a more solid solution, I turn to trusty awk"),Rp=k(),ba=t("pre"),Hp=k(),Ve=t("p"),Oi=r("The awk command breaks down as"),Mp=k(),f=t("dl"),_t=t("dt"),Li=r("poetry env info"),wt=t("dd"),Ni=r("run that command, which prints a whole load of text"),Et=t("dt"),qi=r("|"),gt=t("dd"),Fi=r("pass that text on to the next command"),It=t("dt"),Bi=r("awk"),Pt=t("dd"),Ui=r("...which is awk. awk processes text one line at the time, as it passes through it, and splits it into columns"),xt=t("dt"),zi=r("'"),$t=t("dd"),Vi=r("everything from now until the next ' is an awk program"),Tt=t("dt"),Gi=r("/Executable/ {"),jt=t("dd"),Yi=r("if the current line contains 'Executable', do all those things until the next }"),St=t("dt"),Wi=r("print $2;"),T=t("dd"),Ki=r("awk will split "),Ct=t("code"),Ji=r("Python:\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA03.10.6"),Qi=r(" etc into two fields; "),At=t("code"),Xi=r("Python"),Zi=r(" and "),Dt=t("code"),sk=r("3.10.6"),ak=r(". I want the second one, i.e. $2"),Rt=t("dt"),ek=r("exit"),_a=t("dd"),nk=r("if one looks at the output of "),Ht=t("code"),tk=r("poetry env info"),ok=r(', there are actually two lines with "Executable" in it. Luckily I want the first one, so I can simply stop after it is found'),Mt=t("dt"),pk=r("}"),Ot=t("dd"),lk=r('stop telling awk what to do if the line has "Executable" in it'),Lt=t("dt"),rk=r("'"),Nt=t("dd"),ck=r("stop telling awk what to do and do it"),Op=k(),D=t("p"),ik=r("But what do I do with that path? The manual way is to add it to VSCode with the command "),qt=t("code"),kk=r("CMD+SHIFT+P"),uk=r(" to open the command palette, and selecting "),Ft=t("code"),fk=r("Python: select interpreter"),dk=r(". In the textbox I can then enter that path. To do it without a manual step, I add it to VSCode workspace settings file. Note that I am using vim because VSCode doesn\u2019t let me treat settings.json as a normal file"),Lp=k(),wa=t("pre"),Np=k(),Ge=t("p"),hk=r("And this is the content of the settings.json file. It points to an .env file, which I will have to create. It\u2019s pretty convoluted if you ask me. But that\u2019s how it is."),qp=k(),Ye=t("p"),Bt=t("em"),mk=r("(Project idea: a VSCode plugin which automatically sets this up for you)"),Fp=k(),Ea=t("pre"),Bp=k(),We=t("p"),yk=r("and the .env file. NOTE: this will be ignored by most standard .gitignores, IDEs and possibly CI/CD pipelines. Bear that in mind when creating the cookiecutter template"),Up=k(),ga=t("pre"),zp=k(),I=t("p"),vk=r("Now I can finally open a file in the tests folder, type "),Ut=t("code"),bk=r("from specimen import"),_k=r(" and VSCode will autocomplete. If that doesn\u2019t work by default, it could be that VSCode has already picked a Python interpreter. Which means, it will ignore all the settings just created. If I then do "),zt=t("code"),wk=r("CMD+SHIT+P"),Ek=r(" and do "),Vt=t("code"),gk=r("select python interpreter"),Ik=r(", there should be the option to use the settings file I have just created."),Vp=k(),ps=t("h3"),ls=t("a"),Gt=t("span"),Pk=r("Specimen setup: tests"),Gp=k(),Ke=t("p"),xk=r("I write the first, trivial test"),Yp=k(),Ia=t("pre"),Wp=k(),Je=t("p"),$k=r("Although Python does come with a test runner, pytest is by far the most popular runner. Lets\u2019 add it and run it"),Kp=k(),Pa=t("pre"),Jp=k(),Qe=t("p"),Tk=r("So far so good. Let\u2019s add coverage"),Qp=k(),xa=t("pre"),Xp=k(),rs=t("p"),jk=r("Coverage settings can be added to the "),Yt=t("code"),Sk=r("pyproject.toml"),Ck=r(" file."),Zp=k(),$a=t("pre"),sl=k(),cs=t("p"),Ak=r("I\u2019ll run the test again. Notice the "),Wt=t("code"),Dk=r("--cov"),Rk=r(" flag to include test coverage"),al=k(),Ta=t("pre"),el=k(),Xe=t("p"),Hk=r("The test fails fast because I didn\u2019t import the code at all. Fair enough. I will import the version number from the code, and test it is in the right format. I didn\u2019t hard code the version because this would mean changing, or getting rid of, the test every time the version goes up. Instead, I test that the version number validates. With a rather simple validation, but there is no benefit in getting more complicated."),nl=k(),ja=t("pre"),tl=k(),R=t("p"),Mk=r("When I run the test, it breaks again. Poetry doesn\u2019t know how to make the test find the package "),Kt=t("code"),Ok=r("specimen"),Lk=r(" from which to load "),Jt=t("code"),Nk=r("__version__"),qk=r(". One would think it\u2019d be able to work it out by itself\u2026 nope."),ol=k(),Sa=t("pre"),pl=k(),Ca=t("p"),Fk=r("The solution is to add this setting to the "),Qt=t("code"),Bk=r("pyproject.toml"),ll=k(),Aa=t("pre"),rl=k(),Ze=t("p"),Uk=r("Now it runs"),cl=k(),Da=t("pre"),il=k(),is=t("h4"),ks=t("a"),Xt=t("span"),zk=r("Adding a Faker fixture to the template"),kl=k(),sn=t("p"),Vk=r("I don\u2019t always use mocks or patch in my tests, but I pretty much always need Faker. So I create a fixture for it"),ul=k(),Ra=t("pre"),fl=k(),us=t("h3"),fs=t("a"),Zt=t("span"),Gk=r("Specimen setup: Makefile"),dl=k(),ds=t("p"),Yk=r("I use Makefiles for running my Python projects. I have a standard one I cannibalise when setting up a new project (see "),Ha=t("a"),Wk=r("gist"),Kk=r("). From that gist I extract this"),hl=k(),Ma=t("pre"),ml=k(),an=t("p"),Jk=r("It has a command to show nicely formatted help, courtesy of awk"),yl=k(),Oa=t("pre"),vl=k(),en=t("p"),Qk=r("And, of course, it runs the tests"),bl=k(),La=t("pre"),_l=k(),hs=t("h3"),ms=t("a"),so=t("span"),Xk=r("Specimen setup: formatting with black and isort"),wl=k(),H=t("p"),Zk=r("And now the tantalising task of adding all the code quality tools. I still find the JS ecosystem much slicker than Python\u2019s. Python is still struggling with the concept of allowing static analysis tools fix the code. But now let\u2019s install the two python tools that "),ao=t("em"),su=r("do"),au=r(" get it right - Black and isort. I know that "),Na=t("a"),eu=r("isort can be controversial"),nu=r(", but to be honest it\u2019s always served me right."),El=k(),nn=t("p"),tu=r("First of all, I create commands in the Makefile."),gl=k(),qa=t("pre"),Il=k(),tn=t("p"),ou=r("The help rule shows what they all do"),Pl=k(),Fa=t("pre"),xl=k(),m=t("p"),eo=t("code"),pu=r("make format"),lu=r(" is meant for local development, before committing (a git pre-commit hook could also be useful). "),no=t("code"),ru=r("make lint-black"),cu=r(" instead is meant as a code quality tool. Note that it is run with "),to=t("code"),iu=r("black --check"),ku=r(", so it doesn\u2019t rewrite code. "),oo=t("code"),uu=r("make lint"),fu=r(" runs black and all the code quality tools I will add later. "),po=t("code"),du=r("make qa-local"),hu=r(" is also meant for local development, as a check before pushing. Whereas "),lo=t("code"),mu=r("make qa"),yu=r(" is for CI/CD. Now I have to actually install\u2026"),$l=k(),Ba=t("pre"),Tl=k(),on=t("p"),vu=r("\u2026configure\u2026"),jl=k(),Ua=t("pre"),Sl=k(),pn=t("p"),bu=r("\u2026and test those tools"),Cl=k(),za=t("pre"),Al=k(),ys=t("h3"),vs=t("a"),ro=t("span"),_u=r("Specimen setup: add flake8 and plugins"),Dl=k(),M=t("p"),wu=r("This is one of the main reasons why I need a template for my python projects. Who\u2019s got the time to remember and configure all of these every time? Anyway. I use "),Va=t("a"),Eu=r("flakeheaven"),gu=r(" to configure flake8 and its plugins from within the pyproject.toml file. It has the issue that "),Ga=t("a"),Iu=r("it doesn\u2019t support flake8 5"),Pu=r(", but then again neither do a lot of plugins, so\u2026 sticking to flake8 4 is fine for now."),Rl=k(),Ya=t("pre"),Hl=k(),P=t("p"),xu=r("Then, in pyproject.toml\u2026 Note that in the \u2018tool.flakeheaven.plugins\u2019 section, I list three plugins: mccabe, pycodestyle, and pyflake. This is actually what flake8: a wrapper around those three plugins. Plus a list of optional plugins one may want to add. "),co=t("code"),$u=r('["+*"]'),Tu=r(" is the notation for \u2018enable this plugin in its entirety\u2019 ("),io=t("code"),ju=r("+"),Su=r(" means enable, and "),ko=t("code"),Cu=r("*"),Au=r(" is a wildcard, i.e. \u2018anything\u2019)"),Ml=k(),Wa=t("pre"),Ol=k(),ln=t("p"),Du=r("And in the Makefile"),Ll=k(),Ka=t("pre"),Nl=k(),rn=t("p"),Ru=r("Finally, the optional plugins and their configuration"),ql=k(),bs=t("h4"),_s=t("a"),uo=t("span"),Hu=r("flake8-bandit"),Fl=k(),cn=t("p"),Mu=r("Provides automated security testing. I need to force version 3.0, as the latest version requires flake8 5"),Bl=k(),Ja=t("pre"),Ul=k(),x=t("p"),Ou=r("Here I allow everything "),fo=t("em"),Lu=r("except"),Nu=r(" rule 322, which is not relevant for python 3. Also note that there is an extra setting: "),ho=t("code"),qu=r('[tool.flakeheaven.exceptions."tests/"]'),Fu=r(" which only applies to the tests/ folder. In this folder, I want to allow assert statement. In the src folder they shouldn\u2019t be - that\u2019s because asserts are stripped by the compiler when python run with the "),mo=t("code"),Bu=r("-O"),Uu=r(" option (O stand for optimizer)"),zl=k(),Qa=t("pre"),Vl=k(),ws=t("h4"),Es=t("a"),yo=t("span"),zu=r("flake8-bugbear"),Gl=k(),kn=t("p"),Vu=r("Adds more checks to the standard flake8 plugins"),Yl=k(),Xa=t("pre"),Wl=k(),un=t("p"),Gu=r("I disable B950, the line length one. Bugbear does with a 10% tolerance, I prefer the standard hard limit."),Kl=k(),Za=t("pre"),Jl=k(),gs=t("h4"),Is=t("a"),vo=t("span"),Yu=r("darglint and flake8-docstrings"),Ql=k(),F=t("p"),bo=t("strong"),Wu=r("Darglint"),Ku=r(" checks whether a docstring\u2019s description matches the actual function/method implementation. "),_o=t("strong"),Ju=r("flake8-docstrings"),Qu=r(" checks compliance with Python docstring conventions (most of PEP 257)"),Xl=k(),se=t("pre"),Zl=k(),ae=t("pre"),sr=k(),Ps=t("h4"),xs=t("a"),wo=t("span"),Xu=r("\u2026and many more"),ar=k(),d=t("ul"),fn=t("li"),Eo=t("strong"),Zu=r("flake8-builtins"),sf=r(" checks for python builtins being used as variables or parameters"),af=k(),dn=t("li"),go=t("strong"),ef=r("flake8-comprehension"),nf=r(" helps write better list/set/dict comprehension"),tf=k(),hn=t("li"),Io=t("strong"),of=r("flake8-isort"),pf=r(" ensures I have run isort on the code before committing"),lf=k(),$s=t("li"),Po=t("strong"),rf=r("flake8-mutable"),cf=r(" prevents issues when passing mutable default values to a function (for example, "),xo=t("code"),kf=r("def fnc(a, b={}):"),uf=r(")"),ff=k(),mn=t("li"),$o=t("strong"),df=r("flake8-pytest-style"),hf=r(" checks common style issues or inconsistencies with pytest-based tests"),mf=k(),yn=t("li"),To=t("strong"),yf=r("flake8-simplify"),vf=r(" gives hints for simplification"),bf=k(),vn=t("li"),jo=t("strong"),_f=r("pep8-naming"),wf=r(" enforces basic capitalisation practices, as per PEP 8"),Ef=k(),bn=t("li"),So=t("strong"),gf=r("pyflakes"),If=r(" checks for unused imports"),er=k(),ee=t("pre"),nr=k(),ne=t("pre"),tr=k(),Ts=t("h3"),js=t("a"),Co=t("span"),Pf=r("Specimen setup: safety"),or=k(),_n=t("p"),xf=r("Safety checks third party packages against a database of known compromised ones."),pr=k(),te=t("pre"),lr=k(),wn=t("p"),$f=r("I run it from the Makefile. It could also be useful in a git hook"),rr=k(),oe=t("pre"),cr=k(),pe=t("pre"),ir=k(),Ss=t("h3"),Cs=t("a"),Ao=t("span"),Tf=r("Specimen setup: mypy"),kr=k(),En=t("p"),jf=r("The last code quality tool: mypy, to check for type annotations."),ur=k(),le=t("pre"),fr=k(),gn=t("p"),Sf=r("and the pyproject.toml changes"),dr=k(),re=t("pre"),hr=k(),In=t("p"),Cf=r("Add to the Makefile"),mr=k(),ce=t("pre"),yr=k(),Pn=t("p"),Af=r("Check it works"),vr=k(),ie=t("pre"),br=k(),As=t("h3"),Ds=t("a"),Do=t("span"),Df=r("Specimen setup: README, LICENCE and static documents"),_r=k(),xn=t("p"),Rf=r("The last piece of the puzzle is various static documents."),wr=k(),Rs=t("ul"),$n=t("li"),Hf=r("I adapted a README.md and a CHANGELOG.md from "),Tn=t("a"),Mf=r("https://github.com/othneildrew/Best-README-Template/"),Of=k(),Ro=t("li"),Lf=r("the LICENSE file is standard MIT"),Er=k(),jn=t("p"),Nf=r("Finally, that\u2019s all I need. Of course I could keep adding and fine tuning stuff (and I probably will). But this is good enough to get started."),gr=k(),Hs=t("h2"),Ms=t("a"),Ho=t("span"),qf=r("Step 2: Creating the Cookiecutter template from the specimen project"),Ir=k(),Sn=t("p"),Ff=r("With that out of the way, I make a copy of the whole directory and start turning it into a minimal cookiecutter template. For starters, just an exact copy of the project, with only the folder name changed"),Pr=k(),ke=t("pre"),xr=k(),Cn=t("p"),Bf=r("So that\u2019s it, it works. But that\u2019s not real a test, it\u2019s just sanity check. I can do better."),$r=k(),Os=t("h3"),Ls=t("a"),Mo=t("span"),Uf=r("Testing a cookiecutter template with pytest-cookies"),Tr=k(),O=t("p"),zf=r("One thing I should do before attempting testing is to apply the same code quality tooling as in the template. I copy the Makefile, and cannibalise the bits of the pyproject.toml I need, then run "),Oo=t("code"),Vf=r("poetry install"),Gf=r(". One can see the result "),ue=t("a"),Yf=r("in the template repo"),Wf=r(". Now on with the testing"),jr=k(),Ns=t("p"),Kf=r("Cookiecutter templates can, and should, be tested with "),Lo=t("code"),Jf=r("pytest-cookies"),Qf=r("."),Sr=k(),fe=t("pre"),Cr=k(),An=t("p"),Xf=r("The initial test is fairly simple, it merely checks the template is created"),Ar=k(),de=t("pre"),Dr=k(),qs=t("p"),Zf=r("The pytest_cookies package injects a "),No=t("code"),sd=r("cookies"),ad=r(" fixture in all of your tests. It\u2019s a wrapper around cookiecutter, that makes it run in a private directory. The run returns an instance of the Result class, which includes pretty much all of the properties in the example above. Here I check the general gist of it and one of the generated files."),Rr=k(),L=t("p"),ed=r("Now it\u2019s simply a matter of going through each file and directory and seeing what can be parametrised and moved to "),qo=t("code"),nd=r("cookiecutter.json"),td=r(". For example, replace the content of "),Fo=t("code"),od=r("/.python-version"),pd=r(" with"),Hr=k(),he=t("pre"),Mr=k(),me=t("p"),ld=r("and then add it to the "),Bo=t("code"),rd=r("cookiecutter.json"),Or=k(),ye=t("pre"),Lr=k(),Dn=t("p"),cd=r("and so on."),Nr=k(),Rn=t("p"),id=r("At the end of this step I\u2019m left with this directory tree"),qr=k(),ve=t("pre"),Fr=k(),Fs=t("p"),kd=r("And a "),Uo=t("code"),ud=r("cookiecutter.json"),fd=r(" with"),Br=k(),be=t("pre"),Ur=k(),Hn=t("p"),dd=r("I\u2019m not going to test every single value of course. I will, however, expand the existing test to add a couple more values that should go in the same file. But I can get slightly fancier."),zr=k(),Bs=t("h3"),Us=t("a"),zo=t("span"),hd=r("Automatically run tests in a generated cookiecutter template"),Vr=k(),N=t("p"),md=r("First, I can test the generated files to see none of them have "),Vo=t("code"),yd=r("{{cookiecutter.xxxx}}"),vd=r(" in them. That\u2019s pretty easy. The Result object gives me a Posix path of the root of the generated project. So I can just call its "),Go=t("em"),bd=r("glob"),_d=r(" method to get the whole folder tree below it."),Gr=k(),_e=t("pre"),Yr=k(),zs=t("p"),wd=r("Second, I can run the project\u2019s own tests after it\u2019s generated. It doesn\u2019t get safer than that! Again, thanks to the magic of "),Yo=t("em"),Ed=r("pytest-cookies"),gd=r(" which generates the project in a sandboxed folder and then provides a Posix object of its location."),Wr=k(),we=t("pre"),Kr=k(),Mn=t("p"),Id=r("Almost there. Now I need to take care of the dynamically generated values."),Jr=k(),Vs=t("h3"),Gs=t("a"),Wo=t("span"),Pd=r("Using post generation hooks in Cookiecutter templates"),Qr=k(),Ys=t("p"),xd=r("First the easy one. The "),Ko=t("code"),$d=r(".env"),Td=r(" file need to include the path of the directory of the newly created project. I write a test for that"),Xr=k(),Ee=t("pre"),Zr=k(),On=t("p"),jd=r("Luckily, the cwd is made available in cookiecutter as \u201D_output_dir\u201D. So the .env file in the template simply becomes"),sc=k(),ge=t("pre"),ac=k(),Ws=t("p"),Sd=r("Now the python executable path. This is tricky. It can only be run once the project is generated and "),Jo=t("code"),Cd=r("poetry install"),Ad=r(" has run. But then the cookiecutter variables will no longer be available. So I have to come up with my own replacement engine. Not too happy about that, but what the heck. It\u2019s only a small string fragment"),ec=k(),Ks=t("p"),Dd=r("First I set up the json template. "),Qo=t("code"),Rd=r("<interpreter_path>"),Hd=r(" will be the variable I need to replace."),nc=k(),Ie=t("pre"),tc=k(),y=t("p"),Md=r("And then the cookiecutter hook that installs the poetry dependencies, updates the settings file, and creates the first git commit. Cookiecutter offers two hooks: "),Xo=t("code"),Od=r("pre_gen_project.sh"),Ld=r(" and "),Zo=t("code"),Nd=r("post_gen_project.sh"),qd=r(". Both live in the hooks directory and can be either python or shell scripts. "),sp=t("i"),Fd=r("pre_gen_project"),Bd=r(" runs before generating the project. It is mostly used for validation. Since it cannot change the values loaded from "),ap=t("code"),Ud=r("cookiecutter.json"),zd=r(" its usefulness is limited. "),ep=t("i"),Vd=r("post_gen_project"),Gd=r(" runs after the build."),oc=k(),q=t("p"),Yd=r("I will use the "),np=t("em"),Wd=r("awk"),Kd=r(" command from early on to determine the location of the python executable. This will be then fed into a "),tp=t("em"),Jd=r("sed"),Qd=r(" command, which will replace the string in the json file. Sed and awk are similar CLI programs, they both are stream based. Meaning that you feed text into them, and they spit text out at the other end. One can manipulate text before it\u2019s spat out. But there is only one pass. Awk assumes the input text is spreadsheet-like, and tries to split it into columns. Then it gives access to the individual columns. Sed simply treats lines of text as lines, and allows to overwrite them before spitting them out again."),pc=k(),Pe=t("pre"),lc=k(),Js=t("h2"),Qs=t("a"),op=t("span"),Xd=r("Step 3: push to github and test"),rc=k(),Ln=t("p"),Zd=r("The final test is to push the template to github and try to fetch it from there"),cc=k(),xe=t("pre"),ic=k(),Nn=t("p"),sh=r("And that\u2019s finally it. A basic Python project template. It\u2019s very bare - it has neither CLI framework nor DS tools nor a web server. Just the code quality tools and VSCode. But it\u2019s a starting point, and I\u2019ll be adding to it. Hope you find it useful."),kc=k(),Xs=t("h2"),Zs=t("a"),pp=t("span"),ah=r("Acknowledgements"),uc=k(),sa=t("p"),eh=r("Half way through writing this post I came across a very similar one from PythonCheatSheet: "),$e=t("a"),nh=r("https://www.pythoncheatsheet.org/blog/python-projects-with-poetry-and-vscode-part-2"),th=r(". I carried on with mine, regardless."),fc=k(),Te=t("p"),oh=r("The awk command comes from SO, of course "),je=t("a"),ph=r("https://stackoverflow.com/questions/15331259/use-awk-to-find-first-occurrence-only-of-string-after-a-delimiter"),dc=k(),Se=t("p"),lh=r("Discussion on how to fetch the executable path on the CLI for poetry env command "),Ce=t("a"),rh=r("https://github.com/python-poetry/poetry/pull/731"),hc=k(),Ae=t("p"),ch=r("More info on how the VSCode settings work "),De=t("a"),ih=r("https://stackoverflow.com/questions/53653083/how-to-correctly-set-pythonpath-for-visual-studio-code"),mc=k(),Re=t("p"),kh=r("Pytest coverage and code layout "),He=t("a"),uh=r("https://browniebroke.com/blog/convert-existing-poetry-to-src-layout/"),yc=k(),Me=t("p"),fh=r(`The article that showed me about Flakeheaven
`),Oe=t("a"),dh=r("https://dev.to/bowmanjd/using-flake8-and-pyproject-toml-with-flakehell-1cn1"),vc=k(),Le=t("p"),hh=r("A README file template "),Ne=t("a"),mh=r("https://github.com/othneildrew/Best-README-Template/blob/master/CHANGELOG.md"),this.h()},l(s){j=o(s,"H2",{id:!0});var n=p(j);B=o(n,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var pm=p(B);Qn=o(pm,"SPAN",{class:!0}),p(Qn).forEach(a),pm.forEach(a),Dc=c(n,"Creating a python project from scratch? How boring"),n.forEach(a),cp=u(s),_=o(s,"P",{});var aa=p(_);Rc=c(aa,"Starting work on a new project involves a lot of repetitive steps: setting up a virtual env, code quality tools, packages, etc etc. By the time I have finished with that I have already lost half the motivation that made me want to start work on the little project. There must be a better way. And there is - generate it all from a template! In JS-land I used "),ca=o(aa,"A",{href:!0,rel:!0});var lm=p(ca);Hc=c(lm,"plop"),lm.forEach(a),Mc=c(aa,", but since I started developing with Python projects I use "),ia=o(aa,"A",{href:!0,rel:!0});var rm=p(ia);Oc=c(rm,"cookiecutter"),rm.forEach(a),Lc=c(aa,". Of course that means starting a new project and going through all the tedious steps "),Xn=o(aa,"EM",{});var cm=p(Xn);Nc=c(cm,"again"),cm.forEach(a),qc=c(aa,", but it\u2019s the last time!"),aa.forEach(a),ip=u(s),U=o(s,"H2",{id:!0});var yh=p(U);z=o(yh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var im=p(z);Zn=o(im,"SPAN",{class:!0}),p(Zn).forEach(a),im.forEach(a),Fc=c(yh,"Tl;DR: here\u2019s the template"),yh.forEach(a),kp=u(s),qe=o(s,"P",{});var km=p(qe);Bc=c(km,"If you want to use the template, just run"),km.forEach(a),up=u(s),ka=o(s,"PRE",{class:!0});var j_=p(ka);j_.forEach(a),fp=u(s),V=o(s,"H2",{id:!0});var vh=p(V);G=o(vh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var um=p(G);st=o(um,"SPAN",{class:!0}),p(st).forEach(a),um.forEach(a),Uc=c(vh,"The plan"),vh.forEach(a),dp=u(s),Fe=o(s,"P",{});var fm=p(Fe);zc=c(fm,"This is how I\u2019m planning to tackle this:"),fm.forEach(a),hp=u(s),S=o(s,"OL",{});var qn=p(S);at=o(qn,"LI",{});var dm=p(at);Vc=c(dm,"Create a small project specimen (A) manually and make sure it all works"),dm.forEach(a),Gc=u(qn),et=o(qn,"LI",{});var hm=p(et);Yc=c(hm,"Duplicate it and transform the duplicate (B) into a cookiecutter template"),hm.forEach(a),Wc=u(qn),nt=o(qn,"LI",{});var mm=p(nt);Kc=c(mm,"Push to github, and use cookiecutter to generate a project (C) with it"),mm.forEach(a),qn.forEach(a),mp=u(s),Y=o(s,"H2",{id:!0});var bh=p(Y);W=o(bh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var ym=p(W);tt=o(ym,"SPAN",{class:!0}),p(tt).forEach(a),ym.forEach(a),Jc=c(bh,"Step 0: Prerequisites"),bh.forEach(a),yp=u(s),w=o(s,"P",{});var ea=p(w);Qc=c(ea,"For this python and pyenv are needed (I have a post on "),Be=o(ea,"A",{href:!0});var vm=p(Be);Xc=c(vm,"how I installed them on OS X"),vm.forEach(a),Zc=c(ea,"), plus "),ua=o(ea,"A",{href:!0,rel:!0});var bm=p(ua);si=c(bm,"poetry"),bm.forEach(a),ai=c(ea," and of course "),fa=o(ea,"A",{href:!0,rel:!0});var _m=p(fa);ei=c(_m,"cookiecutter"),_m.forEach(a),ni=c(ea,". On a mac one could install most of them with homebrew."),ea.forEach(a),vp=u(s),K=o(s,"H2",{id:!0});var _h=p(K);J=o(_h,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var wm=p(J);ot=o(wm,"SPAN",{class:!0}),p(ot).forEach(a),wm.forEach(a),ti=c(_h,"Step 1: Create a project specimen"),_h.forEach(a),bp=u(s),Q=o(s,"H3",{id:!0});var wh=p(Q);X=o(wh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Em=p(X);pt=o(Em,"SPAN",{class:!0}),p(pt).forEach(a),Em.forEach(a),oi=c(wh,"Specimen setup: poetry"),wh.forEach(a),_p=u(s),Z=o(s,"P",{});var bc=p(Z);pi=c(bc,"Since this is a python project, I will do the usual and set it up with poetry. I already have "),Ue=o(bc,"A",{href:!0});var gm=p(Ue);li=c(gm,"python and pyenv installed"),gm.forEach(a),ri=c(bc,", so it\u2019s just a matter of making sure the expected version is there"),bc.forEach(a),wp=u(s),da=o(s,"PRE",{class:!0});var S_=p(da);S_.forEach(a),Ep=u(s),ze=o(s,"P",{});var Im=p(ze);ci=c(Im,"I use poetry for controlling dependencies. It\u2019s good at managing versions and it keeps most of the config in one centralised place. Here I generate a minimal config file, pyproject.toml. There is no point in fine tuning it since it will be parametrised later."),Im.forEach(a),gp=u(s),ha=o(s,"PRE",{class:!0});var C_=p(ha);C_.forEach(a),Ip=u(s),ss=o(s,"H3",{id:!0});var Eh=p(ss);as=o(Eh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Pm=p(as);lt=o(Pm,"SPAN",{class:!0}),p(lt).forEach(a),Pm.forEach(a),ii=c(Eh,"Specimen setup: git"),Eh.forEach(a),Pp=u(s),C=o(s,"P",{});var Fn=p(C);ki=c(Fn,"I better set up git now, so that I can commit code as I create it. I\u2019m not actually going to push this repo to github, this is just a local repo for safety. I download a .gitignore from TopTal, and add the project to git. I name my main branch \u2018trunk\u2019, like in the old SVN days. I find it more meaningful than either the fashionable "),rt=o(Fn,"CODE",{});var xm=p(rt);ui=c(xm,"main"),xm.forEach(a),fi=c(Fn," or unfashionable "),ct=o(Fn,"CODE",{});var $m=p(ct);di=c($m,"master"),$m.forEach(a),hi=c(Fn,". I also add a user name and email for each project, since they may be for different orgs."),Fn.forEach(a),xp=u(s),ma=o(s,"PRE",{class:!0});var A_=p(ma);A_.forEach(a),$p=u(s),es=o(s,"H3",{id:!0});var gh=p(es);ns=o(gh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Tm=p(ns);it=o(Tm,"SPAN",{class:!0}),p(it).forEach(a),Tm.forEach(a),mi=c(gh,"Specimen setup: initial folder structure"),gh.forEach(a),Tp=u(s),E=o(s,"P",{});var na=p(E);yi=c(na,"Then I create the skeleton folder structure. The "),kt=o(na,"CODE",{});var jm=p(kt);vi=c(jm,"__init__.py"),jm.forEach(a),bi=c(na," inside "),ut=o(na,"CODE",{});var Sm=p(ut);_i=c(Sm,"src/specimen"),Sm.forEach(a),wi=c(na," has a version number in it, and the "),ft=o(na,"CODE",{});var Cm=p(ft);Ei=c(Cm,"__init__.py"),Cm.forEach(a),gi=c(na," in tests is only there to make the tests folder a package."),na.forEach(a),jp=u(s),ya=o(s,"PRE",{class:!0});var D_=p(ya);D_.forEach(a),Sp=u(s),ts=o(s,"H3",{id:!0});var Ih=p(ts);os=o(Ih,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Am=p(os);dt=o(Am,"SPAN",{class:!0}),p(dt).forEach(a),Am.forEach(a),Ii=c(Ih,"Specimen setup: wire up VSCode to the poetry python environment"),Ih.forEach(a),Cp=u(s),A=o(s,"P",{});var Bn=p(A);Pi=c(Bn,"Before going further I will make sure VSCode knows about the environment and where the packages are. First of all, make sure the python executable from the virtual env is the one being used. The virtual env is created by poetry whenever one runs any install or add command, if it doesn\u2019t yet exist. Or one can create it explicitly with "),ht=o(Bn,"CODE",{});var Dm=p(ht);xi=c(Dm,"poetry shell"),Dm.forEach(a),$i=c(Bn," (if the env already exists it will just say where it is). I\u2019ll do that here, just to be on the safe side. "),mt=o(Bn,"CODE",{});var Rm=p(mt);Ti=c(Rm,"poetry env info"),Rm.forEach(a),ji=c(Bn," then gives some information about the shell"),Bn.forEach(a),Ap=u(s),va=o(s,"PRE",{class:!0});var R_=p(va);R_.forEach(a),Dp=u(s),g=o(s,"P",{});var ta=p(g);Si=c(ta,"I want to be able to extract the name of the python executable from that info. I could do that with "),yt=o(ta,"CODE",{});var Hm=p(yt);Ci=c(Hm,"poetry env info --path"),Hm.forEach(a),Ai=c(ta," which is just the path to the shell, and then feed it into "),vt=o(ta,"CODE",{});var Mm=p(vt);Di=c(Mm,'"$(poetry env info --path)/bin/python3.10"'),Mm.forEach(a),Ri=c(ta," but that means I would need to hard code the "),bt=o(ta,"CODE",{});var Om=p(bt);Hi=c(Om,"python3.10"),Om.forEach(a),Mi=c(ta," part. For a more solid solution, I turn to trusty awk"),ta.forEach(a),Rp=u(s),ba=o(s,"PRE",{class:!0});var H_=p(ba);H_.forEach(a),Hp=u(s),Ve=o(s,"P",{});var Lm=p(Ve);Oi=c(Lm,"The awk command breaks down as"),Lm.forEach(a),Mp=u(s),f=o(s,"DL",{class:!0});var h=p(f);_t=o(h,"DT",{});var Nm=p(_t);Li=c(Nm,"poetry env info"),Nm.forEach(a),wt=o(h,"DD",{});var qm=p(wt);Ni=c(qm,"run that command, which prints a whole load of text"),qm.forEach(a),Et=o(h,"DT",{});var Fm=p(Et);qi=c(Fm,"|"),Fm.forEach(a),gt=o(h,"DD",{});var Bm=p(gt);Fi=c(Bm,"pass that text on to the next command"),Bm.forEach(a),It=o(h,"DT",{});var Um=p(It);Bi=c(Um,"awk"),Um.forEach(a),Pt=o(h,"DD",{});var zm=p(Pt);Ui=c(zm,"...which is awk. awk processes text one line at the time, as it passes through it, and splits it into columns"),zm.forEach(a),xt=o(h,"DT",{});var Vm=p(xt);zi=c(Vm,"'"),Vm.forEach(a),$t=o(h,"DD",{});var Gm=p($t);Vi=c(Gm,"everything from now until the next ' is an awk program"),Gm.forEach(a),Tt=o(h,"DT",{});var Ym=p(Tt);Gi=c(Ym,"/Executable/ {"),Ym.forEach(a),jt=o(h,"DD",{});var Wm=p(jt);Yi=c(Wm,"if the current line contains 'Executable', do all those things until the next }"),Wm.forEach(a),St=o(h,"DT",{});var Km=p(St);Wi=c(Km,"print $2;"),Km.forEach(a),T=o(h,"DD",{});var oa=p(T);Ki=c(oa,"awk will split "),Ct=o(oa,"CODE",{});var Jm=p(Ct);Ji=c(Jm,"Python:\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA03.10.6"),Jm.forEach(a),Qi=c(oa," etc into two fields; "),At=o(oa,"CODE",{});var Qm=p(At);Xi=c(Qm,"Python"),Qm.forEach(a),Zi=c(oa," and "),Dt=o(oa,"CODE",{});var Xm=p(Dt);sk=c(Xm,"3.10.6"),Xm.forEach(a),ak=c(oa,". I want the second one, i.e. $2"),oa.forEach(a),Rt=o(h,"DT",{});var Zm=p(Rt);ek=c(Zm,"exit"),Zm.forEach(a),_a=o(h,"DD",{});var _c=p(_a);nk=c(_c,"if one looks at the output of "),Ht=o(_c,"CODE",{});var sy=p(Ht);tk=c(sy,"poetry env info"),sy.forEach(a),ok=c(_c,', there are actually two lines with "Executable" in it. Luckily I want the first one, so I can simply stop after it is found'),_c.forEach(a),Mt=o(h,"DT",{});var ay=p(Mt);pk=c(ay,"}"),ay.forEach(a),Ot=o(h,"DD",{});var ey=p(Ot);lk=c(ey,'stop telling awk what to do if the line has "Executable" in it'),ey.forEach(a),Lt=o(h,"DT",{});var ny=p(Lt);rk=c(ny,"'"),ny.forEach(a),Nt=o(h,"DD",{});var ty=p(Nt);ck=c(ty,"stop telling awk what to do and do it"),ty.forEach(a),h.forEach(a),Op=u(s),D=o(s,"P",{});var Un=p(D);ik=c(Un,"But what do I do with that path? The manual way is to add it to VSCode with the command "),qt=o(Un,"CODE",{});var oy=p(qt);kk=c(oy,"CMD+SHIFT+P"),oy.forEach(a),uk=c(Un," to open the command palette, and selecting "),Ft=o(Un,"CODE",{});var py=p(Ft);fk=c(py,"Python: select interpreter"),py.forEach(a),dk=c(Un,". In the textbox I can then enter that path. To do it without a manual step, I add it to VSCode workspace settings file. Note that I am using vim because VSCode doesn\u2019t let me treat settings.json as a normal file"),Un.forEach(a),Lp=u(s),wa=o(s,"PRE",{class:!0});var M_=p(wa);M_.forEach(a),Np=u(s),Ge=o(s,"P",{});var ly=p(Ge);hk=c(ly,"And this is the content of the settings.json file. It points to an .env file, which I will have to create. It\u2019s pretty convoluted if you ask me. But that\u2019s how it is."),ly.forEach(a),qp=u(s),Ye=o(s,"P",{});var ry=p(Ye);Bt=o(ry,"EM",{});var cy=p(Bt);mk=c(cy,"(Project idea: a VSCode plugin which automatically sets this up for you)"),cy.forEach(a),ry.forEach(a),Fp=u(s),Ea=o(s,"PRE",{class:!0});var O_=p(Ea);O_.forEach(a),Bp=u(s),We=o(s,"P",{});var iy=p(We);yk=c(iy,"and the .env file. NOTE: this will be ignored by most standard .gitignores, IDEs and possibly CI/CD pipelines. Bear that in mind when creating the cookiecutter template"),iy.forEach(a),Up=u(s),ga=o(s,"PRE",{class:!0});var L_=p(ga);L_.forEach(a),zp=u(s),I=o(s,"P",{});var pa=p(I);vk=c(pa,"Now I can finally open a file in the tests folder, type "),Ut=o(pa,"CODE",{});var ky=p(Ut);bk=c(ky,"from specimen import"),ky.forEach(a),_k=c(pa," and VSCode will autocomplete. If that doesn\u2019t work by default, it could be that VSCode has already picked a Python interpreter. Which means, it will ignore all the settings just created. If I then do "),zt=o(pa,"CODE",{});var uy=p(zt);wk=c(uy,"CMD+SHIT+P"),uy.forEach(a),Ek=c(pa," and do "),Vt=o(pa,"CODE",{});var fy=p(Vt);gk=c(fy,"select python interpreter"),fy.forEach(a),Ik=c(pa,", there should be the option to use the settings file I have just created."),pa.forEach(a),Vp=u(s),ps=o(s,"H3",{id:!0});var Ph=p(ps);ls=o(Ph,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var dy=p(ls);Gt=o(dy,"SPAN",{class:!0}),p(Gt).forEach(a),dy.forEach(a),Pk=c(Ph,"Specimen setup: tests"),Ph.forEach(a),Gp=u(s),Ke=o(s,"P",{});var hy=p(Ke);xk=c(hy,"I write the first, trivial test"),hy.forEach(a),Yp=u(s),Ia=o(s,"PRE",{class:!0});var N_=p(Ia);N_.forEach(a),Wp=u(s),Je=o(s,"P",{});var my=p(Je);$k=c(my,"Although Python does come with a test runner, pytest is by far the most popular runner. Lets\u2019 add it and run it"),my.forEach(a),Kp=u(s),Pa=o(s,"PRE",{class:!0});var q_=p(Pa);q_.forEach(a),Jp=u(s),Qe=o(s,"P",{});var yy=p(Qe);Tk=c(yy,"So far so good. Let\u2019s add coverage"),yy.forEach(a),Qp=u(s),xa=o(s,"PRE",{class:!0});var F_=p(xa);F_.forEach(a),Xp=u(s),rs=o(s,"P",{});var wc=p(rs);jk=c(wc,"Coverage settings can be added to the "),Yt=o(wc,"CODE",{});var vy=p(Yt);Sk=c(vy,"pyproject.toml"),vy.forEach(a),Ck=c(wc," file."),wc.forEach(a),Zp=u(s),$a=o(s,"PRE",{class:!0});var B_=p($a);B_.forEach(a),sl=u(s),cs=o(s,"P",{});var Ec=p(cs);Ak=c(Ec,"I\u2019ll run the test again. Notice the "),Wt=o(Ec,"CODE",{});var by=p(Wt);Dk=c(by,"--cov"),by.forEach(a),Rk=c(Ec," flag to include test coverage"),Ec.forEach(a),al=u(s),Ta=o(s,"PRE",{class:!0});var U_=p(Ta);U_.forEach(a),el=u(s),Xe=o(s,"P",{});var _y=p(Xe);Hk=c(_y,"The test fails fast because I didn\u2019t import the code at all. Fair enough. I will import the version number from the code, and test it is in the right format. I didn\u2019t hard code the version because this would mean changing, or getting rid of, the test every time the version goes up. Instead, I test that the version number validates. With a rather simple validation, but there is no benefit in getting more complicated."),_y.forEach(a),nl=u(s),ja=o(s,"PRE",{class:!0});var z_=p(ja);z_.forEach(a),tl=u(s),R=o(s,"P",{});var zn=p(R);Mk=c(zn,"When I run the test, it breaks again. Poetry doesn\u2019t know how to make the test find the package "),Kt=o(zn,"CODE",{});var wy=p(Kt);Ok=c(wy,"specimen"),wy.forEach(a),Lk=c(zn," from which to load "),Jt=o(zn,"CODE",{});var Ey=p(Jt);Nk=c(Ey,"__version__"),Ey.forEach(a),qk=c(zn,". One would think it\u2019d be able to work it out by itself\u2026 nope."),zn.forEach(a),ol=u(s),Sa=o(s,"PRE",{class:!0});var V_=p(Sa);V_.forEach(a),pl=u(s),Ca=o(s,"P",{});var xh=p(Ca);Fk=c(xh,"The solution is to add this setting to the "),Qt=o(xh,"CODE",{});var gy=p(Qt);Bk=c(gy,"pyproject.toml"),gy.forEach(a),xh.forEach(a),ll=u(s),Aa=o(s,"PRE",{class:!0});var G_=p(Aa);G_.forEach(a),rl=u(s),Ze=o(s,"P",{});var Iy=p(Ze);Uk=c(Iy,"Now it runs"),Iy.forEach(a),cl=u(s),Da=o(s,"PRE",{class:!0});var Y_=p(Da);Y_.forEach(a),il=u(s),is=o(s,"H4",{id:!0});var $h=p(is);ks=o($h,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Py=p(ks);Xt=o(Py,"SPAN",{class:!0}),p(Xt).forEach(a),Py.forEach(a),zk=c($h,"Adding a Faker fixture to the template"),$h.forEach(a),kl=u(s),sn=o(s,"P",{});var xy=p(sn);Vk=c(xy,"I don\u2019t always use mocks or patch in my tests, but I pretty much always need Faker. So I create a fixture for it"),xy.forEach(a),ul=u(s),Ra=o(s,"PRE",{class:!0});var W_=p(Ra);W_.forEach(a),fl=u(s),us=o(s,"H3",{id:!0});var Th=p(us);fs=o(Th,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var $y=p(fs);Zt=o($y,"SPAN",{class:!0}),p(Zt).forEach(a),$y.forEach(a),Gk=c(Th,"Specimen setup: Makefile"),Th.forEach(a),dl=u(s),ds=o(s,"P",{});var gc=p(ds);Yk=c(gc,"I use Makefiles for running my Python projects. I have a standard one I cannibalise when setting up a new project (see "),Ha=o(gc,"A",{href:!0,rel:!0});var Ty=p(Ha);Wk=c(Ty,"gist"),Ty.forEach(a),Kk=c(gc,"). From that gist I extract this"),gc.forEach(a),hl=u(s),Ma=o(s,"PRE",{class:!0});var K_=p(Ma);K_.forEach(a),ml=u(s),an=o(s,"P",{});var jy=p(an);Jk=c(jy,"It has a command to show nicely formatted help, courtesy of awk"),jy.forEach(a),yl=u(s),Oa=o(s,"PRE",{class:!0});var J_=p(Oa);J_.forEach(a),vl=u(s),en=o(s,"P",{});var Sy=p(en);Qk=c(Sy,"And, of course, it runs the tests"),Sy.forEach(a),bl=u(s),La=o(s,"PRE",{class:!0});var Q_=p(La);Q_.forEach(a),_l=u(s),hs=o(s,"H3",{id:!0});var jh=p(hs);ms=o(jh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Cy=p(ms);so=o(Cy,"SPAN",{class:!0}),p(so).forEach(a),Cy.forEach(a),Xk=c(jh,"Specimen setup: formatting with black and isort"),jh.forEach(a),wl=u(s),H=o(s,"P",{});var Vn=p(H);Zk=c(Vn,"And now the tantalising task of adding all the code quality tools. I still find the JS ecosystem much slicker than Python\u2019s. Python is still struggling with the concept of allowing static analysis tools fix the code. But now let\u2019s install the two python tools that "),ao=o(Vn,"EM",{});var Ay=p(ao);su=c(Ay,"do"),Ay.forEach(a),au=c(Vn," get it right - Black and isort. I know that "),Na=o(Vn,"A",{href:!0,rel:!0});var Dy=p(Na);eu=c(Dy,"isort can be controversial"),Dy.forEach(a),nu=c(Vn,", but to be honest it\u2019s always served me right."),Vn.forEach(a),El=u(s),nn=o(s,"P",{});var Ry=p(nn);tu=c(Ry,"First of all, I create commands in the Makefile."),Ry.forEach(a),gl=u(s),qa=o(s,"PRE",{class:!0});var X_=p(qa);X_.forEach(a),Il=u(s),tn=o(s,"P",{});var Hy=p(tn);ou=c(Hy,"The help rule shows what they all do"),Hy.forEach(a),Pl=u(s),Fa=o(s,"PRE",{class:!0});var Z_=p(Fa);Z_.forEach(a),xl=u(s),m=o(s,"P",{});var b=p(m);eo=o(b,"CODE",{});var My=p(eo);pu=c(My,"make format"),My.forEach(a),lu=c(b," is meant for local development, before committing (a git pre-commit hook could also be useful). "),no=o(b,"CODE",{});var Oy=p(no);ru=c(Oy,"make lint-black"),Oy.forEach(a),cu=c(b," instead is meant as a code quality tool. Note that it is run with "),to=o(b,"CODE",{});var Ly=p(to);iu=c(Ly,"black --check"),Ly.forEach(a),ku=c(b,", so it doesn\u2019t rewrite code. "),oo=o(b,"CODE",{});var Ny=p(oo);uu=c(Ny,"make lint"),Ny.forEach(a),fu=c(b," runs black and all the code quality tools I will add later. "),po=o(b,"CODE",{});var qy=p(po);du=c(qy,"make qa-local"),qy.forEach(a),hu=c(b," is also meant for local development, as a check before pushing. Whereas "),lo=o(b,"CODE",{});var Fy=p(lo);mu=c(Fy,"make qa"),Fy.forEach(a),yu=c(b," is for CI/CD. Now I have to actually install\u2026"),b.forEach(a),$l=u(s),Ba=o(s,"PRE",{class:!0});var sw=p(Ba);sw.forEach(a),Tl=u(s),on=o(s,"P",{});var By=p(on);vu=c(By,"\u2026configure\u2026"),By.forEach(a),jl=u(s),Ua=o(s,"PRE",{class:!0});var aw=p(Ua);aw.forEach(a),Sl=u(s),pn=o(s,"P",{});var Uy=p(pn);bu=c(Uy,"\u2026and test those tools"),Uy.forEach(a),Cl=u(s),za=o(s,"PRE",{class:!0});var ew=p(za);ew.forEach(a),Al=u(s),ys=o(s,"H3",{id:!0});var Sh=p(ys);vs=o(Sh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var zy=p(vs);ro=o(zy,"SPAN",{class:!0}),p(ro).forEach(a),zy.forEach(a),_u=c(Sh,"Specimen setup: add flake8 and plugins"),Sh.forEach(a),Dl=u(s),M=o(s,"P",{});var Gn=p(M);wu=c(Gn,"This is one of the main reasons why I need a template for my python projects. Who\u2019s got the time to remember and configure all of these every time? Anyway. I use "),Va=o(Gn,"A",{href:!0,rel:!0});var Vy=p(Va);Eu=c(Vy,"flakeheaven"),Vy.forEach(a),gu=c(Gn," to configure flake8 and its plugins from within the pyproject.toml file. It has the issue that "),Ga=o(Gn,"A",{href:!0,rel:!0});var Gy=p(Ga);Iu=c(Gy,"it doesn\u2019t support flake8 5"),Gy.forEach(a),Pu=c(Gn,", but then again neither do a lot of plugins, so\u2026 sticking to flake8 4 is fine for now."),Gn.forEach(a),Rl=u(s),Ya=o(s,"PRE",{class:!0});var nw=p(Ya);nw.forEach(a),Hl=u(s),P=o(s,"P",{});var la=p(P);xu=c(la,"Then, in pyproject.toml\u2026 Note that in the \u2018tool.flakeheaven.plugins\u2019 section, I list three plugins: mccabe, pycodestyle, and pyflake. This is actually what flake8: a wrapper around those three plugins. Plus a list of optional plugins one may want to add. "),co=o(la,"CODE",{});var Yy=p(co);$u=c(Yy,'["+*"]'),Yy.forEach(a),Tu=c(la," is the notation for \u2018enable this plugin in its entirety\u2019 ("),io=o(la,"CODE",{});var Wy=p(io);ju=c(Wy,"+"),Wy.forEach(a),Su=c(la," means enable, and "),ko=o(la,"CODE",{});var Ky=p(ko);Cu=c(Ky,"*"),Ky.forEach(a),Au=c(la," is a wildcard, i.e. \u2018anything\u2019)"),la.forEach(a),Ml=u(s),Wa=o(s,"PRE",{class:!0});var tw=p(Wa);tw.forEach(a),Ol=u(s),ln=o(s,"P",{});var Jy=p(ln);Du=c(Jy,"And in the Makefile"),Jy.forEach(a),Ll=u(s),Ka=o(s,"PRE",{class:!0});var ow=p(Ka);ow.forEach(a),Nl=u(s),rn=o(s,"P",{});var Qy=p(rn);Ru=c(Qy,"Finally, the optional plugins and their configuration"),Qy.forEach(a),ql=u(s),bs=o(s,"H4",{id:!0});var Ch=p(bs);_s=o(Ch,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Xy=p(_s);uo=o(Xy,"SPAN",{class:!0}),p(uo).forEach(a),Xy.forEach(a),Hu=c(Ch,"flake8-bandit"),Ch.forEach(a),Fl=u(s),cn=o(s,"P",{});var Zy=p(cn);Mu=c(Zy,"Provides automated security testing. I need to force version 3.0, as the latest version requires flake8 5"),Zy.forEach(a),Bl=u(s),Ja=o(s,"PRE",{class:!0});var pw=p(Ja);pw.forEach(a),Ul=u(s),x=o(s,"P",{});var ra=p(x);Ou=c(ra,"Here I allow everything "),fo=o(ra,"EM",{});var sv=p(fo);Lu=c(sv,"except"),sv.forEach(a),Nu=c(ra," rule 322, which is not relevant for python 3. Also note that there is an extra setting: "),ho=o(ra,"CODE",{});var av=p(ho);qu=c(av,'[tool.flakeheaven.exceptions."tests/"]'),av.forEach(a),Fu=c(ra," which only applies to the tests/ folder. In this folder, I want to allow assert statement. In the src folder they shouldn\u2019t be - that\u2019s because asserts are stripped by the compiler when python run with the "),mo=o(ra,"CODE",{});var ev=p(mo);Bu=c(ev,"-O"),ev.forEach(a),Uu=c(ra," option (O stand for optimizer)"),ra.forEach(a),zl=u(s),Qa=o(s,"PRE",{class:!0});var lw=p(Qa);lw.forEach(a),Vl=u(s),ws=o(s,"H4",{id:!0});var Ah=p(ws);Es=o(Ah,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var nv=p(Es);yo=o(nv,"SPAN",{class:!0}),p(yo).forEach(a),nv.forEach(a),zu=c(Ah,"flake8-bugbear"),Ah.forEach(a),Gl=u(s),kn=o(s,"P",{});var tv=p(kn);Vu=c(tv,"Adds more checks to the standard flake8 plugins"),tv.forEach(a),Yl=u(s),Xa=o(s,"PRE",{class:!0});var rw=p(Xa);rw.forEach(a),Wl=u(s),un=o(s,"P",{});var ov=p(un);Gu=c(ov,"I disable B950, the line length one. Bugbear does with a 10% tolerance, I prefer the standard hard limit."),ov.forEach(a),Kl=u(s),Za=o(s,"PRE",{class:!0});var cw=p(Za);cw.forEach(a),Jl=u(s),gs=o(s,"H4",{id:!0});var Dh=p(gs);Is=o(Dh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var pv=p(Is);vo=o(pv,"SPAN",{class:!0}),p(vo).forEach(a),pv.forEach(a),Yu=c(Dh,"darglint and flake8-docstrings"),Dh.forEach(a),Ql=u(s),F=o(s,"P",{});var lp=p(F);bo=o(lp,"STRONG",{});var lv=p(bo);Wu=c(lv,"Darglint"),lv.forEach(a),Ku=c(lp," checks whether a docstring\u2019s description matches the actual function/method implementation. "),_o=o(lp,"STRONG",{});var rv=p(_o);Ju=c(rv,"flake8-docstrings"),rv.forEach(a),Qu=c(lp," checks compliance with Python docstring conventions (most of PEP 257)"),lp.forEach(a),Xl=u(s),se=o(s,"PRE",{class:!0});var iw=p(se);iw.forEach(a),Zl=u(s),ae=o(s,"PRE",{class:!0});var kw=p(ae);kw.forEach(a),sr=u(s),Ps=o(s,"H4",{id:!0});var Rh=p(Ps);xs=o(Rh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var cv=p(xs);wo=o(cv,"SPAN",{class:!0}),p(wo).forEach(a),cv.forEach(a),Xu=c(Rh,"\u2026and many more"),Rh.forEach(a),ar=u(s),d=o(s,"UL",{});var v=p(d);fn=o(v,"LI",{});var Hh=p(fn);Eo=o(Hh,"STRONG",{});var iv=p(Eo);Zu=c(iv,"flake8-builtins"),iv.forEach(a),sf=c(Hh," checks for python builtins being used as variables or parameters"),Hh.forEach(a),af=u(v),dn=o(v,"LI",{});var Mh=p(dn);go=o(Mh,"STRONG",{});var kv=p(go);ef=c(kv,"flake8-comprehension"),kv.forEach(a),nf=c(Mh," helps write better list/set/dict comprehension"),Mh.forEach(a),tf=u(v),hn=o(v,"LI",{});var Oh=p(hn);Io=o(Oh,"STRONG",{});var uv=p(Io);of=c(uv,"flake8-isort"),uv.forEach(a),pf=c(Oh," ensures I have run isort on the code before committing"),Oh.forEach(a),lf=u(v),$s=o(v,"LI",{});var rp=p($s);Po=o(rp,"STRONG",{});var fv=p(Po);rf=c(fv,"flake8-mutable"),fv.forEach(a),cf=c(rp," prevents issues when passing mutable default values to a function (for example, "),xo=o(rp,"CODE",{});var dv=p(xo);kf=c(dv,"def fnc(a, b={}):"),dv.forEach(a),uf=c(rp,")"),rp.forEach(a),ff=u(v),mn=o(v,"LI",{});var Lh=p(mn);$o=o(Lh,"STRONG",{});var hv=p($o);df=c(hv,"flake8-pytest-style"),hv.forEach(a),hf=c(Lh," checks common style issues or inconsistencies with pytest-based tests"),Lh.forEach(a),mf=u(v),yn=o(v,"LI",{});var Nh=p(yn);To=o(Nh,"STRONG",{});var mv=p(To);yf=c(mv,"flake8-simplify"),mv.forEach(a),vf=c(Nh," gives hints for simplification"),Nh.forEach(a),bf=u(v),vn=o(v,"LI",{});var qh=p(vn);jo=o(qh,"STRONG",{});var yv=p(jo);_f=c(yv,"pep8-naming"),yv.forEach(a),wf=c(qh," enforces basic capitalisation practices, as per PEP 8"),qh.forEach(a),Ef=u(v),bn=o(v,"LI",{});var Fh=p(bn);So=o(Fh,"STRONG",{});var vv=p(So);gf=c(vv,"pyflakes"),vv.forEach(a),If=c(Fh," checks for unused imports"),Fh.forEach(a),v.forEach(a),er=u(s),ee=o(s,"PRE",{class:!0});var uw=p(ee);uw.forEach(a),nr=u(s),ne=o(s,"PRE",{class:!0});var fw=p(ne);fw.forEach(a),tr=u(s),Ts=o(s,"H3",{id:!0});var Bh=p(Ts);js=o(Bh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var bv=p(js);Co=o(bv,"SPAN",{class:!0}),p(Co).forEach(a),bv.forEach(a),Pf=c(Bh,"Specimen setup: safety"),Bh.forEach(a),or=u(s),_n=o(s,"P",{});var _v=p(_n);xf=c(_v,"Safety checks third party packages against a database of known compromised ones."),_v.forEach(a),pr=u(s),te=o(s,"PRE",{class:!0});var dw=p(te);dw.forEach(a),lr=u(s),wn=o(s,"P",{});var wv=p(wn);$f=c(wv,"I run it from the Makefile. It could also be useful in a git hook"),wv.forEach(a),rr=u(s),oe=o(s,"PRE",{class:!0});var hw=p(oe);hw.forEach(a),cr=u(s),pe=o(s,"PRE",{class:!0});var mw=p(pe);mw.forEach(a),ir=u(s),Ss=o(s,"H3",{id:!0});var Uh=p(Ss);Cs=o(Uh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Ev=p(Cs);Ao=o(Ev,"SPAN",{class:!0}),p(Ao).forEach(a),Ev.forEach(a),Tf=c(Uh,"Specimen setup: mypy"),Uh.forEach(a),kr=u(s),En=o(s,"P",{});var gv=p(En);jf=c(gv,"The last code quality tool: mypy, to check for type annotations."),gv.forEach(a),ur=u(s),le=o(s,"PRE",{class:!0});var yw=p(le);yw.forEach(a),fr=u(s),gn=o(s,"P",{});var Iv=p(gn);Sf=c(Iv,"and the pyproject.toml changes"),Iv.forEach(a),dr=u(s),re=o(s,"PRE",{class:!0});var vw=p(re);vw.forEach(a),hr=u(s),In=o(s,"P",{});var Pv=p(In);Cf=c(Pv,"Add to the Makefile"),Pv.forEach(a),mr=u(s),ce=o(s,"PRE",{class:!0});var bw=p(ce);bw.forEach(a),yr=u(s),Pn=o(s,"P",{});var xv=p(Pn);Af=c(xv,"Check it works"),xv.forEach(a),vr=u(s),ie=o(s,"PRE",{class:!0});var _w=p(ie);_w.forEach(a),br=u(s),As=o(s,"H3",{id:!0});var zh=p(As);Ds=o(zh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var $v=p(Ds);Do=o($v,"SPAN",{class:!0}),p(Do).forEach(a),$v.forEach(a),Df=c(zh,"Specimen setup: README, LICENCE and static documents"),zh.forEach(a),_r=u(s),xn=o(s,"P",{});var Tv=p(xn);Rf=c(Tv,"The last piece of the puzzle is various static documents."),Tv.forEach(a),wr=u(s),Rs=o(s,"UL",{});var Ic=p(Rs);$n=o(Ic,"LI",{});var Vh=p($n);Hf=c(Vh,"I adapted a README.md and a CHANGELOG.md from "),Tn=o(Vh,"A",{href:!0});var jv=p(Tn);Mf=c(jv,"https://github.com/othneildrew/Best-README-Template/"),jv.forEach(a),Vh.forEach(a),Of=u(Ic),Ro=o(Ic,"LI",{});var Sv=p(Ro);Lf=c(Sv,"the LICENSE file is standard MIT"),Sv.forEach(a),Ic.forEach(a),Er=u(s),jn=o(s,"P",{});var Cv=p(jn);Nf=c(Cv,"Finally, that\u2019s all I need. Of course I could keep adding and fine tuning stuff (and I probably will). But this is good enough to get started."),Cv.forEach(a),gr=u(s),Hs=o(s,"H2",{id:!0});var Gh=p(Hs);Ms=o(Gh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Av=p(Ms);Ho=o(Av,"SPAN",{class:!0}),p(Ho).forEach(a),Av.forEach(a),qf=c(Gh,"Step 2: Creating the Cookiecutter template from the specimen project"),Gh.forEach(a),Ir=u(s),Sn=o(s,"P",{});var Dv=p(Sn);Ff=c(Dv,"With that out of the way, I make a copy of the whole directory and start turning it into a minimal cookiecutter template. For starters, just an exact copy of the project, with only the folder name changed"),Dv.forEach(a),Pr=u(s),ke=o(s,"PRE",{class:!0});var ww=p(ke);ww.forEach(a),xr=u(s),Cn=o(s,"P",{});var Rv=p(Cn);Bf=c(Rv,"So that\u2019s it, it works. But that\u2019s not real a test, it\u2019s just sanity check. I can do better."),Rv.forEach(a),$r=u(s),Os=o(s,"H3",{id:!0});var Yh=p(Os);Ls=o(Yh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Hv=p(Ls);Mo=o(Hv,"SPAN",{class:!0}),p(Mo).forEach(a),Hv.forEach(a),Uf=c(Yh,"Testing a cookiecutter template with pytest-cookies"),Yh.forEach(a),Tr=u(s),O=o(s,"P",{});var Yn=p(O);zf=c(Yn,"One thing I should do before attempting testing is to apply the same code quality tooling as in the template. I copy the Makefile, and cannibalise the bits of the pyproject.toml I need, then run "),Oo=o(Yn,"CODE",{});var Mv=p(Oo);Vf=c(Mv,"poetry install"),Mv.forEach(a),Gf=c(Yn,". One can see the result "),ue=o(Yn,"A",{href:!0,rel:!0});var Ov=p(ue);Yf=c(Ov,"in the template repo"),Ov.forEach(a),Wf=c(Yn,". Now on with the testing"),Yn.forEach(a),jr=u(s),Ns=o(s,"P",{});var Pc=p(Ns);Kf=c(Pc,"Cookiecutter templates can, and should, be tested with "),Lo=o(Pc,"CODE",{});var Lv=p(Lo);Jf=c(Lv,"pytest-cookies"),Lv.forEach(a),Qf=c(Pc,"."),Pc.forEach(a),Sr=u(s),fe=o(s,"PRE",{class:!0});var Ew=p(fe);Ew.forEach(a),Cr=u(s),An=o(s,"P",{});var Nv=p(An);Xf=c(Nv,"The initial test is fairly simple, it merely checks the template is created"),Nv.forEach(a),Ar=u(s),de=o(s,"PRE",{class:!0});var gw=p(de);gw.forEach(a),Dr=u(s),qs=o(s,"P",{});var xc=p(qs);Zf=c(xc,"The pytest_cookies package injects a "),No=o(xc,"CODE",{});var qv=p(No);sd=c(qv,"cookies"),qv.forEach(a),ad=c(xc," fixture in all of your tests. It\u2019s a wrapper around cookiecutter, that makes it run in a private directory. The run returns an instance of the Result class, which includes pretty much all of the properties in the example above. Here I check the general gist of it and one of the generated files."),xc.forEach(a),Rr=u(s),L=o(s,"P",{});var Wn=p(L);ed=c(Wn,"Now it\u2019s simply a matter of going through each file and directory and seeing what can be parametrised and moved to "),qo=o(Wn,"CODE",{});var Fv=p(qo);nd=c(Fv,"cookiecutter.json"),Fv.forEach(a),td=c(Wn,". For example, replace the content of "),Fo=o(Wn,"CODE",{});var Bv=p(Fo);od=c(Bv,"/.python-version"),Bv.forEach(a),pd=c(Wn," with"),Wn.forEach(a),Hr=u(s),he=o(s,"PRE",{class:!0});var Iw=p(he);Iw.forEach(a),Mr=u(s),me=o(s,"P",{});var Wh=p(me);ld=c(Wh,"and then add it to the "),Bo=o(Wh,"CODE",{});var Uv=p(Bo);rd=c(Uv,"cookiecutter.json"),Uv.forEach(a),Wh.forEach(a),Or=u(s),ye=o(s,"PRE",{class:!0});var Pw=p(ye);Pw.forEach(a),Lr=u(s),Dn=o(s,"P",{});var zv=p(Dn);cd=c(zv,"and so on."),zv.forEach(a),Nr=u(s),Rn=o(s,"P",{});var Vv=p(Rn);id=c(Vv,"At the end of this step I\u2019m left with this directory tree"),Vv.forEach(a),qr=u(s),ve=o(s,"PRE",{class:!0});var xw=p(ve);xw.forEach(a),Fr=u(s),Fs=o(s,"P",{});var $c=p(Fs);kd=c($c,"And a "),Uo=o($c,"CODE",{});var Gv=p(Uo);ud=c(Gv,"cookiecutter.json"),Gv.forEach(a),fd=c($c," with"),$c.forEach(a),Br=u(s),be=o(s,"PRE",{class:!0});var $w=p(be);$w.forEach(a),Ur=u(s),Hn=o(s,"P",{});var Yv=p(Hn);dd=c(Yv,"I\u2019m not going to test every single value of course. I will, however, expand the existing test to add a couple more values that should go in the same file. But I can get slightly fancier."),Yv.forEach(a),zr=u(s),Bs=o(s,"H3",{id:!0});var Kh=p(Bs);Us=o(Kh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Wv=p(Us);zo=o(Wv,"SPAN",{class:!0}),p(zo).forEach(a),Wv.forEach(a),hd=c(Kh,"Automatically run tests in a generated cookiecutter template"),Kh.forEach(a),Vr=u(s),N=o(s,"P",{});var Kn=p(N);md=c(Kn,"First, I can test the generated files to see none of them have "),Vo=o(Kn,"CODE",{});var Kv=p(Vo);yd=c(Kv,"{{cookiecutter.xxxx}}"),Kv.forEach(a),vd=c(Kn," in them. That\u2019s pretty easy. The Result object gives me a Posix path of the root of the generated project. So I can just call its "),Go=o(Kn,"EM",{});var Jv=p(Go);bd=c(Jv,"glob"),Jv.forEach(a),_d=c(Kn," method to get the whole folder tree below it."),Kn.forEach(a),Gr=u(s),_e=o(s,"PRE",{class:!0});var Tw=p(_e);Tw.forEach(a),Yr=u(s),zs=o(s,"P",{});var Tc=p(zs);wd=c(Tc,"Second, I can run the project\u2019s own tests after it\u2019s generated. It doesn\u2019t get safer than that! Again, thanks to the magic of "),Yo=o(Tc,"EM",{});var Qv=p(Yo);Ed=c(Qv,"pytest-cookies"),Qv.forEach(a),gd=c(Tc," which generates the project in a sandboxed folder and then provides a Posix object of its location."),Tc.forEach(a),Wr=u(s),we=o(s,"PRE",{class:!0});var jw=p(we);jw.forEach(a),Kr=u(s),Mn=o(s,"P",{});var Xv=p(Mn);Id=c(Xv,"Almost there. Now I need to take care of the dynamically generated values."),Xv.forEach(a),Jr=u(s),Vs=o(s,"H3",{id:!0});var Jh=p(Vs);Gs=o(Jh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Zv=p(Gs);Wo=o(Zv,"SPAN",{class:!0}),p(Wo).forEach(a),Zv.forEach(a),Pd=c(Jh,"Using post generation hooks in Cookiecutter templates"),Jh.forEach(a),Qr=u(s),Ys=o(s,"P",{});var jc=p(Ys);xd=c(jc,"First the easy one. The "),Ko=o(jc,"CODE",{});var sb=p(Ko);$d=c(sb,".env"),sb.forEach(a),Td=c(jc," file need to include the path of the directory of the newly created project. I write a test for that"),jc.forEach(a),Xr=u(s),Ee=o(s,"PRE",{class:!0});var Sw=p(Ee);Sw.forEach(a),Zr=u(s),On=o(s,"P",{});var ab=p(On);jd=c(ab,"Luckily, the cwd is made available in cookiecutter as \u201D_output_dir\u201D. So the .env file in the template simply becomes"),ab.forEach(a),sc=u(s),ge=o(s,"PRE",{class:!0});var Cw=p(ge);Cw.forEach(a),ac=u(s),Ws=o(s,"P",{});var Sc=p(Ws);Sd=c(Sc,"Now the python executable path. This is tricky. It can only be run once the project is generated and "),Jo=o(Sc,"CODE",{});var eb=p(Jo);Cd=c(eb,"poetry install"),eb.forEach(a),Ad=c(Sc," has run. But then the cookiecutter variables will no longer be available. So I have to come up with my own replacement engine. Not too happy about that, but what the heck. It\u2019s only a small string fragment"),Sc.forEach(a),ec=u(s),Ks=o(s,"P",{});var Cc=p(Ks);Dd=c(Cc,"First I set up the json template. "),Qo=o(Cc,"CODE",{});var nb=p(Qo);Rd=c(nb,"<interpreter_path>"),nb.forEach(a),Hd=c(Cc," will be the variable I need to replace."),Cc.forEach(a),nc=u(s),Ie=o(s,"PRE",{class:!0});var Aw=p(Ie);Aw.forEach(a),tc=u(s),y=o(s,"P",{});var $=p(y);Md=c($,"And then the cookiecutter hook that installs the poetry dependencies, updates the settings file, and creates the first git commit. Cookiecutter offers two hooks: "),Xo=o($,"CODE",{});var tb=p(Xo);Od=c(tb,"pre_gen_project.sh"),tb.forEach(a),Ld=c($," and "),Zo=o($,"CODE",{});var ob=p(Zo);Nd=c(ob,"post_gen_project.sh"),ob.forEach(a),qd=c($,". Both live in the hooks directory and can be either python or shell scripts. "),sp=o($,"I",{});var pb=p(sp);Fd=c(pb,"pre_gen_project"),pb.forEach(a),Bd=c($," runs before generating the project. It is mostly used for validation. Since it cannot change the values loaded from "),ap=o($,"CODE",{});var lb=p(ap);Ud=c(lb,"cookiecutter.json"),lb.forEach(a),zd=c($," its usefulness is limited. "),ep=o($,"I",{});var rb=p(ep);Vd=c(rb,"post_gen_project"),rb.forEach(a),Gd=c($," runs after the build."),$.forEach(a),oc=u(s),q=o(s,"P",{});var Jn=p(q);Yd=c(Jn,"I will use the "),np=o(Jn,"EM",{});var cb=p(np);Wd=c(cb,"awk"),cb.forEach(a),Kd=c(Jn," command from early on to determine the location of the python executable. This will be then fed into a "),tp=o(Jn,"EM",{});var ib=p(tp);Jd=c(ib,"sed"),ib.forEach(a),Qd=c(Jn," command, which will replace the string in the json file. Sed and awk are similar CLI programs, they both are stream based. Meaning that you feed text into them, and they spit text out at the other end. One can manipulate text before it\u2019s spat out. But there is only one pass. Awk assumes the input text is spreadsheet-like, and tries to split it into columns. Then it gives access to the individual columns. Sed simply treats lines of text as lines, and allows to overwrite them before spitting them out again."),Jn.forEach(a),pc=u(s),Pe=o(s,"PRE",{class:!0});var Dw=p(Pe);Dw.forEach(a),lc=u(s),Js=o(s,"H2",{id:!0});var Qh=p(Js);Qs=o(Qh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var kb=p(Qs);op=o(kb,"SPAN",{class:!0}),p(op).forEach(a),kb.forEach(a),Xd=c(Qh,"Step 3: push to github and test"),Qh.forEach(a),rc=u(s),Ln=o(s,"P",{});var ub=p(Ln);Zd=c(ub,"The final test is to push the template to github and try to fetch it from there"),ub.forEach(a),cc=u(s),xe=o(s,"PRE",{class:!0});var Rw=p(xe);Rw.forEach(a),ic=u(s),Nn=o(s,"P",{});var fb=p(Nn);sh=c(fb,"And that\u2019s finally it. A basic Python project template. It\u2019s very bare - it has neither CLI framework nor DS tools nor a web server. Just the code quality tools and VSCode. But it\u2019s a starting point, and I\u2019ll be adding to it. Hope you find it useful."),fb.forEach(a),kc=u(s),Xs=o(s,"H2",{id:!0});var Xh=p(Xs);Zs=o(Xh,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var db=p(Zs);pp=o(db,"SPAN",{class:!0}),p(pp).forEach(a),db.forEach(a),ah=c(Xh,"Acknowledgements"),Xh.forEach(a),uc=u(s),sa=o(s,"P",{});var Ac=p(sa);eh=c(Ac,"Half way through writing this post I came across a very similar one from PythonCheatSheet: "),$e=o(Ac,"A",{href:!0,rel:!0});var hb=p($e);nh=c(hb,"https://www.pythoncheatsheet.org/blog/python-projects-with-poetry-and-vscode-part-2"),hb.forEach(a),th=c(Ac,". I carried on with mine, regardless."),Ac.forEach(a),fc=u(s),Te=o(s,"P",{});var Zh=p(Te);oh=c(Zh,"The awk command comes from SO, of course "),je=o(Zh,"A",{href:!0,rel:!0});var mb=p(je);ph=c(mb,"https://stackoverflow.com/questions/15331259/use-awk-to-find-first-occurrence-only-of-string-after-a-delimiter"),mb.forEach(a),Zh.forEach(a),dc=u(s),Se=o(s,"P",{});var sm=p(Se);lh=c(sm,"Discussion on how to fetch the executable path on the CLI for poetry env command "),Ce=o(sm,"A",{href:!0,rel:!0});var yb=p(Ce);rh=c(yb,"https://github.com/python-poetry/poetry/pull/731"),yb.forEach(a),sm.forEach(a),hc=u(s),Ae=o(s,"P",{});var am=p(Ae);ch=c(am,"More info on how the VSCode settings work "),De=o(am,"A",{href:!0,rel:!0});var vb=p(De);ih=c(vb,"https://stackoverflow.com/questions/53653083/how-to-correctly-set-pythonpath-for-visual-studio-code"),vb.forEach(a),am.forEach(a),mc=u(s),Re=o(s,"P",{});var em=p(Re);kh=c(em,"Pytest coverage and code layout "),He=o(em,"A",{href:!0,rel:!0});var bb=p(He);uh=c(bb,"https://browniebroke.com/blog/convert-existing-poetry-to-src-layout/"),bb.forEach(a),em.forEach(a),yc=u(s),Me=o(s,"P",{});var nm=p(Me);fh=c(nm,`The article that showed me about Flakeheaven
`),Oe=o(nm,"A",{href:!0,rel:!0});var _b=p(Oe);dh=c(_b,"https://dev.to/bowmanjd/using-flake8-and-pyproject-toml-with-flakehell-1cn1"),_b.forEach(a),nm.forEach(a),vc=u(s),Le=o(s,"P",{});var tm=p(Le);hh=c(tm,"A README file template "),Ne=o(tm,"A",{href:!0,rel:!0});var wb=p(Ne);mh=c(wb,"https://github.com/othneildrew/Best-README-Template/blob/master/CHANGELOG.md"),wb.forEach(a),tm.forEach(a),this.h()},h(){i(Qn,"class","icon icon-link"),i(B,"aria-hidden","true"),i(B,"tabindex","-1"),i(B,"href","#creating-a-python-project-from-scratch-how-boring"),i(j,"id","creating-a-python-project-from-scratch-how-boring"),i(ca,"href","https://plopjs.com/"),i(ca,"rel","nofollow"),i(ia,"href","https://cookiecutter.readthedocs.io/"),i(ia,"rel","nofollow"),i(Zn,"class","icon icon-link"),i(z,"aria-hidden","true"),i(z,"tabindex","-1"),i(z,"href","#tldr-heres-the-template"),i(U,"id","tldr-heres-the-template"),i(ka,"class","language-bash"),i(st,"class","icon icon-link"),i(G,"aria-hidden","true"),i(G,"tabindex","-1"),i(G,"href","#the-plan"),i(V,"id","the-plan"),i(tt,"class","icon icon-link"),i(W,"aria-hidden","true"),i(W,"tabindex","-1"),i(W,"href","#step-0-prerequisites"),i(Y,"id","step-0-prerequisites"),i(Be,"href","installing-python-on-mac-os-x-in-2022"),i(ua,"href","https://python-poetry.org/"),i(ua,"rel","nofollow"),i(fa,"href","https://cookiecutter.readthedocs.io/"),i(fa,"rel","nofollow"),i(ot,"class","icon icon-link"),i(J,"aria-hidden","true"),i(J,"tabindex","-1"),i(J,"href","#step-1-create-a-project-specimen"),i(K,"id","step-1-create-a-project-specimen"),i(pt,"class","icon icon-link"),i(X,"aria-hidden","true"),i(X,"tabindex","-1"),i(X,"href","#specimen-setup-poetry"),i(Q,"id","specimen-setup-poetry"),i(Ue,"href","/blog/installing-python-on-mac-os-x-in-2022"),i(da,"class","language-bash"),i(ha,"class","language-bash"),i(lt,"class","icon icon-link"),i(as,"aria-hidden","true"),i(as,"tabindex","-1"),i(as,"href","#specimen-setup-git"),i(ss,"id","specimen-setup-git"),i(ma,"class","language-bash"),i(it,"class","icon icon-link"),i(ns,"aria-hidden","true"),i(ns,"tabindex","-1"),i(ns,"href","#specimen-setup-initial-folder-structure"),i(es,"id","specimen-setup-initial-folder-structure"),i(ya,"class","language-bash"),i(dt,"class","icon icon-link"),i(os,"aria-hidden","true"),i(os,"tabindex","-1"),i(os,"href","#specimen-setup-wire-up-vscode-to-the-poetry-python-environment"),i(ts,"id","specimen-setup-wire-up-vscode-to-the-poetry-python-environment"),i(va,"class","language-bash"),i(ba,"class","language-bash"),i(f,"class","code-breakdown"),i(wa,"class","language-bash"),i(Ea,"class","language-json"),i(ga,"class","language-bash"),i(Gt,"class","icon icon-link"),i(ls,"aria-hidden","true"),i(ls,"tabindex","-1"),i(ls,"href","#specimen-setup-tests"),i(ps,"id","specimen-setup-tests"),i(Ia,"class","language-python"),i(Pa,"class","language-bash"),i(xa,"class","language-bash"),i($a,"class","language-toml"),i(Ta,"class","language-bash"),i(ja,"class","language-python"),i(Sa,"class","language-bash"),i(Aa,"class","language-toml"),i(Da,"class","language-bash"),i(Xt,"class","icon icon-link"),i(ks,"aria-hidden","true"),i(ks,"tabindex","-1"),i(ks,"href","#adding-a-faker-fixture-to-the-template"),i(is,"id","adding-a-faker-fixture-to-the-template"),i(Ra,"class","language-python"),i(Zt,"class","icon icon-link"),i(fs,"aria-hidden","true"),i(fs,"tabindex","-1"),i(fs,"href","#specimen-setup-makefile"),i(us,"id","specimen-setup-makefile"),i(Ha,"href","https://gist.github.com/gotofritz/62b58e89d2100448af5503940736bd1f"),i(Ha,"rel","nofollow"),i(Ma,"class","language-makefile"),i(Oa,"class","language-bash"),i(La,"class","language-bash"),i(so,"class","icon icon-link"),i(ms,"aria-hidden","true"),i(ms,"tabindex","-1"),i(ms,"href","#specimen-setup-formatting-with-black-and-isort"),i(hs,"id","specimen-setup-formatting-with-black-and-isort"),i(Na,"href","https://github.com/psf/black/issues/333#issuecomment-414123095"),i(Na,"rel","nofollow"),i(qa,"class","language-diff"),i(Fa,"class","language-bash"),i(Ba,"class","language-bash"),i(Ua,"class","language-diff"),i(za,"class","language-bash"),i(ro,"class","icon icon-link"),i(vs,"aria-hidden","true"),i(vs,"tabindex","-1"),i(vs,"href","#specimen-setup-add-flake8-and-plugins"),i(ys,"id","specimen-setup-add-flake8-and-plugins"),i(Va,"href","https://flakeheaven.readthedocs.io/"),i(Va,"rel","nofollow"),i(Ga,"href","https://github.com/flakeheaven/flakeheaven/issues/132"),i(Ga,"rel","nofollow"),i(Ya,"class","language-bash"),i(Wa,"class","language-diff"),i(Ka,"class","language-diff"),i(uo,"class","icon icon-link"),i(_s,"aria-hidden","true"),i(_s,"tabindex","-1"),i(_s,"href","#flake8-bandit"),i(bs,"id","flake8-bandit"),i(Ja,"class","language-bash"),i(Qa,"class","language-diff"),i(yo,"class","icon icon-link"),i(Es,"aria-hidden","true"),i(Es,"tabindex","-1"),i(Es,"href","#flake8-bugbear"),i(ws,"id","flake8-bugbear"),i(Xa,"class","language-bash"),i(Za,"class","language-diff"),i(vo,"class","icon icon-link"),i(Is,"aria-hidden","true"),i(Is,"tabindex","-1"),i(Is,"href","#darglint-and-flake8-docstrings"),i(gs,"id","darglint-and-flake8-docstrings"),i(se,"class","language-bash"),i(ae,"class","language-diff"),i(wo,"class","icon icon-link"),i(xs,"aria-hidden","true"),i(xs,"tabindex","-1"),i(xs,"href","#and-many-more"),i(Ps,"id","and-many-more"),i(ee,"class","language-bash"),i(ne,"class","language-diff"),i(Co,"class","icon icon-link"),i(js,"aria-hidden","true"),i(js,"tabindex","-1"),i(js,"href","#specimen-setup-safety"),i(Ts,"id","specimen-setup-safety"),i(te,"class","language-bash"),i(oe,"class","language-diff"),i(pe,"class","language-bash"),i(Ao,"class","icon icon-link"),i(Cs,"aria-hidden","true"),i(Cs,"tabindex","-1"),i(Cs,"href","#specimen-setup-mypy"),i(Ss,"id","specimen-setup-mypy"),i(le,"class","language-bash"),i(re,"class","language-diff"),i(ce,"class","language-diff"),i(ie,"class","language-bash"),i(Do,"class","icon icon-link"),i(Ds,"aria-hidden","true"),i(Ds,"tabindex","-1"),i(Ds,"href","#specimen-setup-readme-licence-and-static-documents"),i(As,"id","specimen-setup-readme-licence-and-static-documents"),i(Tn,"href","othneildrew/Best-README-Template"),i(Ho,"class","icon icon-link"),i(Ms,"aria-hidden","true"),i(Ms,"tabindex","-1"),i(Ms,"href","#step-2-creating-the-cookiecutter-template-from-the-specimen-project"),i(Hs,"id","step-2-creating-the-cookiecutter-template-from-the-specimen-project"),i(ke,"class","language-bash"),i(Mo,"class","icon icon-link"),i(Ls,"aria-hidden","true"),i(Ls,"tabindex","-1"),i(Ls,"href","#testing-a-cookiecutter-template-with-pytest-cookies"),i(Os,"id","testing-a-cookiecutter-template-with-pytest-cookies"),i(ue,"href","https://github.com/gotofritz/cookiecutter-gotofritz-poetry"),i(ue,"rel","nofollow"),i(fe,"class","language-bash"),i(de,"class","language-python"),i(he,"class","language-json"),i(ye,"class","language-json"),i(ve,"class","language-bash"),i(be,"class","language-json"),i(zo,"class","icon icon-link"),i(Us,"aria-hidden","true"),i(Us,"tabindex","-1"),i(Us,"href","#automatically-run-tests-in-a-generated-cookiecutter-template"),i(Bs,"id","automatically-run-tests-in-a-generated-cookiecutter-template"),i(_e,"class","language-python"),i(we,"class","language-python"),i(Wo,"class","icon icon-link"),i(Gs,"aria-hidden","true"),i(Gs,"tabindex","-1"),i(Gs,"href","#using-post-generation-hooks-in-cookiecutter-templates"),i(Vs,"id","using-post-generation-hooks-in-cookiecutter-templates"),i(Ee,"class","language-python"),i(ge,"class","language-sh"),i(Ie,"class","language-diff"),i(Pe,"class","language-bash"),i(op,"class","icon icon-link"),i(Qs,"aria-hidden","true"),i(Qs,"tabindex","-1"),i(Qs,"href","#step-3-push-to-github-and-test"),i(Js,"id","step-3-push-to-github-and-test"),i(xe,"class","language-bash"),i(pp,"class","icon icon-link"),i(Zs,"aria-hidden","true"),i(Zs,"tabindex","-1"),i(Zs,"href","#acknowledgements"),i(Xs,"id","acknowledgements"),i($e,"href","https://www.pythoncheatsheet.org/blog/python-projects-with-poetry-and-vscode-part-2"),i($e,"rel","nofollow"),i(je,"href","https://stackoverflow.com/questions/15331259/use-awk-to-find-first-occurrence-only-of-string-after-a-delimiter"),i(je,"rel","nofollow"),i(Ce,"href","https://github.com/python-poetry/poetry/pull/731"),i(Ce,"rel","nofollow"),i(De,"href","https://stackoverflow.com/questions/53653083/how-to-correctly-set-pythonpath-for-visual-studio-code"),i(De,"rel","nofollow"),i(He,"href","https://browniebroke.com/blog/convert-existing-poetry-to-src-layout/"),i(He,"rel","nofollow"),i(Oe,"href","https://dev.to/bowmanjd/using-flake8-and-pyproject-toml-with-flakehell-1cn1"),i(Oe,"rel","nofollow"),i(Ne,"href","https://github.com/othneildrew/Best-README-Template/blob/master/CHANGELOG.md"),i(Ne,"rel","nofollow")},m(s,n){l(s,j,n),e(j,B),e(B,Qn),e(j,Dc),l(s,cp,n),l(s,_,n),e(_,Rc),e(_,ca),e(ca,Hc),e(_,Mc),e(_,ia),e(ia,Oc),e(_,Lc),e(_,Xn),e(Xn,Nc),e(_,qc),l(s,ip,n),l(s,U,n),e(U,z),e(z,Zn),e(U,Fc),l(s,kp,n),l(s,qe,n),e(qe,Bc),l(s,up,n),l(s,ka,n),ka.innerHTML=gb,l(s,fp,n),l(s,V,n),e(V,G),e(G,st),e(V,Uc),l(s,dp,n),l(s,Fe,n),e(Fe,zc),l(s,hp,n),l(s,S,n),e(S,at),e(at,Vc),e(S,Gc),e(S,et),e(et,Yc),e(S,Wc),e(S,nt),e(nt,Kc),l(s,mp,n),l(s,Y,n),e(Y,W),e(W,tt),e(Y,Jc),l(s,yp,n),l(s,w,n),e(w,Qc),e(w,Be),e(Be,Xc),e(w,Zc),e(w,ua),e(ua,si),e(w,ai),e(w,fa),e(fa,ei),e(w,ni),l(s,vp,n),l(s,K,n),e(K,J),e(J,ot),e(K,ti),l(s,bp,n),l(s,Q,n),e(Q,X),e(X,pt),e(Q,oi),l(s,_p,n),l(s,Z,n),e(Z,pi),e(Z,Ue),e(Ue,li),e(Z,ri),l(s,wp,n),l(s,da,n),da.innerHTML=Ib,l(s,Ep,n),l(s,ze,n),e(ze,ci),l(s,gp,n),l(s,ha,n),ha.innerHTML=Pb,l(s,Ip,n),l(s,ss,n),e(ss,as),e(as,lt),e(ss,ii),l(s,Pp,n),l(s,C,n),e(C,ki),e(C,rt),e(rt,ui),e(C,fi),e(C,ct),e(ct,di),e(C,hi),l(s,xp,n),l(s,ma,n),ma.innerHTML=xb,l(s,$p,n),l(s,es,n),e(es,ns),e(ns,it),e(es,mi),l(s,Tp,n),l(s,E,n),e(E,yi),e(E,kt),e(kt,vi),e(E,bi),e(E,ut),e(ut,_i),e(E,wi),e(E,ft),e(ft,Ei),e(E,gi),l(s,jp,n),l(s,ya,n),ya.innerHTML=$b,l(s,Sp,n),l(s,ts,n),e(ts,os),e(os,dt),e(ts,Ii),l(s,Cp,n),l(s,A,n),e(A,Pi),e(A,ht),e(ht,xi),e(A,$i),e(A,mt),e(mt,Ti),e(A,ji),l(s,Ap,n),l(s,va,n),va.innerHTML=Tb,l(s,Dp,n),l(s,g,n),e(g,Si),e(g,yt),e(yt,Ci),e(g,Ai),e(g,vt),e(vt,Di),e(g,Ri),e(g,bt),e(bt,Hi),e(g,Mi),l(s,Rp,n),l(s,ba,n),ba.innerHTML=jb,l(s,Hp,n),l(s,Ve,n),e(Ve,Oi),l(s,Mp,n),l(s,f,n),e(f,_t),e(_t,Li),e(f,wt),e(wt,Ni),e(f,Et),e(Et,qi),e(f,gt),e(gt,Fi),e(f,It),e(It,Bi),e(f,Pt),e(Pt,Ui),e(f,xt),e(xt,zi),e(f,$t),e($t,Vi),e(f,Tt),e(Tt,Gi),e(f,jt),e(jt,Yi),e(f,St),e(St,Wi),e(f,T),e(T,Ki),e(T,Ct),e(Ct,Ji),e(T,Qi),e(T,At),e(At,Xi),e(T,Zi),e(T,Dt),e(Dt,sk),e(T,ak),e(f,Rt),e(Rt,ek),e(f,_a),e(_a,nk),e(_a,Ht),e(Ht,tk),e(_a,ok),e(f,Mt),e(Mt,pk),e(f,Ot),e(Ot,lk),e(f,Lt),e(Lt,rk),e(f,Nt),e(Nt,ck),l(s,Op,n),l(s,D,n),e(D,ik),e(D,qt),e(qt,kk),e(D,uk),e(D,Ft),e(Ft,fk),e(D,dk),l(s,Lp,n),l(s,wa,n),wa.innerHTML=Sb,l(s,Np,n),l(s,Ge,n),e(Ge,hk),l(s,qp,n),l(s,Ye,n),e(Ye,Bt),e(Bt,mk),l(s,Fp,n),l(s,Ea,n),Ea.innerHTML=Cb,l(s,Bp,n),l(s,We,n),e(We,yk),l(s,Up,n),l(s,ga,n),ga.innerHTML=Ab,l(s,zp,n),l(s,I,n),e(I,vk),e(I,Ut),e(Ut,bk),e(I,_k),e(I,zt),e(zt,wk),e(I,Ek),e(I,Vt),e(Vt,gk),e(I,Ik),l(s,Vp,n),l(s,ps,n),e(ps,ls),e(ls,Gt),e(ps,Pk),l(s,Gp,n),l(s,Ke,n),e(Ke,xk),l(s,Yp,n),l(s,Ia,n),Ia.innerHTML=Db,l(s,Wp,n),l(s,Je,n),e(Je,$k),l(s,Kp,n),l(s,Pa,n),Pa.innerHTML=Rb,l(s,Jp,n),l(s,Qe,n),e(Qe,Tk),l(s,Qp,n),l(s,xa,n),xa.innerHTML=Hb,l(s,Xp,n),l(s,rs,n),e(rs,jk),e(rs,Yt),e(Yt,Sk),e(rs,Ck),l(s,Zp,n),l(s,$a,n),$a.innerHTML=Mb,l(s,sl,n),l(s,cs,n),e(cs,Ak),e(cs,Wt),e(Wt,Dk),e(cs,Rk),l(s,al,n),l(s,Ta,n),Ta.innerHTML=Ob,l(s,el,n),l(s,Xe,n),e(Xe,Hk),l(s,nl,n),l(s,ja,n),ja.innerHTML=Lb,l(s,tl,n),l(s,R,n),e(R,Mk),e(R,Kt),e(Kt,Ok),e(R,Lk),e(R,Jt),e(Jt,Nk),e(R,qk),l(s,ol,n),l(s,Sa,n),Sa.innerHTML=Nb,l(s,pl,n),l(s,Ca,n),e(Ca,Fk),e(Ca,Qt),e(Qt,Bk),l(s,ll,n),l(s,Aa,n),Aa.innerHTML=qb,l(s,rl,n),l(s,Ze,n),e(Ze,Uk),l(s,cl,n),l(s,Da,n),Da.innerHTML=Fb,l(s,il,n),l(s,is,n),e(is,ks),e(ks,Xt),e(is,zk),l(s,kl,n),l(s,sn,n),e(sn,Vk),l(s,ul,n),l(s,Ra,n),Ra.innerHTML=Bb,l(s,fl,n),l(s,us,n),e(us,fs),e(fs,Zt),e(us,Gk),l(s,dl,n),l(s,ds,n),e(ds,Yk),e(ds,Ha),e(Ha,Wk),e(ds,Kk),l(s,hl,n),l(s,Ma,n),Ma.innerHTML=Ub,l(s,ml,n),l(s,an,n),e(an,Jk),l(s,yl,n),l(s,Oa,n),Oa.innerHTML=zb,l(s,vl,n),l(s,en,n),e(en,Qk),l(s,bl,n),l(s,La,n),La.innerHTML=Vb,l(s,_l,n),l(s,hs,n),e(hs,ms),e(ms,so),e(hs,Xk),l(s,wl,n),l(s,H,n),e(H,Zk),e(H,ao),e(ao,su),e(H,au),e(H,Na),e(Na,eu),e(H,nu),l(s,El,n),l(s,nn,n),e(nn,tu),l(s,gl,n),l(s,qa,n),qa.innerHTML=Gb,l(s,Il,n),l(s,tn,n),e(tn,ou),l(s,Pl,n),l(s,Fa,n),Fa.innerHTML=Yb,l(s,xl,n),l(s,m,n),e(m,eo),e(eo,pu),e(m,lu),e(m,no),e(no,ru),e(m,cu),e(m,to),e(to,iu),e(m,ku),e(m,oo),e(oo,uu),e(m,fu),e(m,po),e(po,du),e(m,hu),e(m,lo),e(lo,mu),e(m,yu),l(s,$l,n),l(s,Ba,n),Ba.innerHTML=Wb,l(s,Tl,n),l(s,on,n),e(on,vu),l(s,jl,n),l(s,Ua,n),Ua.innerHTML=Kb,l(s,Sl,n),l(s,pn,n),e(pn,bu),l(s,Cl,n),l(s,za,n),za.innerHTML=Jb,l(s,Al,n),l(s,ys,n),e(ys,vs),e(vs,ro),e(ys,_u),l(s,Dl,n),l(s,M,n),e(M,wu),e(M,Va),e(Va,Eu),e(M,gu),e(M,Ga),e(Ga,Iu),e(M,Pu),l(s,Rl,n),l(s,Ya,n),Ya.innerHTML=Qb,l(s,Hl,n),l(s,P,n),e(P,xu),e(P,co),e(co,$u),e(P,Tu),e(P,io),e(io,ju),e(P,Su),e(P,ko),e(ko,Cu),e(P,Au),l(s,Ml,n),l(s,Wa,n),Wa.innerHTML=Xb,l(s,Ol,n),l(s,ln,n),e(ln,Du),l(s,Ll,n),l(s,Ka,n),Ka.innerHTML=Zb,l(s,Nl,n),l(s,rn,n),e(rn,Ru),l(s,ql,n),l(s,bs,n),e(bs,_s),e(_s,uo),e(bs,Hu),l(s,Fl,n),l(s,cn,n),e(cn,Mu),l(s,Bl,n),l(s,Ja,n),Ja.innerHTML=s_,l(s,Ul,n),l(s,x,n),e(x,Ou),e(x,fo),e(fo,Lu),e(x,Nu),e(x,ho),e(ho,qu),e(x,Fu),e(x,mo),e(mo,Bu),e(x,Uu),l(s,zl,n),l(s,Qa,n),Qa.innerHTML=a_,l(s,Vl,n),l(s,ws,n),e(ws,Es),e(Es,yo),e(ws,zu),l(s,Gl,n),l(s,kn,n),e(kn,Vu),l(s,Yl,n),l(s,Xa,n),Xa.innerHTML=e_,l(s,Wl,n),l(s,un,n),e(un,Gu),l(s,Kl,n),l(s,Za,n),Za.innerHTML=n_,l(s,Jl,n),l(s,gs,n),e(gs,Is),e(Is,vo),e(gs,Yu),l(s,Ql,n),l(s,F,n),e(F,bo),e(bo,Wu),e(F,Ku),e(F,_o),e(_o,Ju),e(F,Qu),l(s,Xl,n),l(s,se,n),se.innerHTML=t_,l(s,Zl,n),l(s,ae,n),ae.innerHTML=o_,l(s,sr,n),l(s,Ps,n),e(Ps,xs),e(xs,wo),e(Ps,Xu),l(s,ar,n),l(s,d,n),e(d,fn),e(fn,Eo),e(Eo,Zu),e(fn,sf),e(d,af),e(d,dn),e(dn,go),e(go,ef),e(dn,nf),e(d,tf),e(d,hn),e(hn,Io),e(Io,of),e(hn,pf),e(d,lf),e(d,$s),e($s,Po),e(Po,rf),e($s,cf),e($s,xo),e(xo,kf),e($s,uf),e(d,ff),e(d,mn),e(mn,$o),e($o,df),e(mn,hf),e(d,mf),e(d,yn),e(yn,To),e(To,yf),e(yn,vf),e(d,bf),e(d,vn),e(vn,jo),e(jo,_f),e(vn,wf),e(d,Ef),e(d,bn),e(bn,So),e(So,gf),e(bn,If),l(s,er,n),l(s,ee,n),ee.innerHTML=p_,l(s,nr,n),l(s,ne,n),ne.innerHTML=l_,l(s,tr,n),l(s,Ts,n),e(Ts,js),e(js,Co),e(Ts,Pf),l(s,or,n),l(s,_n,n),e(_n,xf),l(s,pr,n),l(s,te,n),te.innerHTML=r_,l(s,lr,n),l(s,wn,n),e(wn,$f),l(s,rr,n),l(s,oe,n),oe.innerHTML=c_,l(s,cr,n),l(s,pe,n),pe.innerHTML=i_,l(s,ir,n),l(s,Ss,n),e(Ss,Cs),e(Cs,Ao),e(Ss,Tf),l(s,kr,n),l(s,En,n),e(En,jf),l(s,ur,n),l(s,le,n),le.innerHTML=k_,l(s,fr,n),l(s,gn,n),e(gn,Sf),l(s,dr,n),l(s,re,n),re.innerHTML=u_,l(s,hr,n),l(s,In,n),e(In,Cf),l(s,mr,n),l(s,ce,n),ce.innerHTML=f_,l(s,yr,n),l(s,Pn,n),e(Pn,Af),l(s,vr,n),l(s,ie,n),ie.innerHTML=d_,l(s,br,n),l(s,As,n),e(As,Ds),e(Ds,Do),e(As,Df),l(s,_r,n),l(s,xn,n),e(xn,Rf),l(s,wr,n),l(s,Rs,n),e(Rs,$n),e($n,Hf),e($n,Tn),e(Tn,Mf),e(Rs,Of),e(Rs,Ro),e(Ro,Lf),l(s,Er,n),l(s,jn,n),e(jn,Nf),l(s,gr,n),l(s,Hs,n),e(Hs,Ms),e(Ms,Ho),e(Hs,qf),l(s,Ir,n),l(s,Sn,n),e(Sn,Ff),l(s,Pr,n),l(s,ke,n),ke.innerHTML=h_,l(s,xr,n),l(s,Cn,n),e(Cn,Bf),l(s,$r,n),l(s,Os,n),e(Os,Ls),e(Ls,Mo),e(Os,Uf),l(s,Tr,n),l(s,O,n),e(O,zf),e(O,Oo),e(Oo,Vf),e(O,Gf),e(O,ue),e(ue,Yf),e(O,Wf),l(s,jr,n),l(s,Ns,n),e(Ns,Kf),e(Ns,Lo),e(Lo,Jf),e(Ns,Qf),l(s,Sr,n),l(s,fe,n),fe.innerHTML=m_,l(s,Cr,n),l(s,An,n),e(An,Xf),l(s,Ar,n),l(s,de,n),de.innerHTML=y_,l(s,Dr,n),l(s,qs,n),e(qs,Zf),e(qs,No),e(No,sd),e(qs,ad),l(s,Rr,n),l(s,L,n),e(L,ed),e(L,qo),e(qo,nd),e(L,td),e(L,Fo),e(Fo,od),e(L,pd),l(s,Hr,n),l(s,he,n),he.innerHTML=v_,l(s,Mr,n),l(s,me,n),e(me,ld),e(me,Bo),e(Bo,rd),l(s,Or,n),l(s,ye,n),ye.innerHTML=b_,l(s,Lr,n),l(s,Dn,n),e(Dn,cd),l(s,Nr,n),l(s,Rn,n),e(Rn,id),l(s,qr,n),l(s,ve,n),ve.innerHTML=__,l(s,Fr,n),l(s,Fs,n),e(Fs,kd),e(Fs,Uo),e(Uo,ud),e(Fs,fd),l(s,Br,n),l(s,be,n),be.innerHTML=w_,l(s,Ur,n),l(s,Hn,n),e(Hn,dd),l(s,zr,n),l(s,Bs,n),e(Bs,Us),e(Us,zo),e(Bs,hd),l(s,Vr,n),l(s,N,n),e(N,md),e(N,Vo),e(Vo,yd),e(N,vd),e(N,Go),e(Go,bd),e(N,_d),l(s,Gr,n),l(s,_e,n),_e.innerHTML=E_,l(s,Yr,n),l(s,zs,n),e(zs,wd),e(zs,Yo),e(Yo,Ed),e(zs,gd),l(s,Wr,n),l(s,we,n),we.innerHTML=g_,l(s,Kr,n),l(s,Mn,n),e(Mn,Id),l(s,Jr,n),l(s,Vs,n),e(Vs,Gs),e(Gs,Wo),e(Vs,Pd),l(s,Qr,n),l(s,Ys,n),e(Ys,xd),e(Ys,Ko),e(Ko,$d),e(Ys,Td),l(s,Xr,n),l(s,Ee,n),Ee.innerHTML=I_,l(s,Zr,n),l(s,On,n),e(On,jd),l(s,sc,n),l(s,ge,n),ge.innerHTML=P_,l(s,ac,n),l(s,Ws,n),e(Ws,Sd),e(Ws,Jo),e(Jo,Cd),e(Ws,Ad),l(s,ec,n),l(s,Ks,n),e(Ks,Dd),e(Ks,Qo),e(Qo,Rd),e(Ks,Hd),l(s,nc,n),l(s,Ie,n),Ie.innerHTML=x_,l(s,tc,n),l(s,y,n),e(y,Md),e(y,Xo),e(Xo,Od),e(y,Ld),e(y,Zo),e(Zo,Nd),e(y,qd),e(y,sp),e(sp,Fd),e(y,Bd),e(y,ap),e(ap,Ud),e(y,zd),e(y,ep),e(ep,Vd),e(y,Gd),l(s,oc,n),l(s,q,n),e(q,Yd),e(q,np),e(np,Wd),e(q,Kd),e(q,tp),e(tp,Jd),e(q,Qd),l(s,pc,n),l(s,Pe,n),Pe.innerHTML=$_,l(s,lc,n),l(s,Js,n),e(Js,Qs),e(Qs,op),e(Js,Xd),l(s,rc,n),l(s,Ln,n),e(Ln,Zd),l(s,cc,n),l(s,xe,n),xe.innerHTML=T_,l(s,ic,n),l(s,Nn,n),e(Nn,sh),l(s,kc,n),l(s,Xs,n),e(Xs,Zs),e(Zs,pp),e(Xs,ah),l(s,uc,n),l(s,sa,n),e(sa,eh),e(sa,$e),e($e,nh),e(sa,th),l(s,fc,n),l(s,Te,n),e(Te,oh),e(Te,je),e(je,ph),l(s,dc,n),l(s,Se,n),e(Se,lh),e(Se,Ce),e(Ce,rh),l(s,hc,n),l(s,Ae,n),e(Ae,ch),e(Ae,De),e(De,ih),l(s,mc,n),l(s,Re,n),e(Re,kh),e(Re,He),e(He,uh),l(s,yc,n),l(s,Me,n),e(Me,fh),e(Me,Oe),e(Oe,dh),l(s,vc,n),l(s,Le,n),e(Le,hh),e(Le,Ne),e(Ne,mh)},p:om,i:om,o:om,d(s){s&&a(j),s&&a(cp),s&&a(_),s&&a(ip),s&&a(U),s&&a(kp),s&&a(qe),s&&a(up),s&&a(ka),s&&a(fp),s&&a(V),s&&a(dp),s&&a(Fe),s&&a(hp),s&&a(S),s&&a(mp),s&&a(Y),s&&a(yp),s&&a(w),s&&a(vp),s&&a(K),s&&a(bp),s&&a(Q),s&&a(_p),s&&a(Z),s&&a(wp),s&&a(da),s&&a(Ep),s&&a(ze),s&&a(gp),s&&a(ha),s&&a(Ip),s&&a(ss),s&&a(Pp),s&&a(C),s&&a(xp),s&&a(ma),s&&a($p),s&&a(es),s&&a(Tp),s&&a(E),s&&a(jp),s&&a(ya),s&&a(Sp),s&&a(ts),s&&a(Cp),s&&a(A),s&&a(Ap),s&&a(va),s&&a(Dp),s&&a(g),s&&a(Rp),s&&a(ba),s&&a(Hp),s&&a(Ve),s&&a(Mp),s&&a(f),s&&a(Op),s&&a(D),s&&a(Lp),s&&a(wa),s&&a(Np),s&&a(Ge),s&&a(qp),s&&a(Ye),s&&a(Fp),s&&a(Ea),s&&a(Bp),s&&a(We),s&&a(Up),s&&a(ga),s&&a(zp),s&&a(I),s&&a(Vp),s&&a(ps),s&&a(Gp),s&&a(Ke),s&&a(Yp),s&&a(Ia),s&&a(Wp),s&&a(Je),s&&a(Kp),s&&a(Pa),s&&a(Jp),s&&a(Qe),s&&a(Qp),s&&a(xa),s&&a(Xp),s&&a(rs),s&&a(Zp),s&&a($a),s&&a(sl),s&&a(cs),s&&a(al),s&&a(Ta),s&&a(el),s&&a(Xe),s&&a(nl),s&&a(ja),s&&a(tl),s&&a(R),s&&a(ol),s&&a(Sa),s&&a(pl),s&&a(Ca),s&&a(ll),s&&a(Aa),s&&a(rl),s&&a(Ze),s&&a(cl),s&&a(Da),s&&a(il),s&&a(is),s&&a(kl),s&&a(sn),s&&a(ul),s&&a(Ra),s&&a(fl),s&&a(us),s&&a(dl),s&&a(ds),s&&a(hl),s&&a(Ma),s&&a(ml),s&&a(an),s&&a(yl),s&&a(Oa),s&&a(vl),s&&a(en),s&&a(bl),s&&a(La),s&&a(_l),s&&a(hs),s&&a(wl),s&&a(H),s&&a(El),s&&a(nn),s&&a(gl),s&&a(qa),s&&a(Il),s&&a(tn),s&&a(Pl),s&&a(Fa),s&&a(xl),s&&a(m),s&&a($l),s&&a(Ba),s&&a(Tl),s&&a(on),s&&a(jl),s&&a(Ua),s&&a(Sl),s&&a(pn),s&&a(Cl),s&&a(za),s&&a(Al),s&&a(ys),s&&a(Dl),s&&a(M),s&&a(Rl),s&&a(Ya),s&&a(Hl),s&&a(P),s&&a(Ml),s&&a(Wa),s&&a(Ol),s&&a(ln),s&&a(Ll),s&&a(Ka),s&&a(Nl),s&&a(rn),s&&a(ql),s&&a(bs),s&&a(Fl),s&&a(cn),s&&a(Bl),s&&a(Ja),s&&a(Ul),s&&a(x),s&&a(zl),s&&a(Qa),s&&a(Vl),s&&a(ws),s&&a(Gl),s&&a(kn),s&&a(Yl),s&&a(Xa),s&&a(Wl),s&&a(un),s&&a(Kl),s&&a(Za),s&&a(Jl),s&&a(gs),s&&a(Ql),s&&a(F),s&&a(Xl),s&&a(se),s&&a(Zl),s&&a(ae),s&&a(sr),s&&a(Ps),s&&a(ar),s&&a(d),s&&a(er),s&&a(ee),s&&a(nr),s&&a(ne),s&&a(tr),s&&a(Ts),s&&a(or),s&&a(_n),s&&a(pr),s&&a(te),s&&a(lr),s&&a(wn),s&&a(rr),s&&a(oe),s&&a(cr),s&&a(pe),s&&a(ir),s&&a(Ss),s&&a(kr),s&&a(En),s&&a(ur),s&&a(le),s&&a(fr),s&&a(gn),s&&a(dr),s&&a(re),s&&a(hr),s&&a(In),s&&a(mr),s&&a(ce),s&&a(yr),s&&a(Pn),s&&a(vr),s&&a(ie),s&&a(br),s&&a(As),s&&a(_r),s&&a(xn),s&&a(wr),s&&a(Rs),s&&a(Er),s&&a(jn),s&&a(gr),s&&a(Hs),s&&a(Ir),s&&a(Sn),s&&a(Pr),s&&a(ke),s&&a(xr),s&&a(Cn),s&&a($r),s&&a(Os),s&&a(Tr),s&&a(O),s&&a(jr),s&&a(Ns),s&&a(Sr),s&&a(fe),s&&a(Cr),s&&a(An),s&&a(Ar),s&&a(de),s&&a(Dr),s&&a(qs),s&&a(Rr),s&&a(L),s&&a(Hr),s&&a(he),s&&a(Mr),s&&a(me),s&&a(Or),s&&a(ye),s&&a(Lr),s&&a(Dn),s&&a(Nr),s&&a(Rn),s&&a(qr),s&&a(ve),s&&a(Fr),s&&a(Fs),s&&a(Br),s&&a(be),s&&a(Ur),s&&a(Hn),s&&a(zr),s&&a(Bs),s&&a(Vr),s&&a(N),s&&a(Gr),s&&a(_e),s&&a(Yr),s&&a(zs),s&&a(Wr),s&&a(we),s&&a(Kr),s&&a(Mn),s&&a(Jr),s&&a(Vs),s&&a(Qr),s&&a(Ys),s&&a(Xr),s&&a(Ee),s&&a(Zr),s&&a(On),s&&a(sc),s&&a(ge),s&&a(ac),s&&a(Ws),s&&a(ec),s&&a(Ks),s&&a(nc),s&&a(Ie),s&&a(tc),s&&a(y),s&&a(oc),s&&a(q),s&&a(pc),s&&a(Pe),s&&a(lc),s&&a(Js),s&&a(rc),s&&a(Ln),s&&a(cc),s&&a(xe),s&&a(ic),s&&a(Nn),s&&a(kc),s&&a(Xs),s&&a(uc),s&&a(sa),s&&a(fc),s&&a(Te),s&&a(dc),s&&a(Se),s&&a(hc),s&&a(Ae),s&&a(mc),s&&a(Re),s&&a(yc),s&&a(Me),s&&a(vc),s&&a(Le)}}}const qw={excerpt:`The python toolchain I use for my small projects doesn't change very often. It makes sense to save it somewhere and the then replicate it whenever I start a project. Or even better, use <a href="https://cookiecutter.readthedocs.io/">cookiecutter</a> and a config file to generate it.`,date:"2022-09-12T00:00:00.000Z",draft:!1,archived:!1,title:"Poetry-driven python project template with cookiecutter",tags:["python"]};class Fw extends Hw{constructor(j){super(),Mw(this,j,null,Lw,Ow,{})}}export{Fw as default,qw as metadata};
